<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>Finecloud</title>
    <link href="https://www.finecloud.ch/feed.xml" rel="self" />
    <link href="https://www.finecloud.ch" />
    <updated>2023-02-14T09:20:08+01:00</updated>
    <author>
        <name>Finecloud</name>
    </author>
    <id>https://www.finecloud.ch</id>

    <entry>
        <title>Conventional commits</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/conventional-commits.html"/>
        <id>https://www.finecloud.ch/conventional-commits.html</id>
            <category term="software development"/>
            <category term="git"/>
            <category term="dev"/>

        <updated>2023-02-14T09:20:08+01:00</updated>
            <summary>
                <![CDATA[
                    What are Conventional commits Conventional Commits is a convention for writing commit messages that provides structure and consistency to a project's version control history. It's based on the idea of defining a standard format for commit messages that makes it easier for developers to understand&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gp7g3b0bbq">What are Conventional commits</a></li>
<li><a href="#mcetoc_1gp7g3b0bbr">Why should you use Conventional commits</a></li>
<li><a href="#mcetoc_1gp7g3b0bbs">Example</a>
<ul>
<li><a href="#mcetoc_1gp7g3b0bbt">multiline commit messages</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1gp7g3b0bbq">What are Conventional commits</h2>
<p>Conventional Commits is a convention for writing commit messages that provides structure and consistency to a project's version control history. It's based on the idea of defining a standard format for commit messages that makes it easier for developers to understand the changes made to a codebase over time.</p>
<p><a href="https://www.conventionalcommits.org/en/v1.0.0/#specification">https://www.conventionalcommits.org/en/v1.0.0/#specification</a></p>
<h2 id="mcetoc_1gp7g3b0bbr">Why should you use Conventional commits</h2>
<ul>
<li>Improving collaboration: Having a clear, concise and standardized way of writing commit messages helps everyone on the team understand what changes were made and why. This can improve collaboration and reduce the time spent discussing changes.</li>
<li>Better automated versioning: Conventional Commits provides a way to automate versioning and release management by using the commit messages to determine the type and scope of changes. This can save time and improve accuracy compared to manually managing versions.</li>
<li>Improved documentation: Commit messages can serve as a form of documentation, providing insight into the motivations and thought process behind changes. By using Conventional Commits, this documentation is more consistent and easier to understand.</li>
</ul>
<h2 id="mcetoc_1gp7g3b0bbs">Example</h2>
<p>Here's an example of a Conventional Commit message:<br><br><code>feat(parser): add ability to parse hexadecimal numbers</code><br><br><code>This commit adds the ability to parse hexadecimal numbers, allowing for a wider range of input options.</code><br><br>In this example, "feat" is the type of change being made (a new feature), "parser" is the scope of the change (the parser component), and the rest of the message provides a brief description of the change. The Conventional Commits specification defines a number of different types (e.g. "feat", "fix", "docs") and provides guidelines for how to use them.</p>
<h3 id="mcetoc_1gp7g3b0bbt">multiline commit messages</h3>
<p>how do you make multiline commit messages like these? how do you add an optional body or optional footer in a conventional Commit message?<br><br>Multiline commit messages are written by adding a blank line between the subject (first line) and the body (or footer). The subject should be a single line of text that summarizes the change and should not exceed 50 characters. If a more detailed explanation is needed, it can be added in the body.<br><br>Here's an example of a multiline Conventional Commit message:<br><br><code>feat(parser): add ability to parse hexadecimal numbers</code><br><br><code>This commit adds the ability to parse hexadecimal numbers, allowing for a wider range of input options. The new feature has been thoroughly tested and is now ready for use.</code><br><br>An optional footer can also be added to Conventional Commit messages for extra information, such as breaking changes, references to related issues, or other meta-information. The footer should start with a new line and should be separated from the body by a double line break. Here's an example with a footer:<br><br><code>feat(parser): add ability to parse hexadecimal numbers</code><br><br><code>This commit adds the ability to parse hexadecimal numbers, allowing for a wider range of input options. The new feature has been thoroughly tested and is now ready for use.</code><br><br><code>BREAKING CHANGE: The previous version of the parser only supported decimal numbers, so this change may break compatibility with existing code that uses the parser.</code><br><br>It's worth noting that not all Conventional Commit tools and systems require or make use of the body or footer. The most important aspect is the subject line, as it provides a concise summary of the change. The body and footer are optional and should be used as needed to provide additional context and information.<br><br>Here's an example of a Conventional Commit message with a body and footer, using the git commit command with the -m option:<br><br><code>$ git commit -m "feat(parser): add ability to parse hexadecimal numbers</code><br><br><code>This commit adds the ability to parse hexadecimal numbers, allowing for a wider range of input options. The new feature has been thoroughly tested and is now ready for use.</code><br><br><code>BREAKING CHANGE: The previous version of the parser only supported decimal numbers, so this change may break compatibility with existing code that uses the parser.</code><br><br><code>Closes #123"</code><br><br>In this example, the subject is "feat(parser): add ability to parse hexadecimal numbers", the body is "This commit adds the ability to parse hexadecimal numbers, allowing for a wider range of input options. The new feature has been thoroughly tested and is now ready for use.", and the footer is "BREAKING CHANGE: The previous version of the parser only supported decimal numbers, so this change may break compatibility with existing code that uses the parser. Closes #123". The "Closes #123" part of the footer is an example of a reference to a related issue, indicating that this commit resolves the issue with the given number.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>CleanCode</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/cleancode.html"/>
        <id>https://www.finecloud.ch/cleancode.html</id>
            <category term="software development"/>
            <category term="dev"/>

        <updated>2023-02-09T16:55:54+01:00</updated>
            <summary>
                <![CDATA[
                    Summary of 'Clean code' by Robert C. Martin: https://gist.github.com/wojteklu/73c6914cc446146b8b533c0988cf8d29 Code is clean if it can be understood easily – by everyone on the team. Clean code can be read and enhanced by a developer other than its original author. With understandability comes readability, changeability, extensibility&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gore4e2o9">General rules</a></li>
<li><a href="#mcetoc_1gore4e2oa">Design rules</a></li>
<li><a href="#mcetoc_1gore6rj763">Understandability tips</a></li>
<li><a href="#mcetoc_1gore6rj764">Names rules</a></li>
<li><a href="#mcetoc_1gore6rj765">Functions rules</a></li>
<li><a href="#mcetoc_1gore6rj766">Comments rules</a></li>
<li><a href="#mcetoc_1gore6rj767">Source code structure</a></li>
<li><a href="#mcetoc_1gore6rj768">Objects and data structures</a></li>
<li><a href="#mcetoc_1gore6rj769">Tests</a></li>
<li><a href="#mcetoc_1gore6rj76a">Code smells</a></li>
</ul>
</div>
<p>Summary of 'Clean code' by Robert C. Martin:<br>https://gist.github.com/wojteklu/73c6914cc446146b8b533c0988cf8d29<br><br>Code is clean if it can be understood easily – by everyone on the team. Clean code can be read and enhanced by a developer other than its original author. With understandability comes readability, changeability, extensibility and maintainability.</p>
<hr>
<h2 id="mcetoc_1gore4e2o9">General rules</h2>
<p>1. Follow standard conventions.<br>2. Keep it simple stupid. Simpler is always better. Reduce complexity as much as possible.<br>3. Boy scout rule. Leave the campground cleaner than you found it.<br>4. Always find root cause. Always look for the root cause of a problem.</p>
<h2 id="mcetoc_1gore4e2oa">Design rules</h2>
<p>1. Keep configurable data at high levels.<br>2. Prefer polymorphism to if/else or switch/case.<br>3. Separate multi-threading code.<br>4. Prevent over-configurability.<br>5. Use dependency injection.<br>6. Follow Law of Demeter. A class should know only its direct dependencies.</p>
<h2 id="mcetoc_1gore6rj763">Understandability tips</h2>
<p>1. Be consistent. If you do something a certain way, do all similar things in the same way.<br>2. Use explanatory variables.<br>3. Encapsulate boundary conditions. Boundary conditions are hard to keep track of. Put the processing for them in one place.<br>4. Prefer dedicated value objects to primitive type.<br>5. Avoid logical dependency. Don't write methods which works correctly depending on something else in the same class.<br>6. Avoid negative conditionals.</p>
<h2 id="mcetoc_1gore6rj764">Names rules</h2>
<p>1. Choose descriptive and unambiguous names.<br>2. Make meaningful distinction.<br>3. Use pronounceable names.<br>4. Use searchable names.<br>5. Replace magic numbers with named constants.<br>6. Avoid encodings. Don't append prefixes or type information.</p>
<h2 id="mcetoc_1gore6rj765">Functions rules</h2>
<p>1. Small.<br>2. Do one thing.<br>3. Use descriptive names.<br>4. Prefer fewer arguments.<br>5. Have no side effects.<br>6. Don't use flag arguments. Split method into several independent methods that can be called from the client without the flag.</p>
<h2 id="mcetoc_1gore6rj766">Comments rules</h2>
<p>1. Always try to explain yourself in code.<br>2. Don't be redundant.<br>3. Don't add obvious noise.<br>4. Don't use closing brace comments.<br>5. Don't comment out code. Just remove.<br>6. Use as explanation of intent.<br>7. Use as clarification of code.<br>8. Use as warning of consequences.</p>
<h2 id="mcetoc_1gore6rj767">Source code structure</h2>
<p>1. Separate concepts vertically.<br>2. Related code should appear vertically dense.<br>3. Declare variables close to their usage.<br>4. Dependent functions should be close.<br>5. Similar functions should be close.<br>6. Place functions in the downward direction.<br>7. Keep lines short.<br>8. Don't use horizontal alignment.<br>9. Use white space to associate related things and disassociate weakly related.<br>10. Don't break indentation.</p>
<h2 id="mcetoc_1gore6rj768">Objects and data structures</h2>
<p>1. Hide internal structure.<br>2. Prefer data structures.<br>3. Avoid hybrids structures (half object and half data).<br>4. Should be small.<br>5. Do one thing.<br>6. Small number of instance variables.<br>7. Base class should know nothing about their derivatives.<br>8. Better to have many functions than to pass some code into a function to select a behavior.<br>9. Prefer non-static methods to static methods.</p>
<h2 id="mcetoc_1gore6rj769">Tests</h2>
<p>1. One assert per test.<br>2. Readable.<br>3. Fast.<br>4. Independent.<br>5. Repeatable.</p>
<h2 id="mcetoc_1gore6rj76a">Code smells</h2>
<p>1. Rigidity. The software is difficult to change. A small change causes a cascade of subsequent changes.<br>2. Fragility. The software breaks in many places due to a single change.<br>3. Immobility. You cannot reuse parts of the code in other projects because of involved risks and high effort.<br>4. Needless Complexity.<br>5. Needless Repetition.<br>6. Opacity. The code is hard to understand.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript advanced features</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-advanced-features.html"/>
        <id>https://www.finecloud.ch/javascript-advanced-features.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-02-07T16:50:59+01:00</updated>
            <summary>
                <![CDATA[
                    New Features New versions of JavaScript, such as ES6, ES2016, 2017, etc., come with many new features, however it is still ECMAScript Many of the new features are syntactic sugar or extend the functionality only marginal Template Literals Template literals are string literals with support&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1go3akel62sa">New Features</a>
<ul>
<li><a href="#mcetoc_1go3akel62sb">Template Literals</a></li>
<li><a href="#mcetoc_1go3akel62sc">Spread Operator</a></li>
<li><a href="#mcetoc_1go3akel62sd">Array and Object Destructuring</a></li>
<li><a href="#mcetoc_1go3akel62se">Arraw functions</a></li>
<li><a href="#mcetoc_1go3akel62sf">Classes</a></li>
<li><a href="#mcetoc_1go3akel62sg">Class Inheritance</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go3akel62sh">Modules</a>
<ul>
<li><a href="#mcetoc_1go3akel62si">Global Scope</a></li>
<li><a href="#mcetoc_1go3akel62sj">IIFE</a></li>
<li><a href="#mcetoc_1go3akel62sk">Example jQuery Plugin</a></li>
<li><a href="#mcetoc_1go3r9h51351">Module Systems</a></li>
<li><a href="#mcetoc_1go3r9h51352">ES Modules</a></li>
<li><a href="#mcetoc_1go3r9h51353">Export Examples</a></li>
<li><a href="#mcetoc_1go3r9h51354">Import Examples</a></li>
<li><a href="#mcetoc_1go3r9h51355">Default Export</a></li>
<li><a href="#mcetoc_1go3r9h51356">Usage in the Browser</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go3akel62sl">Promises</a>
<ul>
<li><a href="#mcetoc_1go41qk9o3km">Asynchronous Programming</a></li>
<li><a href="#mcetoc_1go41qk9o3kn">Promises Are State Machines</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go41qk9o3ko">Creating Promises</a>
<ul>
<li><a href="#mcetoc_1go41qk9o3kp">Promise Example</a></li>
<li><a href="#mcetoc_1go41qk9o3kq">Chaining</a></li>
<li><a href="#mcetoc_1go41qk9o3kr">Chaining and Combining Examples</a></li>
<li><a href="#mcetoc_1go41qk9o3ks">async and await</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go3akel62sm">Fetch API</a></li>
</ul>
</div>
<h2 id="mcetoc_1go3akel62sa">New Features</h2>
<ul>
<li>New versions of JavaScript, such as ES6, ES2016, 2017, etc., come with many new features, however it is still ECMAScript</li>
<li>Many of the new features are syntactic sugar or extend the functionality only marginal</li>
</ul>
<h3 id="mcetoc_1go3akel62sb">Template Literals</h3>
<ul>
<li>Template literals are string literals with support for text interpolation and multiple lines</li>
<li>Template literals are enclosed by backticks</li>
<li>Expressions in placeholders (marked by the dollar sign and curly braces) are evaluated and replaced by their value at runtime</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">getYear</span>() </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> (<span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Date</span>()).getFullYear();
}

<span class="hljs-keyword" style="color: #cc7832;">const</span> student = {
    name: <span class="hljs-string" style="color: #6a8759;">"Bob"</span>,
    age: <span class="hljs-number" style="color: #6897bb;">25</span>,
    university: <span class="hljs-string" style="color: #6a8759;">"BFH"</span>
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> message = <span class="hljs-string" style="color: #6a8759;">`<span class="hljs-subst">${student.name}</span> is a student at <span class="hljs-subst">${student.university}</span>.
<span class="hljs-subst">${student.name}</span> was born in <span class="hljs-subst">${getYear() - student.age}</span>.`</span>;

<span class="hljs-built_in">console</span>.log(message);    <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob is a student at BFH.</span>
                         <span class="hljs-comment" style="color: grey;">//    Bob was born in 1996.</span>
</pre>
<h3 id="mcetoc_1go3akel62sc">Spread Operator</h3>
<ul>
<li>Using the spread operator new arrays and objects can be created based on the values of other arrays or objects</li>
<li>The spread operator is especially useful to shallow-clone and merge or extend objects</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = [<span class="hljs-number" style="color: #6897bb;">1</span>, <span class="hljs-number" style="color: #6897bb;">2</span>];
<span class="hljs-keyword" style="color: #cc7832;">const</span> b = [<span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">4</span>, <span class="hljs-number" style="color: #6897bb;">5</span>];

<span class="hljs-keyword" style="color: #cc7832;">const</span> clonedA = [...a];
clonedA[<span class="hljs-number" style="color: #6897bb;">1</span>] = <span class="hljs-number" style="color: #6897bb;">3</span>;                         <span class="hljs-comment" style="color: grey;">// a remains unaffected</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> mergedArr = [<span class="hljs-number" style="color: #6897bb;">0</span>, ...a, ...b, <span class="hljs-number" style="color: #6897bb;">6</span>];   <span class="hljs-comment" style="color: grey;">// [0, 1, 2, 3, 4, 5, 6]</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> x = {a: <span class="hljs-string" style="color: #6a8759;">"foo"</span>, b: <span class="hljs-number" style="color: #6897bb;">7</span>};
<span class="hljs-keyword" style="color: #cc7832;">const</span> y = {a: <span class="hljs-string" style="color: #6a8759;">"bar"</span>, c: <span class="hljs-number" style="color: #6897bb;">8</span>};

<span class="hljs-keyword" style="color: #cc7832;">const</span> clonedX = {...x};
clonedX.a = <span class="hljs-string" style="color: #6a8759;">"bar"</span>;                      <span class="hljs-comment" style="color: grey;">// x remains unaffected</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> mergedObj = {...x, ...y, c: <span class="hljs-number" style="color: #6897bb;">9</span>};   <span class="hljs-comment" style="color: grey;">// \{a: "bar", b: 7, c: 9\}</span>
</pre>
<h3 id="mcetoc_1go3akel62sd">Array and Object Destructuring</h3>
<ul>
<li>The destructuring assignment unpacks values from arrays and objects into distinct variables</li>
<li>Destructuring can also be used in function parameter deﬁnitions to unpack ﬁelds from objects passed as argument</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = [<span class="hljs-number" style="color: #6897bb;">1</span>, <span class="hljs-number" style="color: #6897bb;">2</span>, <span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">4</span>];
<span class="hljs-keyword" style="color: #cc7832;">const</span> [first, second] = a;
<span class="hljs-built_in">console</span>.log(first);             <span class="hljs-comment" style="color: grey;">// &gt;&gt; 1</span>
<span class="hljs-built_in">console</span>.log(second);            <span class="hljs-comment" style="color: grey;">// &gt;&gt; 2</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> x = {a: <span class="hljs-string" style="color: #6a8759;">"foo"</span>, b: <span class="hljs-string" style="color: #6a8759;">"bar"</span>, c: <span class="hljs-number" style="color: #6897bb;">12</span>};
<span class="hljs-keyword" style="color: #cc7832;">const</span> {b, c} = x;
<span class="hljs-built_in">console</span>.log(b);                 <span class="hljs-comment" style="color: grey;">// &gt;&gt; bar</span>
<span class="hljs-built_in">console</span>.log(c);                 <span class="hljs-comment" style="color: grey;">// &gt;&gt; 12</span>

<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">f</span>(<span class="hljs-params">{a, b}</span>) </span>{
    <span class="hljs-built_in">console</span>.log(a+<span class="hljs-string" style="color: #6a8759;">", "</span>+b);
}
f(x);                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; foo, bar</span>
</pre>
<h3 id="mcetoc_1go3akel62se">Arraw functions</h3>
<ul>
<li>Arrow functions are a compact alternative to function expressions</li>
<li>If the body consists of a single expression, then the curly braces can be omitted and the return is implied</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> f = (a, b) =&gt; {
  <span class="hljs-keyword" style="color: #cc7832;">const</span> c = a * a;
  <span class="hljs-keyword" style="color: #cc7832;">return</span> c+b;
};
<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">4</span>));         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 13</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> g = a =&gt; a * a;
<span class="hljs-built_in">console</span>.log(g(<span class="hljs-number" style="color: #6897bb;">3</span>));            <span class="hljs-comment" style="color: grey;">// &gt;&gt; 9</span>
</pre>
<ul>
<li>Arrow functions cannot be bound to objects</li>
<li>The this reference is lexically scoped</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> alice = {
  name: <span class="hljs-string" style="color: #6a8759;">"Alice"</span>,
  friends: [<span class="hljs-string" style="color: #6a8759;">"Bob"</span>, <span class="hljs-string" style="color: #6a8759;">"Eve"</span>],
  sayHi: <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.friends.forEach(friend =&gt; {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says hi to "</span>+friend);  <span class="hljs-comment" style="color: grey;">// this is lexically scoped</span>
    });
  }
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> speak = phrase =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says "</span>+phrase);
speak.call(alice, <span class="hljs-string" style="color: #6a8759;">"Hello World!"</span>);   <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined says Hello World!</span>
</pre>
<h3 id="mcetoc_1go3akel62sf">Classes</h3>
<ul>
<li>The class keyword is syntactic sugar for constructor functions and prototype inheritance</li>
<li>A class may contain a constructor, the actual constructor function, which will be bound to the class name, and any number of methods</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">Person</span> </span>{
  <span class="hljs-keyword" style="color: #cc7832;">constructor</span>(name, age) {
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.name = name;
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.age = age;
  }
  speak(phrase) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">`<span class="hljs-subst">${this.name}</span> says: <span class="hljs-subst">${phrase}</span>`</span>);
  }
}

<span class="hljs-keyword" style="color: #cc7832;">const</span> alice = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Alice"</span>, <span class="hljs-number" style="color: #6897bb;">19</span>);
alice.speak(<span class="hljs-string" style="color: #6a8759;">"It's just syntactic sugar!"</span>);
</pre>
<h3 id="mcetoc_1go3akel62sg">Class Inheritance</h3>
<ul>
<li>Classes support inheritance</li>
<li>The super keyword is used to reference the constructor and methods deﬁned in the base class</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">Student</span> <span class="hljs-keyword" style="color: #cc7832;">extends</span> <span class="hljs-title" style="color: #ffc66d;">Person</span> </span>{
  <span class="hljs-keyword" style="color: #cc7832;">constructor</span>(name, age, university) {
    <span class="hljs-keyword" style="color: #cc7832;">super</span>(name, age);
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.university = university;
  }
  speak(phrase) {
    <span class="hljs-keyword" style="color: #cc7832;">super</span>.speak(phrase);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"And I'm a student at the "</span>+<span class="hljs-keyword" style="color: #cc7832;">this</span>.university);
  }
}
</pre>
<h2 id="mcetoc_1go3akel62sh">Modules</h2>
<h3 id="mcetoc_1go3akel62si">Global Scope</h3>
<ul>
<li>JavaScript has one global scope</li>
<li>Different JavaScript ﬁles share the same global scope and have not their own private scope</li>
</ul>
<p><code>let counter = 0;</code><br><code>function count() { return ++counter; }</code><br><br><code>function logCounter() { console.log(counter); }</code><br><br><code>&lt;html&gt;</code><br><code>&lt;head&gt;</code><br><code>&lt;script src="listing_11a.js"&gt;&lt;/script&gt;</code><br><code>&lt;script src="listing_11b.js"&gt;&lt;/script&gt;</code><br><code>&lt;/head&gt;</code><br><code>&lt;body&gt;</code><br><code>&lt;script&gt;</code><br><code>count();</code><br><code>logCounter(); // &gt;&gt; 1</code><br><code>&lt;/script&gt;</code><br><code>&lt;/body&gt;</code><br><code>&lt;/html&gt;</code></p>
<h3 id="mcetoc_1go3akel62sj">IIFE</h3>
<ul>
<li>An immediately-invoked function expression (IIFE, pronounced ”iffy”) is an unnamed function which is immediately invoked</li>
<li>An IIFE takes advantage of the concept of closures and the local scope produced by functions</li>
<li>IIFEs can be used to implement a simple module pattern, in which each module binds only a single global variable</li>
</ul>
<p>counter-service.js:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> counterService = (<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    <span class="hljs-comment" style="color: grey;">// Private scope</span>
    <span class="hljs-keyword" style="color: #cc7832;">let</span> counter = <span class="hljs-number" style="color: #6897bb;">0</span>;
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">count</span>() </span>{ <span class="hljs-keyword" style="color: #cc7832;">return</span> ++counter; }
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">logCounter</span>() </span>{ <span class="hljs-built_in">console</span>.log(counter); }

    <span class="hljs-comment" style="color: grey;">// Export public features</span>
    <span class="hljs-keyword" style="color: #cc7832;">return</span> {count, logCounter};
})();
</pre>
<p><code>&lt;script src="counter-service.js"&gt;&lt;/script&gt;</code><br><code>&lt;script&gt;</code><br><code>counterService.count();</code><br><code>counterService.logCounter(); // 1</code><br><code>&lt;/script&gt;</code></p>
<h3 id="mcetoc_1go3akel62sk">Example jQuery Plugin</h3>
<ul>
<li>A jQuery plugin is implemented as an IIFE</li>
<li>New features are added to the prototype of jQuery objects (which is the $.fn object)</li>
<li>See How to Create a Basic Plugin for more details</li>
</ul>
<p>jquery-identify.js;</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;">(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">$</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">let</span> counter = <span class="hljs-number" style="color: #6897bb;">0</span>;

  $.fn.identify = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-keyword" style="color: #cc7832;">this</span>.each(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
      <span class="hljs-keyword" style="color: #cc7832;">this</span>.id = <span class="hljs-string" style="color: #6a8759;">'id-'</span>+(++counter);
    });
  }
})(jQuery);
</pre>
<p><code>&lt;script src="jquery.js"&gt;&lt;/script&gt;</code><br><code>&lt;script src="jquery-identify.js"&gt;&lt;/script&gt;</code><br><code>&lt;script&gt;</code><br><code>$('p, img').identify();</code><br><code>&lt;/script&gt;</code></p>
<h3 id="mcetoc_1go3r9h51351">Module Systems</h3>
<ul>
<li>Module Systems provide a private scope on a ﬁle basis with the possibility to export functionality and to import functionality from other modules</li>
<li>Before ES6, JavaScript had no built-in module system and proprietary module systems, such as CommonJS (which is still used by Node.js), were needed</li>
<li>ES6 introduced its own module system (often called ES modules) with the new keywords import and export</li>
<li>In larger applications, module dependencies are resolved during the build and bundling process</li>
<li>ES modules are natively supported by all modern browsers</li>
</ul>
<h3 id="mcetoc_1go3r9h51352">ES Modules</h3>
<ul>
<li>Features are exported from a module using the export keyword</li>
<li>The export keyword is placed in front of the item to export</li>
<li>Functions, classes and variables deﬁned with let or const can be exported</li>
<li>Multiple features can be exported in a single statement by wrapping the comma-separated list of items in curly braces</li>
<li>Items which are not exported are local to the module</li>
<li>Features are imported from other modules using the import keyword</li>
<li>Speciﬁc features are imported by their names (comma-separated list in curly braces)</li>
<li>All features of a module can be important using the *-notation</li>
</ul>
<h3 id="mcetoc_1go3r9h51353">Export Examples</h3>
<p>math.js:</p>
<p><code>export const PI = computePI();</code><br><code>export function square(x) { return x * x; }</code><br><code>export function sum(x, y) { return x + y; }</code><br><code>// Local to math.js</code><br><code>function computePI() { return 3.14; }</code></p>
<p>colors.js:</p>
<p><code>const white = '#ffffff', black = '#000000';</code><br><code>function rgbToHex(r, g, b) { return '#' + toHex(r) + toHex(g) + toHex(b); }</code><br><code>function toHex(c) { return ('0' + c.toString(16)).slice(m2); }</code><br><code>// Export multiple features in a single statement</code><br><code>export {white, black, rgbToHex};</code></p>
<h3 id="mcetoc_1go3r9h51354">Import Examples</h3>
<p>file1.js:</p>
<p><code>// Import specific features from another module</code><br><code>import {square, PI} from 'math';</code><br><code>console.log(PI); // &gt;&gt; 3.14</code><br><code>console.log(square(4)); // &gt;&gt; 16</code><br><br>file2.js</p>
<p><code>// Import all features from another module</code><br><code>import * as math from 'math';</code><br><code>console.log(math.PI); // &gt;&gt; 3.14</code><br><code>console.log(math.sum(4, 5)); // &gt;&gt; 9</code></p>
<h3 id="mcetoc_1go3r9h51355">Default Export</h3>
<ul>
<li>One single export per module can be marked as default using the default keyword</li>
<li>The default feature is imported without curly braces and any name can be given</li>
<li>Especially convenient if only one feature is exported per module</li>
</ul>
<p>hello-world.js:</p>
<p><code>export default function() {</code><br><code>console.log("Hello World!");</code><br><code>}</code></p>
<p>any-class.js:</p>
<p><code>export default class {</code><br><code>// ...</code><br><code>}</code></p>
<p>main.js:</p>
<p><code>import logHelloWorld from 'hello-world';</code><br><code>import AnyClass from 'any-class';</code><br><code>logHelloWorld();</code><br><code>let obj = new AnyClass();</code></p>
<h3 id="mcetoc_1go3r9h51356">Usage in the Browser</h3>
<ul>
<li>The type of the script must be module</li>
<li>Modules are loaded deferred (after the browser ﬁnished parsing the HTML and building the DOM)</li>
<li>Modules are running in strict mode by default</li>
<li>The module name must be the ﬁle path relative to the site root or, using the dot-syntax, relative to the current location, e.g.: import ... from './lib/my-module.js';</li>
</ul>
<p><code>&lt;html&gt;</code><br><code>&lt;head&gt;</code><br><code>&lt;title&gt;ES Modules&lt;/title&gt;</code><br><code>&lt;script type="module" src="main.js"&gt;&lt;/script&gt;</code><br><code>&lt;script type="module"&gt;</code><br><code>import {PI} from './math.js';</code><br><code>// ...</code><br><code>&lt;/script&gt;</code><br><code>&lt;/head&gt;</code><br><code>&lt;body&gt; ... &lt;/body&gt;</code><br><code>&lt;/html&gt;</code></p>
<h2 id="mcetoc_1go3akel62sl">Promises</h2>
<h3 id="mcetoc_1go41qk9o3km">Asynchronous Programming</h3>
<ul>
<li>JavaScript is single-threaded, hence time-consuming tasks must be implemented asynchronously to not block the thread</li>
<li>Promises are helpers for asynchronous programming</li>
<li>A promise is a proxy for a value possibly known in the future</li>
<li>Instead of passing callback functions to the asynchronous function, the  synchronous function returns a promise on which success and error handlers can be registered</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Traditional approach with callbacks passed to the asynchronous function</span>
computeAsync(<span class="hljs-string" style="color: #6a8759;">"Foo"</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">result</span>) </span>{
  <span class="hljs-comment" style="color: grey;">// Process result</span>
}, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">error</span>) </span>{
  <span class="hljs-comment" style="color: grey;">// Handle error</span>
});

<span class="hljs-comment" style="color: grey;">// Promise based approach where the asynchronous function returns a promise</span>
computeAsync(<span class="hljs-string" style="color: #6a8759;">"Foo"</span>)
  .then(result =&gt; { <span class="hljs-comment" style="color: grey;">/* Process result */</span> })
  .catch(error =&gt; { <span class="hljs-comment" style="color: grey;">/* Handle error */</span> });
</pre>
<h3 id="mcetoc_1go41qk9o3kn">Promises Are State Machines</h3>
<ul>
<li>Newly created promises are in the state pending</li>
<li>A promise remains pending as long as the value is unknown and no error has occurred</li>
<li>As soon as the value is available, the state changes to fullﬁled and registered success handlers are called</li>
<li>If an error occurs, the state changes to rejected and registered error handlers are called</li>
<li>Once the state is fullﬁled or rejected, the promise remains in this state for ever</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/79/Screenshot-2023-01-31-at-14.42.22.png" alt="" width="882" height="734" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.42.22-xs.png 300w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.42.22-sm.png 480w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.42.22-md.png 768w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.42.22-lg.png 1024w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.42.22-xl.png 1360w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.42.22-2xl.png 1600w"></figure>
<h2 id="mcetoc_1go41qk9o3ko">Creating Promises</h2>
<ul>
<li>Promises are created using the Promise constructor</li>
<li>A function is passed to the constructor implementing the asynchronous task</li>
<li>The function is called by the promise, passing two functions to resolve or reject the promise</li>
<li>Either the resolve or reject function must be ﬁnally called by the asynchronous task</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">computeAsync</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {

    <span class="hljs-comment" style="color: grey;">// ... Perform the asynchronous task (Promise is pending)</span>

    <span class="hljs-keyword" style="color: #cc7832;">if</span> (success) resolve(result);  <span class="hljs-comment" style="color: grey;">// Promise will be fulfilled</span>
    <span class="hljs-keyword" style="color: #cc7832;">else</span> reject(error);            <span class="hljs-comment" style="color: grey;">// Promise will be rejected</span>
  });
}
</pre>
<h3 id="mcetoc_1go41qk9o3kp">Promise Example</h3>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">computePI</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
    <span class="hljs-comment" style="color: grey;">// Computing PI is hard work...</span>
    setTimeout(() =&gt; {
      <span class="hljs-comment" style="color: grey;">// Computing PI fails with a certain probability...</span>
      <span class="hljs-keyword" style="color: #cc7832;">if</span> (<span class="hljs-built_in">Math</span>.random() &lt; <span class="hljs-number" style="color: #6897bb;">0.2</span>) {
        reject(<span class="hljs-string" style="color: #6a8759;">"Sorry, computation failed!"</span>);     <span class="hljs-comment" style="color: grey;">// Reject the promise</span>
      } <span class="hljs-keyword" style="color: #cc7832;">else</span> {
        resolve(<span class="hljs-number" style="color: #6897bb;">3.14</span>);       <span class="hljs-comment" style="color: grey;">// Resolve the promise to the value of PI</span>
      }
    }, <span class="hljs-number" style="color: #6897bb;">300</span>);
  });
}

computePI()
  .then(result =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"PI: "</span>+result))
  .catch(error =&gt; <span class="hljs-built_in">console</span>.log(error));
</pre>
<h3 id="mcetoc_1go41qk9o3kq">Chaining</h3>
<ul>
<li>The then and catch functions return a promise, hence they can<br>be chained</li>
<li>The promise returned by then and catch resolves to the return value of the handler or to its original settled value if the handler was not called (e.g. a catch-handler is not called on a fullﬁled promise)</li>
<li>If the handler returns a promise, the promise returned by then and catch resolves to the same value as the returned promise</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/79/Screenshot-2023-01-31-at-14.49.16.png" alt="" width="2062" height="734" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.49.16-xs.png 300w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.49.16-sm.png 480w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.49.16-md.png 768w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.49.16-lg.png 1024w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.49.16-xl.png 1360w ,https://www.finecloud.ch/media/posts/79/responsive/Screenshot-2023-01-31-at-14.49.16-2xl.png 1600w"></figure>
<h3 id="mcetoc_1go41qk9o3kr">Chaining and Combining Examples</h3>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Chaining</span>
doAsync()
  .then(resultA =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> })
  .then(resultB =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> })
  .catch(error =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> })
  .then(resultC =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> })
  .catch(error =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> });

<span class="hljs-comment" style="color: grey;">// Add multiple handlers to the same promise</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> promise = doAsync();
promise.then(result =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> });
promise.then(result =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> });

<span class="hljs-comment" style="color: grey;">// 'Wait' until all promises are fulfilled or one rejected</span>
<span class="hljs-built_in">Promise</span>.all([doAsync(<span class="hljs-string" style="color: #6a8759;">"A"</span>), doAsync(<span class="hljs-string" style="color: #6a8759;">"B"</span>), doAsync2()])
  .then(results =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> })
  .catch(error =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> });

<span class="hljs-comment" style="color: grey;">// 'Wait' until the first promise is fulfilled or rejected</span>
<span class="hljs-built_in">Promise</span>.race([doAsync(<span class="hljs-string" style="color: #6a8759;">"A"</span>), doAsync(<span class="hljs-string" style="color: #6a8759;">"B"</span>), doAsync2()])
  .then(result =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> })
  .catch(error =&gt; { <span class="hljs-comment" style="color: grey;">/* ... */</span> });
</pre>
<h3 id="mcetoc_1go41qk9o3ks">async and await</h3>
<ul>
<li>async and await allow asynchronous code to be written synchronously</li>
<li>An async function implicitly returns a promise, which resolves to the return value of the function or is rejected on exception</li>
<li>async functions can await other promises (written synchronously)</li>
<li>await interrupts the synchronous execution and waits until the returned promise is resolved or rejected</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">async</span> <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">computeDiskArea</span>(<span class="hljs-params">radius</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">const</span> PI = <span class="hljs-keyword" style="color: #cc7832;">await</span> computePI();
  <span class="hljs-keyword" style="color: #cc7832;">return</span> radius * radius * PI;
}

computeDiskArea(<span class="hljs-number" style="color: #6897bb;">2</span>)
  .then(area =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"The area of a disk with r=2 is "</span>+area))
  .catch(error =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"An error occurred: "</span>+error))
</pre>
<h2 id="mcetoc_1go3akel62sm">Fetch API</h2>
<ul>
<li>The Fetch API provides an interface for fetching resources</li>
<li>This includes resources across the network</li>
<li>It is similar to the XMLHttpRequest but it is more powerful and more ﬂexible</li>
<li>It provides a generic deﬁnition of Request and Response objects</li>
<li>The global fetch function takes the URL of a resource as parameter and returns a promise which resolves to a Response object once the response is available</li>
</ul>
<p><code>fetch('http://quotes.org')</code><br><code>  .then(response =&gt; response.text())</code><br><code>  .then(quote =&gt; console.log(quote));</code></p>
<h3>Response Object</h3>
<ul>
<li>A Response object has the following properties:
<ul>
<li>ok - true if the status code is 2xx, false otherwise</li>
<li>status - the response status code</li>
<li>statusText - the status code message</li>
<li>headers - the response headers</li>
</ul>
</li>
<li>In addition, Response provides the following methods:
<ul>
<li>text() returns a promise resolving to the body as string</li>
<li>json() returns a promise resolving to the result of parsing the body as JSON</li>
<li>blob() returns a promise resolving the body as Blob object</li>
</ul>
</li>
</ul>
<p><code>fetch('http://news.org')</code><br><code>  .then(response =&gt; response.json())</code><br><code>  .then(data =&gt; data.articles.forEach(article =&gt; console.log(article.title)));</code></p>
<h3>Request Options</h3>
<p>The fetch function has as a second optional parameter that allows setting the HTTP method, headers and request body:</p>
<p><code>fetch('http://news.org', {</code><br><code>method: 'POST',</code><br><code>headers: {</code><br><code>'Authorization:': 'Basic amRAZXhhbXBsZS5vcmc6MTIzNDU=',</code><br><code>'Content-Type': 'application/json'</code><br><code>},</code><br><code>body: JSON.stringify(article)</code><br><code>});</code></p>
<p>Advanced settings include:</p>
<ul>
<li>the interaction with the browser cache</li>
<li>the following of redirect responses</li>
<li>sending credentials</li>
<li>aborting requests</li>
</ul>
<h3>Error Handling</h3>
<ul>
<li>The promise returned by fetch does only reject on network errors but not on HTTP errors such as 404 or 500 (in contrast to many AJAX libraries)</li>
<li>An accurate error handling should check if the promise was resolved and if its  status is OK</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;">fetch(<span class="hljs-string" style="color: #6a8759;">'http://news.org'</span>)
  .then(response =&gt; {
    <span class="hljs-keyword" style="color: #cc7832;">if</span> (!response.ok)
      <span class="hljs-comment" style="color: grey;">// Error handling based on HTTP status</span>
    <span class="hljs-keyword" style="color: #cc7832;">return</span> response.json();
  })
  .then(data =&gt; {
    ...
  })
  .catch(error =&gt; {
    <span class="hljs-comment" style="color: grey;">// Error handling (network error, JSON syntax error, etc.)</span>
  });
</pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript and the browser</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-and-the-browser.html"/>
        <id>https://www.finecloud.ch/javascript-and-the-browser.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-01-31T13:02:06+01:00</updated>
            <summary>
                <![CDATA[
                    The DOM Based on the received HTML document the browser builds up a model of the document structure, the Document Object Model (DOM) The DOM has a tree structure and each node of the document is represented by an object The browser renders the page&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1go1k7l5mfr">The DOM</a>
<ul>
<li><a href="#mcetoc_1go1k7l5mfs">The DOM Tree</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go1k7l5mft">Finding Elements</a></li>
<li><a href="#mcetoc_1go1k7l5mfu">Element nodes</a></li>
<li><a href="#mcetoc_1go1k7l5mfv">Manipulating the DOM</a></li>
<li><a href="#mcetoc_1go1k7l5mg0">Animation</a></li>
<li><a href="#mcetoc_1go1k7l5mg1">Event handling</a>
<ul>
<li><a href="#mcetoc_1go1kdqqcj7">Event Object</a></li>
<li><a href="#mcetoc_1go1kdqqcj8">Event Propagation</a></li>
<li><a href="#mcetoc_1go1kdqqcj9">Default action</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go387fbq1bm">AJAX</a>
<ul>
<li><a href="#mcetoc_1go387fbq1bn">AJAX and JSON</a></li>
<li><a href="#mcetoc_1go387fbq1bo">Same-Origin Policy</a></li>
</ul>
</li>
<li><a href="#mcetoc_1go387fbq1bp">jQuery</a>
<ul>
<li><a href="#mcetoc_1go387fbq1bq">jQuery usage</a></li>
<li><a href="#mcetoc_1go387fbq1br">The jQuery Object</a></li>
<li><a href="#mcetoc_1go387fbq1bs">jQuery and AJAX</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1go1k7l5mfr">The DOM</h2>
<ul>
<li>Based on the received HTML document the browser builds up a model of the document structure, the Document Object Model (DOM)</li>
<li>The DOM has a tree structure and each node of the document is represented by an object</li>
<li>The browser renders the page based on the DOM and provides an API to read and modify the DOM with JS</li>
<li>The DOM is live, i.e., DOM modiﬁcations are immediately reﬂected on the page</li>
</ul>
<h3 id="mcetoc_1go1k7l5mfs">The DOM Tree</h3>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span>
<span class="hljs-tag">  &lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">    &lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>Todo App<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">  &lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">  &lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">    &lt;<span class="hljs-name" style="color: #e8bf6a;">h1</span>&gt;</span>Todo App<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">h1</span>&gt;</span>
<span class="hljs-tag">    &lt;<span class="hljs-name" style="color: #e8bf6a;">p</span>&gt;</span>Don't forget anything!<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">p</span>&gt;</span>
<span class="hljs-tag">    &lt;<span class="hljs-name" style="color: #e8bf6a;">p</span>&gt;</span>Please <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string" style="color: #6a8759;">"/login"</span>&gt;</span>login<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">a</span>&gt;</span>.<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">p</span>&gt;</span>
<span class="hljs-tag">  &lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></span></pre>
<p>the Tree Structure of the html above:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/77/Screenshot-2023-01-24-at-10.45.34.png" alt="" width="1434" height="858" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-24-at-10.45.34-xs.png 300w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-24-at-10.45.34-sm.png 480w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-24-at-10.45.34-md.png 768w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-24-at-10.45.34-lg.png 1024w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-24-at-10.45.34-xl.png 1360w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-24-at-10.45.34-2xl.png 1600w"></figure>
<p>you can traverse the DOM Tree with:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Root node of the dom tree (html)</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> root = <span class="hljs-built_in">document</span>.documentElement;

<span class="hljs-comment" style="color: grey;">// The child elements of a node (only element nodes, no text nodes)</span>
<span class="hljs-comment" style="color: grey;">// -&gt; HTMLCollection(2) [head, body]</span>
root.children;

<span class="hljs-comment" style="color: grey;">// head and body can also be accessed directly</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> head = <span class="hljs-built_in">document</span>.head;
<span class="hljs-keyword" style="color: #cc7832;">const</span> body = <span class="hljs-built_in">document</span>.body;

<span class="hljs-comment" style="color: grey;">// All children of a node (including text nodes)</span>
<span class="hljs-comment" style="color: grey;">// -&gt; NodeList(7) [\#text, h1, \#text, p, \#text, p, \#text]</span>
body.childNodes;

<span class="hljs-comment" style="color: grey;">// Accessing children and node type</span>
body.childNodes[<span class="hljs-number" style="color: #6897bb;">0</span>].nodeType === Node.TEXT_NODE;      <span class="hljs-comment" style="color: grey;">// \#text</span>
body.childNodes[<span class="hljs-number" style="color: #6897bb;">1</span>].nodeType === Node.ELEMENT_NODE;   <span class="hljs-comment" style="color: grey;">// h1</span>

body.firstChild;                                     <span class="hljs-comment" style="color: grey;">// \#text</span>
body.firstElementChild;                              <span class="hljs-comment" style="color: grey;">// h1</span>
<span class="hljs-comment" style="color: grey;">// dito for last: lastChild, lastElementChild</span>
</pre>
<p>Another example:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> h1 = <span class="hljs-built_in">document</span>.body.children[<span class="hljs-number" style="color: #6897bb;">0</span>];

<span class="hljs-comment" style="color: grey;">// Parent node</span>
h1.parentNode;

<span class="hljs-comment" style="color: grey;">// Siblings</span>
h1.nextSibling;                                     <span class="hljs-comment" style="color: grey;">// \#text</span>
h1.nextElementSibling;                              <span class="hljs-comment" style="color: grey;">// p</span>
<span class="hljs-comment" style="color: grey;">// dito for previous: previousSibling, previousElementSibling</span>

<span class="hljs-comment" style="color: grey;">// Example of recursively traversing the DOM</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">findAnchors</span>(<span class="hljs-params">node</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">if</span> (node.tagName === <span class="hljs-string" style="color: #6a8759;">'A'</span>) {
    <span class="hljs-built_in">console</span>.log(node.textContent+<span class="hljs-string" style="color: #6a8759;">": "</span>+node.pathname);
  }
  <span class="hljs-keyword" style="color: #cc7832;">if</span> (node.nodeType === Node.ELEMENT_NODE) {
    <span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> i = <span class="hljs-number" style="color: #6897bb;">0</span>; i &lt; node.children.length; i++) {
      findAnchors(node.children[i]);
    }
  }
}
findAnchors(<span class="hljs-built_in">document</span>.body);
</pre>
<h2 id="mcetoc_1go1k7l5mft">Finding Elements</h2>
<p>It is often not a good idea to access a speciﬁc node by a ﬁxed path since the document structure may change over time:</p>
<pre>// Get the href attribute of the first anchor<br>document.body.childNodes[5].childNodes[1].href;</pre>
<p>There are a number of functions to ﬁnd DOM elements in a more sophisticated way. The functions can be called on the document or on any element node to reduce the search on the node’s descendants</p>
<pre>// Get the href attribute of the first anchor<br>document.getElementsByTagName('a')[0].href;</pre>
<p>more examples of finding elements:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Get a HTMLCollection of nodes by tag name</span>
<span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string" style="color: #6a8759;">'a'</span>);

<span class="hljs-comment" style="color: grey;">// Get a HTMLCollection of nodes by class name</span>
<span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string" style="color: #6a8759;">'external-link'</span>);

<span class="hljs-comment" style="color: grey;">// A single node can be retrieved by id (only via document)</span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string" style="color: #6a8759;">'logo'</span>);

<span class="hljs-comment" style="color: grey;">// Elements can also be selected by using a CSS selector string</span>
<span class="hljs-comment" style="color: grey;">// A static NodeList is returned</span>
<span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string" style="color: #6a8759;">'p a.external-link'</span>);

<span class="hljs-comment" style="color: grey;">// Like querySelectorAll but only the first matching node is returned</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'#logo'</span>);
</pre>
<h2 id="mcetoc_1go1k7l5mfu">Element nodes</h2>
<ul>
<li>For different HTML elements (body, div, p, a, etc.) different objects with different properties and methods are created</li>
<li>For example, an anchor object has a href and pathname property, whereas a form object has a submit and reset method</li>
<li>w3schools provides a nice reference http://www.w3schools.com/jsref/default.asp</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'a'</span>);
<span class="hljs-built_in">console</span>.log(a.href);
 <span class="hljs-comment" style="color: grey;">// -&gt; ’https://www.todo-app.com/login’</span>
<span class="hljs-built_in">console</span>.log(a.pathname);
 <span class="hljs-comment" style="color: grey;">// -&gt; ’/login’</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string" style="color: #6a8759;">'myForm'</span>);
f.reset();
 <span class="hljs-comment" style="color: grey;">// -&gt; resets all fields of the form</span>
f.submit();
 <span class="hljs-comment" style="color: grey;">// -&gt; submits the form</span></pre>
<h2 id="mcetoc_1go1k7l5mfv">Manipulating the DOM</h2>
<ul>
<li>Almost everything in the DOM can be manipulated with JavaScript:
<ul>
<li>Single node properties can be changed</li>
<li>Nodes can be moved within the tree</li>
<li>Nodes can be removed </li>
<li>New nodes can be added</li>
</ul>
</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> h1 = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'h1'</span>);
<span class="hljs-comment" style="color: grey;">// Change the color style property to ’#FF0000’</span>
h1.style.color = <span class="hljs-string" style="color: #6a8759;">'#FF0000'</span>;
<span class="hljs-comment" style="color: grey;">// Change the display style property to ’none’</span>
h1.style.display = <span class="hljs-string" style="color: #6a8759;">'none'</span>;
<span class="hljs-comment" style="color: grey;">// Change the text of the h1</span>
h1.childNodes[<span class="hljs-number" style="color: #6897bb;">0</span>].nodeValue = <span class="hljs-string" style="color: #6a8759;">"Hello Earth!"</span>;
<span class="hljs-comment" style="color: grey;">// Or more comfortable by using the textContent property (all children of h1</span>
<span class="hljs-comment" style="color: grey;">// are removed and and a new text node with the respective text is added)</span>
h1.textContent = <span class="hljs-string" style="color: #6a8759;">"Hello World!"</span>;</pre>
<p>another example:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> myList = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'ul'</span>);
<span class="hljs-comment" style="color: grey;">// Nodes can be moved by simply re-inserting them at a different position</span>
<span class="hljs-comment" style="color: grey;">// -&gt; The last node of the list is moved to the beginning of the list</span>
myList.insertBefore(myList.lastElementChild, myList.firstElementChild);
<span class="hljs-comment" style="color: grey;">// An element is removed by calling remove() on the node</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Removes the last element from the list</span>
myList.lastElementChild.remove();
<span class="hljs-comment" style="color: grey;">// New element and text nodes can be created. Newly created nodes must be</span>
<span class="hljs-comment" style="color: grey;">// added to the DOM tree explicitly. e.g. using appendChild()</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Creates a new list item and appends it to the end of the list</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string" style="color: #6a8759;">'li'</span>);
li.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string" style="color: #6a8759;">"New item"</span>));
myList.appendChild(li);
<span class="hljs-comment" style="color: grey;">// Nodes can also be created implicitly by using the innerHTML property</span>
li.innerHTML = <span class="hljs-string" style="color: #6a8759;">"An &lt;b&gt;important&lt;/b&gt; item"</span>;</pre>
<h2 id="mcetoc_1go1k7l5mg0">Animation</h2>
<ul>
<li>The setTimeout function waits a given number of milliseconds and then calls a function</li>
<li>setTimeout can be used to implement an animation</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// The background color shall change between red and blue every second</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> ball = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'#ball'</span>);
<span class="hljs-keyword" style="color: #cc7832;">let</span> toggle = <span class="hljs-literal" style="color: #6897bb;">false</span>;
<span class="hljs-comment" style="color: grey;">// The animation function</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">animate</span>() </span>{
ball.style.backgroundColor = toggle ? <span class="hljs-string" style="color: #6a8759;">'#f00'</span> : <span class="hljs-string" style="color: #6a8759;">'#00f'</span>;
toggle = !toggle;
<span class="hljs-comment" style="color: grey;">// Keep the animation runnning</span>
setTimeout(animate, <span class="hljs-number" style="color: #6897bb;">1000</span>);
}
<span class="hljs-comment" style="color: grey;">// Start the animation</span>
setTimeout(animate, <span class="hljs-number" style="color: #6897bb;">1000</span>);</pre>
<ul>
<li>setInterval is similar to setTimeout but calls the function every interval and not only once</li>
<li>clearInterval and clearTimeout clear a timer set with setInterval and setTimeout respectively</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> ball = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'#ball'</span>);
<span class="hljs-keyword" style="color: #cc7832;">let</span> toggle = <span class="hljs-literal" style="color: #6897bb;">false</span>;
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">animate</span>() </span>{
ball.style.backgroundColor = toggle ? <span class="hljs-string" style="color: #6a8759;">'#f00'</span> : <span class="hljs-string" style="color: #6a8759;">'#00f'</span>;
toggle = !toggle;
}
<span class="hljs-comment" style="color: grey;">// Start the animation</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> id = setInterval(animate, <span class="hljs-number" style="color: #6897bb;">1000</span>);
<span class="hljs-comment" style="color: grey;">// Stop the animation after 10s</span>
setTimeout(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>()</span>{
clearInterval(id);
}, <span class="hljs-number" style="color: #6897bb;">10000</span>);</pre>
<ul>
<li>For smooth animations use requestAnimationFrame</li>
<li>The scheduled animation function is called when the browser is ready to repaint the screen (at a rate of about 60 times per second but only when the window/tab is active)</li>
<li>By using requestAnimationFrame the browser can optimize concurrent animations</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> ball = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'#ball'</span>);
<span class="hljs-keyword" style="color: #cc7832;">let</span> angle = <span class="hljs-built_in">Math</span>.PI / <span class="hljs-number" style="color: #6897bb;">2</span>;
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">animate</span>(<span class="hljs-params">time, lastTime</span>) </span>{
<span class="hljs-keyword" style="color: #cc7832;">if</span> (lastTime) {
<span class="hljs-comment" style="color: grey;">// Compute the next position based on the elapsed time</span>
angle += (time - lastTime) * <span class="hljs-number" style="color: #6897bb;">0.001</span>;
}
ball.style.left = (<span class="hljs-built_in">Math</span>.cos(angle) * <span class="hljs-number" style="color: #6897bb;">200</span>) + <span class="hljs-string" style="color: #6a8759;">'px'</span>;
requestAnimationFrame(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">newTime</span>) </span>{ animate(newTime, time); });
}
requestAnimationFrame(animate);</pre>
<h2 id="mcetoc_1go1k7l5mg1">Event handling</h2>
<ul>
<li>Normally, a GUI must not only provide data to the user but also react to user input </li>
<li>A user interacts with the GUI by key strokes, mouse clicks, mouse moves, etc.</li>
<li>There are also implicit user interactions like window scrolling, window resizing, etc.</li>
<li>To react programmatically to user input, one could constantly read the state of the input device or adopt a polling mechanism</li>
<li>A better approach is a system that actively notifies registered listeners, also called handlers, about user inputs by firing events</li>
<li>Event handlers are registered for a certain event type using addEventListener and removed using removeEventListener</li>
<li>Event handlers are always registered in a context and are only called for events in that context</li>
<li>Event handlers can be registered on the window or on any DOM element</li>
<li>Multiple handlers can be registered for the same event and the same handler can be registered for multiple events</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// An event handler can be registerd for a certain event type</span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"That's amazing!"</span>);
});
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string" style="color: #6a8759;">'resize'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Window has been resized"</span>);
});
<span class="hljs-comment" style="color: grey;">// Event handlers can be registerd on DOM elements to confine the context</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> myButton = docuemnt.querySelector(<span class="hljs-string" style="color: #6a8759;">'#my-button'</span>);
myButton.addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>()</span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">'What a surprise!'</span>);
});
<span class="hljs-comment" style="color: grey;">// Event handlers can also be removed again</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">once</span>() </span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">'Done.'</span>);
<span class="hljs-built_in">window</span>.removeEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, once);
}
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, once);</pre>
<h3 id="mcetoc_1go1kdqqcj7">Event Object</h3>
<ul>
<li>Most events are propagated through the DOM tree, thus event handlers registered on an ancestor nodes are called too</li>
<li>Default propagation behaviour is bubbling (the more specific handler, the earlier it is called)</li>
<li>Handlers can also be registered in the capturing phase (before the bubbling phase)</li>
<li>The propagation of an event can be stopped by any handler by calling stopPropagation on the event object</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/77/Pasted-image-20230130160641.png" alt="" width="421" height="229" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160641-xs.png 300w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160641-sm.png 480w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160641-md.png 768w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160641-lg.png 1024w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160641-xl.png 1360w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160641-2xl.png 1600w"></figure>
<h3 id="mcetoc_1go1kdqqcj8">Event Propagation</h3>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Registering a click event handler on the body and a button</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'body'</span>).addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">e</span>)</span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Handler on body (bubbling)"</span>);
});
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'button'</span>).addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">e</span>)</span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Handler on button (bubbling)"</span>);
});
<span class="hljs-comment" style="color: grey;">// Clicking on the button results in the following output:</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on button (bubbling)</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on body (bubbling)</span>
<span class="hljs-comment" style="color: grey;">// Register an event handler in the capturing phase</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'body'</span>).addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">e</span>)</span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Handler on body (capturing)"</span>);
}, <span class="hljs-literal" style="color: #6897bb;">true</span>);
<span class="hljs-comment" style="color: grey;">// Clicking now on the button results in the following output:</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on body (capturing)</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on button (bubbling)</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on body (bubbling)</span></pre>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// The propagation of an event can be stopped by an event handler</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'button'</span>).addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">e</span>)</span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Handler on button (bubbling)"</span>);
e.stopPropagation();
});
<span class="hljs-comment" style="color: grey;">// Clicking on the button results in the following ouput:</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on body (capturing)</span>
<span class="hljs-comment" style="color: grey;">// -&gt; Handler on button (bubbling)</span></pre>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/77/Pasted-image-20230130160742.png" alt="" width="481" height="216" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160742-xs.png 300w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160742-sm.png 480w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160742-md.png 768w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160742-lg.png 1024w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160742-xl.png 1360w ,https://www.finecloud.ch/media/posts/77/responsive/Pasted-image-20230130160742-2xl.png 1600w"></figure>
<h3 id="mcetoc_1go1kdqqcj9">Default action</h3>
<ul>
<li>Some events have associated default actions:
<ul>
<li>clicking on a link loads the link target</li>
<li>clicking on a submit button submits the form</li>
<li>pressing the down arrow scrolls the page down</li>
</ul>
</li>
<li>Event handlers are called before the default behaviour takes place</li>
<li>If the default action is unwanted, then the event handler can call preventDefault on the event object</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// The default action can be prevented by a handler</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string" style="color: #6a8759;">'a'</span>).addEventListener(<span class="hljs-string" style="color: #6a8759;">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">e</span>) </span>{
e.preventDefault();
alert(<span class="hljs-string" style="color: #6a8759;">"Sorry, but we don't want you to leave!"</span>);
});</pre>
<h2 id="mcetoc_1go387fbq1bm">AJAX</h2>
<ul>
<li>AJAX (Asynchronous JavaScript and XML) is used to create faster and more interactive web applications</li>
<li>AJAX enables JavaScript to load data from the server without reloading the page</li>
<li>On the protocol level, AJAX requests are just a normal HTTP requests</li>
<li>The XMLHttpRequest (XHR) object is the interface for AJAX requests</li>
<li>Despite the term XML in AJAX and XHR, any type of data can be loaded from the server</li>
<li>ES6 introduced the new Promise based Fetch API</li>
</ul>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/77/Screenshot-2023-01-31-at-07.17.30.png" alt="" width="1494" height="834" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-31-at-07.17.30-xs.png 300w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-31-at-07.17.30-sm.png 480w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-31-at-07.17.30-md.png 768w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-31-at-07.17.30-lg.png 1024w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-31-at-07.17.30-xl.png 1360w ,https://www.finecloud.ch/media/posts/77/responsive/Screenshot-2023-01-31-at-07.17.30-2xl.png 1600w"></figure>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Create a new XMLHttpRequest object</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> xhr = <span class="hljs-keyword" style="color: #cc7832;">new</span> XMLHttpRequest();
<span class="hljs-comment" style="color: grey;">// Specify the type of request: method and url</span>
xhr.open(<span class="hljs-string" style="color: #6a8759;">'GET'</span>, <span class="hljs-string" style="color: #6a8759;">'/ajax/time'</span>);
<span class="hljs-comment" style="color: grey;">// Register a callback to be notified about state changes</span>
xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-comment" style="color: grey;">// Check ready state: 4 means request completed</span>
  <span class="hljs-keyword" style="color: #cc7832;">if</span> (<span class="hljs-keyword" style="color: #cc7832;">this</span>.readyState === <span class="hljs-number" style="color: #6897bb;">4</span>) {
    <span class="hljs-comment" style="color: grey;">// Check HTTP status: 200 OK</span>
    <span class="hljs-keyword" style="color: #cc7832;">if</span> (<span class="hljs-keyword" style="color: #cc7832;">this</span>.status === <span class="hljs-number" style="color: #6897bb;">200</span>) {
      <span class="hljs-comment" style="color: grey;">// Update DOM with the response text</span>
      <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string" style="color: #6a8759;">'time'</span>).innerHTML = <span class="hljs-keyword" style="color: #cc7832;">this</span>.responseText;
    } <span class="hljs-keyword" style="color: #cc7832;">else</span> {
      <span class="hljs-comment" style="color: grey;">// Error handling...</span>
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Something failed!"</span>);
    }
  }
};
<span class="hljs-comment" style="color: grey;">// Send the request</span>
xhr.send();
</pre>
<h3 id="mcetoc_1go387fbq1bn">AJAX and JSON</h3>
<ul>
<li>The property responseText of the XMLHttpRequest object contains the HTTP response body as a string</li>
<li>If the response is an XML document, the data can be accessed directly by the responseXML property</li>
<li>If the response is a JSON document, the JSON string must be parsed manually</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Retrieving a JSON document</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> xhr = <span class="hljs-keyword" style="color: #cc7832;">new</span> XMLHttpRequest();
xhr.open(<span class="hljs-string" style="color: #6a8759;">'GET'</span>, <span class="hljs-string" style="color: #6a8759;">'/ajax/data.json'</span>);
xhr.onloadend = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">if</span> (<span class="hljs-keyword" style="color: #cc7832;">this</span>.status === <span class="hljs-number" style="color: #6897bb;">200</span>) {
    <span class="hljs-comment" style="color: grey;">// Parse the responseText into an object</span>
    <span class="hljs-keyword" style="color: #cc7832;">const</span> obj = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword" style="color: #cc7832;">this</span>.responseText);
    <span class="hljs-built_in">console</span>.log(obj.name+<span class="hljs-string" style="color: #6a8759;">" is "</span>+obj.age+<span class="hljs-string" style="color: #6a8759;">" years old."</span>);
  } <span class="hljs-keyword" style="color: #cc7832;">else</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Error..."</span>);
  }
};
xhr.send();
</pre>
<h3 id="mcetoc_1go387fbq1bo">Same-Origin Policy</h3>
<ul>
<li>The same-origin policy is a browser security feature that restricts how documents and scripts from one origin can interact with resources from another origin</li>
<li>Two URLs have the same origin if the protocol, host, and port are the same</li>
<li>Generally, embedding a cross-origin resource using tags such as img, link, and script is permitted</li>
<li>Accessing a cross-origin resource using an AJAX request is blocked by default</li>
<li>Using CORS headers, a web server can explicitly allow certain hosts to access its resources</li>
</ul>
<h2 id="mcetoc_1go387fbq1bp">jQuery</h2>
<blockquote>
<p>”jQuery is a fast, small, and feature-rich JavaScript library” / <span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">jquery.com</span></p>
</blockquote>
<ul>
<li>jQuery simpliﬁes
<ul>
<li>element selection</li>
<li>DOM traversal/manipulation</li>
<li>event handling</li>
<li>animation</li>
<li>AJAX requests</li>
</ul>
</li>
<li>Provides an easy-to-use API</li>
<li>Is tested on all major browsers</li>
<li>Was initially released in 2006 and used by 80% of the top 100k websites in 2022 (builtwith.com)</li>
</ul>
<h3 id="mcetoc_1go387fbq1bq">jQuery usage</h3>
<p>jQuery can be downloaded and included by a single script tag:<br><code>&lt;script src="js/jquery.js"&gt;&lt;/script&gt;</code><br>jQuery can also be loaded directly from jQuery or a CDN:<br><code>&lt;script src="https://code.jquery.com/jquery-3.3.1.min.js"&gt;&lt;/script&gt;</code><br><code>&lt;script src="https://unpkg.com/jquery"&gt;&lt;/script&gt;</code></p>
<p>Example:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// On document ready...</span>
$(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-comment" style="color: grey;">// Set the css property color of each div to red</span>
  $(<span class="hljs-string" style="color: #6a8759;">'div'</span>).css(<span class="hljs-string" style="color: #6a8759;">'color'</span>, <span class="hljs-string" style="color: #6a8759;">'red'</span>);

  <span class="hljs-comment" style="color: grey;">// Load some content for each selected element</span>
  $(<span class="hljs-string" style="color: #6a8759;">'.content'</span>).each(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>()</span>{
    $(<span class="hljs-keyword" style="color: #cc7832;">this</span>).load(<span class="hljs-string" style="color: #6a8759;">'/ajax/content'</span>, {id: <span class="hljs-keyword" style="color: #cc7832;">this</span>.id});
  });

  <span class="hljs-comment" style="color: grey;">// Register a click event handler. On each click a paragraph is added</span>
  <span class="hljs-comment" style="color: grey;">// to the article element</span>
  $(<span class="hljs-string" style="color: #6a8759;">'#add-content'</span>).click(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    $(<span class="hljs-string" style="color: #6a8759;">'article'</span>).append($(<span class="hljs-string" style="color: #6a8759;">"&lt;p&gt;More content...&lt;/p&gt;"</span>));
  });

  <span class="hljs-comment" style="color: grey;">// Make an AJAX request and insert the received HTML into the DOM</span>
  $.get(<span class="hljs-string" style="color: #6a8759;">'/ajax/test.html'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">data</span>) </span>{
    $(<span class="hljs-string" style="color: #6a8759;">'#result'</span>).html(data);
  });
});
</pre>
<p>There is no magic!</p>
<ul>
<li>$ is an alias for jQuery, which is a function and thus an object</li>
<li>$(...) is equal to jQuery(...) and is just a function call</li>
<li>$.abc() calls the jQuery’s static utility function abc</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// From jQuery’s source code: jQuery is a function and $ an alias</span>
<span class="hljs-keyword" style="color: #cc7832;">var</span> jQuery = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">slector, context</span>) </span>{
<span class="hljs-comment" style="color: grey;">// ...</span>
};
<span class="hljs-built_in">window</span>.jQuery = <span class="hljs-built_in">window</span>.$ = jQuery;</pre>
<h3 id="mcetoc_1go387fbq1br">The jQuery Object</h3>
<ul>
<li>A jQuery object references one or more DOM nodes</li>
<li>jQuery objects have methods to manipulate and to access these nodes</li>
<li>Manipulations are applied to each DOM node referenced by the object</li>
<li>jQuery object methods are chainable</li>
</ul>
<p><code>$('div')</code><br><code>.css('background-color', '#f00')</code><br><code>.addClass('whatever')</code><br><code>.click(function(){ console.log("Clicked!"); })</code><br><code>.first()</code><br><code>.fadeOut(400);</code></p>
<h3 id="mcetoc_1go387fbq1bs">jQuery and AJAX</h3>
<ul>
<li>jQuery has great support for AJAX</li>
<li>Supported data types are XML, HTML, Script, JSON, JSONP, and TEXT</li>
<li>Besides the basic $.ajax() function, there are a number of convenient shorthand functions:
<ul>
<li>$.get()</li>
<li>$.post()</li>
<li>$.getJSON()</li>
<li>.load()</li>
</ul>
</li>
<li>Provides simpliﬁed callback handling (success/error)</li>
<li>In addition, the jqXHR object implements the Promise interface</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// AJAX example with success and error callback</span>
$.ajax({
  url: <span class="hljs-string" style="color: #6a8759;">"/ajax/time"</span>,
  type: <span class="hljs-string" style="color: #6a8759;">"GET"</span>,
  dataType: <span class="hljs-string" style="color: #6a8759;">"text"</span>,
  success: <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">data</span>)</span>{ $(<span class="hljs-string" style="color: #6a8759;">"#time"</span>).html(data); },
  error: <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">jqXHR, status, msg</span>)</span>{ $(<span class="hljs-string" style="color: #6a8759;">"#error"</span>).html(<span class="hljs-string" style="color: #6a8759;">"Error! "</span>+msg); }
});

<span class="hljs-comment" style="color: grey;">// GET example with success callback</span>
$.get(<span class="hljs-string" style="color: #6a8759;">"/ajax/time"</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">data</span>)</span>{ $(<span class="hljs-string" style="color: #6a8759;">"#time"</span>).html(data); });

<span class="hljs-comment" style="color: grey;">// Load example</span>
$(<span class="hljs-string" style="color: #6a8759;">"#time"</span>).load(<span class="hljs-string" style="color: #6a8759;">"/ajax/time"</span>);

<span class="hljs-comment" style="color: grey;">// POST example with success callback and JSON response</span>
$.post(
  <span class="hljs-string" style="color: #6a8759;">"/ajax/get_person_data"</span>,
  $(<span class="hljs-string" style="color: #6a8759;">'#form'</span>).serialize(),    <span class="hljs-comment" style="color: grey;">// request data</span>
  <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">person</span>) </span>{ $(<span class="hljs-string" style="color: #6a8759;">'#person'</span>).html(person.name+<span class="hljs-string" style="color: #6a8759;">" is "</span>+person.age); },
  <span class="hljs-string" style="color: #6a8759;">"json"</span>);
</pre>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript objects</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-objects.html"/>
        <id>https://www.finecloud.ch/javascript-objects.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-01-30T16:26:53+01:00</updated>
            <summary>
                <![CDATA[
                    Object An object is a collection of properties A property has a name and a value An object can be seen as associative array (map) where the keys in the array are the names of the object’s properties // Create object as literal const bob&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gn0ic8ssj0">Object</a></li>
<li><a href="#mcetoc_1gn0ic8ssj1">Object Properties</a></li>
<li><a href="#mcetoc_1gna43tov6">Object Methods</a></li>
<li><a href="#mcetoc_1gna43tov7">Object Constructor</a></li>
<li><a href="#mcetoc_1gna43tov8">Altering Objects</a></li>
<li><a href="#mcetoc_1gnhh62kj1">The this-reference</a></li>
<li><a href="#mcetoc_1go1kjd5kjg">Prototype</a></li>
<li><a href="#mcetoc_1go1kjd5kjh">Inheritance</a>
<ul>
<li><a href="#mcetoc_1go1kjd5kji">Inheritance Helper Function</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1gn0ic8ssj0">Object</h2>
<ul>
<li>An object is a collection of properties</li>
<li>A property has a name and a value</li>
<li>An object can be seen as associative array (map) where the keys in the array are the names of the object’s properties</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Create object as literal</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> bob = {
  name: <span class="hljs-string" style="color: #6a8759;">"Bob"</span>,
  age: <span class="hljs-number" style="color: #6897bb;">25</span>
};

<span class="hljs-comment" style="color: grey;">// Access properties</span>
<span class="hljs-built_in">console</span>.log(bob.name);               <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob</span>
bob.age = bob.age+<span class="hljs-number" style="color: #6897bb;">1</span>;
bob.age++;
<span class="hljs-built_in">console</span>.log(bob.age);                <span class="hljs-comment" style="color: grey;">// &gt;&gt; 27</span>
</pre>
<h2 id="mcetoc_1gn0ic8ssj1">Object Properties</h2>
<ul>
<li>Properties can dynamically be added to an object</li>
<li>Properties can be accessed using the dot or index operator</li>
<li>Property names that are not valid variable names have to be put in quotes</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> bob = {name: <span class="hljs-string" style="color: #6a8759;">"Bob"</span>, age: <span class="hljs-number" style="color: #6897bb;">25</span>};

<span class="hljs-comment" style="color: grey;">// Add new properties</span>
bob.hairColor = <span class="hljs-string" style="color: #6a8759;">"black"</span>;
<span class="hljs-built_in">console</span>.log(bob.hairColor);          <span class="hljs-comment" style="color: grey;">// &gt;&gt; black</span>
<span class="hljs-built_in">console</span>.log(bob.lastname);           <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>

<span class="hljs-comment" style="color: grey;">// Access properties using the dot or index operator</span>
<span class="hljs-built_in">console</span>.log(bob.name);               <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob</span>
<span class="hljs-built_in">console</span>.log(bob[<span class="hljs-string" style="color: #6a8759;">"name"</span>]);            <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob</span>

<span class="hljs-comment" style="color: grey;">// Property with quoted name</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> alice = {
  name: <span class="hljs-string" style="color: #6a8759;">"Alice"</span>,
  <span class="hljs-string" style="color: #6a8759;">"year of birth"</span>: <span class="hljs-number" style="color: #6897bb;">1991</span>
};
<span class="hljs-built_in">console</span>.log(alice[<span class="hljs-string" style="color: #6a8759;">"year of birth"</span>]); <span class="hljs-comment" style="color: grey;">// &gt;&gt; 1991</span>
</pre>
<h2 id="mcetoc_1gna43tov6">Object Methods</h2>
<ul>
<li>An object property that points to a function value is called method</li>
<li>Within the method body, the this reference points to the object the method is called on</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> bob = {name: <span class="hljs-string" style="color: #6a8759;">"Bob"</span>};

<span class="hljs-comment" style="color: grey;">// Add method to object</span>
bob.speak = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">phrase</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says: "</span>+phrase);
};
bob.speak(<span class="hljs-string" style="color: #6a8759;">"What's up?"</span>);        <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob says: What's up?</span>
<span class="hljs-built_in">console</span>.log(bob.speak);         <span class="hljs-comment" style="color: grey;">// &gt;&gt; [Function]</span>

<span class="hljs-comment" style="color: grey;">// Object literal with method</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> alice = {
  name: <span class="hljs-string" style="color: #6a8759;">"Alice"</span>,
  speak: <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">phrase</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says: "</span>+phrase);
  }
};
alice.speak(<span class="hljs-string" style="color: #6a8759;">"Great!"</span>);          <span class="hljs-comment" style="color: grey;">// &gt;&gt; Alice says: Great!</span>
</pre>
<h2 id="mcetoc_1gna43tov7">Object Constructor</h2>
<ul>
<li>A constructor function is a normal function, but treated as constructor when called with the new operator</li>
<li>The this reference points to the new object</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Constructor function</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Person</span>(<span class="hljs-params">name, age</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.name = name;
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.age = age;
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.speak = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">phrase</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says: "</span>+phrase);
  }
}

<span class="hljs-comment" style="color: grey;">// Create objects</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> alice = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Alice"</span>, <span class="hljs-number" style="color: #6897bb;">19</span>);
<span class="hljs-keyword" style="color: #cc7832;">const</span> bob = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Bob"</span>, <span class="hljs-number" style="color: #6897bb;">25</span>);

<span class="hljs-built_in">console</span>.log(alice.name);    <span class="hljs-comment" style="color: grey;">// Alice</span>
bob.speak(<span class="hljs-string" style="color: #6a8759;">"I'm Bob"</span>);       <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob says: I'm Bob</span>
</pre>
<h2 id="mcetoc_1gna43tov8">Altering Objects</h2>
<p>Objects can always be altered even if they were created using a constructor function:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Person</span>(<span class="hljs-params">name, age</span>) </span>{
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.name = name;
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.age = age;
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.speak = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> (<span class="hljs-params">phrase</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name + <span class="hljs-string" style="color: #6a8759;">" says: "</span> + phrase);
    }
    <span class="hljs-keyword" style="color: #cc7832;">this</span>.sleep = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> () </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"CHRRRZ Z Z z z..."</span>);
    };
}

<span class="hljs-keyword" style="color: #cc7832;">const</span> bob = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Bob"</span>, <span class="hljs-number" style="color: #6897bb;">25</span>);

<span class="hljs-comment" style="color: grey;">// Alter bob</span>
bob.speak = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> () </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Sorry, I prefer writing"</span>);
}
bob.write = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> (<span class="hljs-params">phrase</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name + <span class="hljs-string" style="color: #6a8759;">" writes: "</span> + phrase);
}
<span class="hljs-keyword" style="color: #cc7832;">delete</span> bob.sleep;

bob.speak(<span class="hljs-string" style="color: #6a8759;">"Bla bla"</span>);    <span class="hljs-comment" style="color: grey;">// &gt;&gt; Sorry, I prefer writing</span>
bob.write(<span class="hljs-string" style="color: #6a8759;">"Bla bla"</span>);   <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob writes: Bla bla</span>
bob.sleep();             <span class="hljs-comment" style="color: grey;">// ! TypeError: bob.sleep is not a function !</span>

<span class="hljs-comment" style="color: grey;">// bob is still a Person</span>
<span class="hljs-built_in">console</span>.log(bob <span class="hljs-keyword" style="color: #cc7832;">instanceof</span> Person);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span></pre>
<h2 id="mcetoc_1gnhh62kj1">The this-reference</h2>
<ul>
<li>The this reference within a function points to the bound object</li>
<li>Functions are implicitly bound to the object the function is called on (methods)</li>
<li>Functions can be explicitly bound using bind or call</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// speak is not bound ('this' points to the global object or is undefined)</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">speak</span>(<span class="hljs-params">phrase</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says: "</span>+phrase);
}
speak(<span class="hljs-string" style="color: #6a8759;">"Hello"</span>);           <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined says: Hello</span>
                          <span class="hljs-comment" style="color: grey;">// OR</span>
                          <span class="hljs-comment" style="color: grey;">// TypeError: Cannot read property name of undefined</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> alice = {name: <span class="hljs-string" style="color: #6a8759;">"Alice"</span>, speak: speak};
<span class="hljs-comment" style="color: grey;">// speak is implicitly bound to alice when called as method</span>
alice.speak(<span class="hljs-string" style="color: #6a8759;">"Hello"</span>);     <span class="hljs-comment" style="color: grey;">// &gt;&gt; Alice says: Hello</span>

<span class="hljs-comment" style="color: grey;">// bind creates a new function which is explicitly bound to the passed object</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> aliceSpeak = speak.bind(alice);
aliceSpeak(<span class="hljs-string" style="color: #6a8759;">"Hello"</span>);      <span class="hljs-comment" style="color: grey;">// &gt;&gt; Alice says: Hello</span>

<span class="hljs-comment" style="color: grey;">// call explicitly binds the function to the passed object and calls it</span>
speak.call(alice, <span class="hljs-string" style="color: #6a8759;">"Hi"</span>);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; Alice says: Hi</span>
</pre>
<h2 id="mcetoc_1go1kjd5kjg">Prototype</h2>
<ul>
<li>Most objects have a prototype, which is another object used as fallback source for properties</li>
<li>The prototype is often referenced by the __proto__ property (not standardized)</li>
<li>Each function has a prototype property which points to an object.</li>
<li>This object becomes the prototype of the objects created with the new operator from that function</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Person</span>(<span class="hljs-params">name, age</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.name = name;
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.age = age;
}
<span class="hljs-comment" style="color: grey;">// Add functionality to Person's prototype</span>
Person.prototype.speak = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">phrase</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says: "</span>+phrase);
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> alice = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Alice"</span>, <span class="hljs-number" style="color: #6897bb;">19</span>);
<span class="hljs-keyword" style="color: #cc7832;">const</span> bob = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Bob"</span>, <span class="hljs-number" style="color: #6897bb;">25</span>);

<span class="hljs-comment" style="color: grey;">// alice and bob have the same prototype</span>
<span class="hljs-built_in">console</span>.log(alice.__proto__ === bob.__proto__); <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>

<span class="hljs-comment" style="color: grey;">// New functionality can always be added to a prototype</span>
Person.prototype.sleep = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"CHRRRZ Z Z z z ..."</span>);
};

bob.sleep();    <span class="hljs-comment" style="color: grey;">// &gt;&gt; CHRRR Z Z Z z z ...</span>
</pre>
<ul>
<li>Using prototype functions has the advantage that only one function instance is needed for all objects</li>
<li>But prototype functions have no access to local variables of the constructor function</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Person</span>(<span class="hljs-params">name, age</span>) </span>{
  <span class="hljs-comment" style="color: grey;">// Public property</span>
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.name = name;
  <span class="hljs-comment" style="color: grey;">// Local variable (private property)</span>
  <span class="hljs-keyword" style="color: #cc7832;">const</span> yearOfBirth = <span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Date</span>().getFullYear()-age;
  <span class="hljs-comment" style="color: grey;">// Only functions defined in the constructor function can access local variables</span>
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.getYearOfBirth = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> yearOfBirth;
  }
}
Person.prototype.toString = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-comment" style="color: grey;">// Prototype functions have only access to the public properties of the object</span>
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" was bron in "</span>+<span class="hljs-keyword" style="color: #cc7832;">this</span>.getYearOfBirth();
}
<span class="hljs-keyword" style="color: #cc7832;">const</span> bob = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-string" style="color: #6a8759;">"Bob"</span>, <span class="hljs-number" style="color: #6897bb;">25</span>);
<span class="hljs-built_in">console</span>.log(bob+<span class="hljs-string" style="color: #6a8759;">"!"</span>);   <span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob was born in 1996!</span>
</pre>
<h2 id="mcetoc_1go1kjd5kjh">Inheritance</h2>
<ul>
<li>Prototype properties are inherited over several levels</li>
<li>Inheritance is set up by
<ul>
<li>calling the base constructor function to initialize the new object :</li>
</ul>
</li>
</ul>
<p><code>function Student(name, age, university) {</code><br><code>Person.call(this, name, age);</code><br><code>// ...</code><br><code>}</code></p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>setting the prototype object of the base constructor function as the prototype of the prototype object of the sub constructor function:</li>
</ul>
</li>
</ul>
<p><code>// Student’s prototype object must be replaced by a new object which</code><br><code>// has Person’s prototype object as prototype</code><br><code>Student.prototype = Object.create(Person.prototype);</code><br><code>Student.prototype.constructor = Student;</code></p>
<p>Example1:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Person</span>(<span class="hljs-params">name, age</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.name = name;
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.age = age;
}
Person.prototype.describe = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" is "</span>+<span class="hljs-keyword" style="color: #cc7832;">this</span>.age);
}
Person.prototype.speak = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">phrase</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" says: "</span>+phrase);
}

<span class="hljs-comment" style="color: grey;">// Student extends Person</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Student</span>(<span class="hljs-params">name, age, university</span>) </span>{
  Person.call(<span class="hljs-keyword" style="color: #cc7832;">this</span>, name, age);
  <span class="hljs-keyword" style="color: #cc7832;">this</span>.university = university;
}
Student.prototype = <span class="hljs-built_in">Object</span>.create(Person.prototype);
Student.prototype.constructor = Student;

Student.prototype.sleep = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"CHRRRZ Z Z z z..."</span>);
}
Student.prototype.describe = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>()</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" is a student at "</span>+<span class="hljs-keyword" style="color: #cc7832;">this</span>.university);
};
</pre>
<p>Example2:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> bob = <span class="hljs-keyword" style="color: #cc7832;">new</span> Student(<span class="hljs-string" style="color: #6a8759;">"Bob"</span>, <span class="hljs-number" style="color: #6897bb;">25</span>, <span class="hljs-string" style="color: #6a8759;">"BFH"</span>);
<span class="hljs-built_in">console</span>.log(bob <span class="hljs-keyword" style="color: #cc7832;">instanceof</span> Student); <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>
<span class="hljs-built_in">console</span>.log(bob <span class="hljs-keyword" style="color: #cc7832;">instanceof</span> Person); <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>
bob.speak(<span class="hljs-string" style="color: #6a8759;">"Hi"</span>);
bob.describe();
bob.sleep();
<span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob says: Hi</span>
<span class="hljs-comment" style="color: grey;">// &gt;&gt; Bob is a student at BFH</span>
<span class="hljs-comment" style="color: grey;">// &gt;&gt; CHRRRZ Z Z z z...</span></pre>
<h3 id="mcetoc_1go1kjd5kji">Inheritance Helper Function</h3>
<p>Using a helper function simpliﬁes inheritance and makes it less error prone:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Helper to correctly set up the prototype chain</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">extend</span>(<span class="hljs-params">base, sub</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">const</span> origProto = sub.prototype;
  sub.prototype = <span class="hljs-built_in">Object</span>.create(base.prototype);
  <span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> key <span class="hljs-keyword" style="color: #cc7832;">in</span> origProto) {
    sub.prototype[key] = origProto[key];
  }
  <span class="hljs-built_in">Object</span>.defineProperty(sub.prototype, <span class="hljs-string" style="color: #6a8759;">'constructor'</span>, {
    enumerable: <span class="hljs-literal" style="color: #6897bb;">false</span>,
    value: sub
  });
}
<span class="hljs-comment" style="color: grey;">//----------------------------------------</span>

<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">Prof</span>(<span class="hljs-params">name, age</span>) </span>{
  Person.call(<span class="hljs-keyword" style="color: #cc7832;">this</span>, name, age);
}
Prof.prototype.describe = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Prof. "</span>+<span class="hljs-keyword" style="color: #cc7832;">this</span>.name+<span class="hljs-string" style="color: #6a8759;">" is "</span>+<span class="hljs-keyword" style="color: #cc7832;">this</span>.age+<span class="hljs-string" style="color: #6a8759;">"years old"</span>);
}
extend(Person, Prof);
</pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Difference between heap and stack</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/difference-between-heap-and-stack.html"/>
        <id>https://www.finecloud.ch/difference-between-heap-and-stack.html</id>
            <category term="software development"/>
            <category term="dev"/>

        <updated>2023-01-21T13:27:07+01:00</updated>
            <summary>
                <![CDATA[
                    In this Post I try to explain the difference between the heap and the stack. It's just a very high level amateur explanation, there is a lot more to read and learn about this Topics. This Drawing helps me a lot to understand the basic&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gna4n2a12f">Overview</a></li>
<li><a href="#mcetoc_1gna4n2a12g">Key Difference Between Stack and Heap Memory</a></li>
<li><a href="#what-is-a-stack">What is a Stack?</a></li>
<li><a href="#what-is-heap">What is Heap?</a></li>
</ul>
</div>
<p>In this Post I try to explain the difference between the heap and the stack. It's just a very high level amateur explanation, there is a lot more to read and learn about this Topics.</p>
<h2 id="mcetoc_1gna4n2a12f">Overview</h2>
<p>This Drawing helps me a lot to understand the basic difference between the heap and the stack and as well how they interact together.</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/75/HeapAndStack-2.png" alt="" width="721" height="361" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/75/responsive/HeapAndStack-2-xs.png 300w ,https://www.finecloud.ch/media/posts/75/responsive/HeapAndStack-2-sm.png 480w ,https://www.finecloud.ch/media/posts/75/responsive/HeapAndStack-2-md.png 768w ,https://www.finecloud.ch/media/posts/75/responsive/HeapAndStack-2-lg.png 1024w ,https://www.finecloud.ch/media/posts/75/responsive/HeapAndStack-2-xl.png 1360w ,https://www.finecloud.ch/media/posts/75/responsive/HeapAndStack-2-2xl.png 1600w"></figure>
<p>The Heap is unstructured, this means that the Objects are laying somewhere around in the memory.</p>
<h2 id="mcetoc_1gna4n2a12g">Key Difference Between Stack and Heap Memory</h2>
<ul>
<li>Stack is a linear data structure whereas Heap is a hierarchical data structure.</li>
<li>Stack memory will never become fragmented whereas Heap memory can become fragmented as blocks of memory are first allocated and then freed.</li>
<li>Stack accesses local variables only while Heap allows you to access variables globally.</li>
<li>Stack variables can’t be resized whereas Heap variables can be resized.</li>
<li>Stack memory is allocated in a contiguous block whereas Heap memory is allocated in any random order.</li>
<li>Stack doesn’t require to de-allocate variables whereas in Heap de-allocation is needed.</li>
<li>Stack allocation and deallocation are done by compiler instructions whereas Heap allocation and deallocation is done by the programmer.</li>
</ul>
<h2 id="what-is-a-stack">What is a Stack?</h2>
<p>A stack is a special area of computer’s memory which stores temporary variables created by a function. In stack, variables are declared, stored and initialized during runtime.</p>
<p>It is a temporary storage memory. When the computing task is complete, the memory of the variable will be automatically erased. The stack section mostly contains methods, local variable, and reference variables.</p>
<h2 id="what-is-heap">What is Heap?</h2>
<p>The heap is a memory used by programming languages to store global variables. By default, all global variable are stored in heap memory space. It supports Dynamic memory allocation.</p>
<p>The heap is not managed automatically for you and is not as tightly managed by the CPU. It is more like a free-floating region of memory.</p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript arrays</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-arrays.html"/>
        <id>https://www.finecloud.ch/javascript-arrays.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>
            <category term="array"/>

        <updated>2023-01-17T20:13:15+01:00</updated>
            <summary>
                <![CDATA[
                    Array An array combines multiple values in a single variable Arrays are helpful if the number of values is huge or dynamic Each value of an array has a unique numerical index // Normal variables hold exactly one value const colorA = "blue"; const colorB&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gn0hhd5uff">Array</a></li>
<li><a href="#mcetoc_1gn0hhd5ufg">Creating an Array</a></li>
<li><a href="#mcetoc_1gn0hhd5ufh">Modifying an Array</a></li>
<li><a href="#mcetoc_1gn0icm1fj8">FIFO and LIFO</a></li>
<li><a href="#mcetoc_1gn0icm1fj9">Loop Through an Array</a></li>
<li><a href="#mcetoc_1gn0icm1fja">Arrays are Objects</a></li>
</ul>
</div>
<h2 id="mcetoc_1gn0hhd5uff">Array</h2>
<ul>
<li>An array combines multiple values in a single variable</li>
<li>Arrays are helpful if the number of values is huge or dynamic</li>
<li>Each value of an array has a unique numerical index</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Normal variables hold exactly one value</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> colorA = <span class="hljs-string" style="color: #6a8759;">"blue"</span>;
<span class="hljs-keyword" style="color: #cc7832;">const</span> colorB = <span class="hljs-string" style="color: #6a8759;">"red"</span>;
<span class="hljs-keyword" style="color: #cc7832;">const</span> colorC = <span class="hljs-string" style="color: #6a8759;">"yellow"</span>;

<span class="hljs-comment" style="color: grey;">// An array variable can hold more than one value</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> colors = [<span class="hljs-string" style="color: #6a8759;">"blue"</span>, <span class="hljs-string" style="color: #6a8759;">"red"</span>, <span class="hljs-string" style="color: #6a8759;">"yellow"</span>];

<span class="hljs-comment" style="color: grey;">// Each value of the array can be accessed by a numerical index</span>
<span class="hljs-built_in">console</span>.log(colors[<span class="hljs-number" style="color: #6897bb;">0</span>]);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; blue</span>
<span class="hljs-built_in">console</span>.log(colors[<span class="hljs-number" style="color: #6897bb;">1</span>]);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; red</span>
<span class="hljs-built_in">console</span>.log(colors[<span class="hljs-number" style="color: #6897bb;">2</span>]);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; yellow</span>
</pre>
<h2 id="mcetoc_1gn0hhd5ufg">Creating an Array</h2>
<ul>
<li>An array can be created as a literal or by using the array constructor (not recommended)</li>
<li>The values of an array may have different types</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Array literal (recommended)</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> a = [<span class="hljs-string" style="color: #6a8759;">"one"</span>, <span class="hljs-string" style="color: #6a8759;">"two"</span>, <span class="hljs-string" style="color: #6a8759;">"three"</span>, <span class="hljs-string" style="color: #6a8759;">"four"</span>];

<span class="hljs-comment" style="color: grey;">// Array constructor (not recommended)</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> b = <span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string" style="color: #6a8759;">"Apple"</span>, <span class="hljs-string" style="color: #6a8759;">"Mango"</span>, <span class="hljs-string" style="color: #6a8759;">"Kiwi"</span>);

<span class="hljs-keyword" style="color: #cc7832;">const</span> c = <span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">4</span>);  <span class="hljs-comment" style="color: grey;">// creates [3, 4]</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> d = <span class="hljs-keyword" style="color: #cc7832;">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number" style="color: #6897bb;">3</span>);     <span class="hljs-comment" style="color: grey;">// creates [, , ] (three empty solots)</span>

<span class="hljs-comment" style="color: grey;">// Array with different types</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> e = [<span class="hljs-string" style="color: #6a8759;">"Apple"</span>, <span class="hljs-number" style="color: #6897bb;">5</span>, <span class="hljs-literal" style="color: #6897bb;">true</span>, <span class="hljs-number" style="color: #6897bb;">4.25</span>, <span class="hljs-literal" style="color: #6897bb;">null</span>];
</pre>
<h2 id="mcetoc_1gn0hhd5ufh">Modifying an Array</h2>
<ul>
<li>Elements can be modiﬁed and inserted using the index operator</li>
<li>In addition, there are many useful methods to work with arrays (see developer.mozilla.org)</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = [<span class="hljs-number" style="color: #6897bb;">7</span>, <span class="hljs-number" style="color: #6897bb;">8</span>, <span class="hljs-number" style="color: #6897bb;">40</span>];

<span class="hljs-comment" style="color: grey;">// Change value</span>
a[<span class="hljs-number" style="color: #6897bb;">2</span>] = <span class="hljs-number" style="color: #6897bb;">45</span>;              <span class="hljs-comment" style="color: grey;">// [7, 8, 45]</span>

<span class="hljs-comment" style="color: grey;">// Insert new values</span>
a[a.length] = <span class="hljs-number" style="color: #6897bb;">17</span>;       <span class="hljs-comment" style="color: grey;">// [7, 8, 45, 17]</span>
a[<span class="hljs-number" style="color: #6897bb;">6</span>] = <span class="hljs-number" style="color: #6897bb;">23</span>;              <span class="hljs-comment" style="color: grey;">// [7, 8, 45, 17, , , 23] (length: 7)</span>
<span class="hljs-built_in">console</span>.log(a[<span class="hljs-number" style="color: #6897bb;">5</span>]);      <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>

<span class="hljs-comment" style="color: grey;">// Remove some elements</span>
a.splice(<span class="hljs-number" style="color: #6897bb;">2</span>, <span class="hljs-number" style="color: #6897bb;">4</span>);         <span class="hljs-comment" style="color: grey;">// [7, 8, 23]</span>

<span class="hljs-comment" style="color: grey;">// Use array as stack</span>
a.push(<span class="hljs-number" style="color: #6897bb;">12</span>);             <span class="hljs-comment" style="color: grey;">// [7, 8, 23, 12]</span>
<span class="hljs-built_in">console</span>.log(a.pop());   <span class="hljs-comment" style="color: grey;">// &gt;&gt; 12  (a: [7, 8, 23])</span>
</pre>
<h2 id="mcetoc_1gn0icm1fj8">FIFO and LIFO</h2>
<p>No these are not Dogs. It's about two different concepts and the main difference between a Queue and a Stack:</p>
<ul>
<li>FIFO = first in first out -&gt; that's a queue</li>
<li>LIFO = last in first out -&gt; that's a stack</li>
</ul>
<p>In JavaScript we use <code>push</code> to put's it on top of stack and <code>pop</code> to pull an element from the top of a stack </p>
<h2 id="mcetoc_1gn0icm1fj9">Loop Through an Array</h2>
<p>There are different ways to iterate over the elements of an array:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> colors = [<span class="hljs-string" style="color: #6a8759;">"blue"</span>, <span class="hljs-string" style="color: #6a8759;">"red"</span>, , <span class="hljs-string" style="color: #6a8759;">"black"</span>];

<span class="hljs-comment" style="color: grey;">// Using for loop</span>
<span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> i = <span class="hljs-number" style="color: #6897bb;">0</span>; i &lt; a.length; i++) {      <span class="hljs-comment" style="color: grey;">// &gt;&gt; 0 -&gt; blue</span>
  <span class="hljs-built_in">console</span>.log(i+<span class="hljs-string" style="color: #6a8759;">" -&gt; "</span>+a[i]);         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 1 -&gt; red</span>
}                                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 2 -&gt; undefined</span>
                                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; 3 -&gt; black</span>

<span class="hljs-comment" style="color: grey;">// Using for...of loop</span>
<span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> color <span class="hljs-keyword" style="color: #cc7832;">of</span> colors) {               <span class="hljs-comment" style="color: grey;">// &gt;&gt; blue</span>
  <span class="hljs-built_in">console</span>.log(color);                     <span class="hljs-comment" style="color: grey;">// &gt;&gt; red</span>
}                                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>
                                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; black</span>

<span class="hljs-comment" style="color: grey;">// Using forEach method (empty slots are skipped)</span>
a.forEach(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">item, index</span>) </span>{         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 0 -&gt; blue</span>
  <span class="hljs-built_in">console</span>.log(index+<span class="hljs-string" style="color: #6a8759;">" -&gt; "</span>+item);     <span class="hljs-comment" style="color: grey;">// &gt;&gt; 1 -&gt; red</span>
});                                       <span class="hljs-comment" style="color: grey;">// &gt;&gt; 3 -&gt; black</span>
</pre>
<h2 id="mcetoc_1gn0icm1fja">Arrays are Objects</h2>
<ul>
<li>Arrays in JavaScript are based on numerical indexes</li>
<li>Named indexes access properties of an object</li>
<li>Since arrays are objects, both types of indexes can be used but address different concepts</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> colors = [<span class="hljs-string" style="color: #6a8759;">"blue"</span>, <span class="hljs-string" style="color: #6a8759;">"red"</span>, <span class="hljs-string" style="color: #6a8759;">"black"</span>];
<span class="hljs-built_in">console</span>.log(colors.length);               <span class="hljs-comment" style="color: grey;">// &gt;&gt; 3</span>

<span class="hljs-comment" style="color: grey;">// Named indexes address object properties and not array values</span>
colors[<span class="hljs-string" style="color: #6a8759;">"favorite"</span>] = <span class="hljs-string" style="color: #6a8759;">"pink"</span>;
<span class="hljs-built_in">console</span>.log(colors.favorite);             <span class="hljs-comment" style="color: grey;">// &gt;&gt; pink</span>
<span class="hljs-built_in">console</span>.log(colors.length);               <span class="hljs-comment" style="color: grey;">// &gt;&gt; 3 (still!)</span>

colors.forEach(<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">item, index</span>) </span>{    <span class="hljs-comment" style="color: grey;">// &gt;&gt; 0 -&gt; blue</span>
  <span class="hljs-built_in">console</span>.log(index+<span class="hljs-string" style="color: #6a8759;">" -&gt; "</span>+item);     <span class="hljs-comment" style="color: grey;">// &gt;&gt; 1 -&gt; red</span>
});                                       <span class="hljs-comment" style="color: grey;">// &gt;&gt; 2 -&gt; black</span>

<span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> i <span class="hljs-keyword" style="color: #cc7832;">in</span> colors) {                   <span class="hljs-comment" style="color: grey;">// &gt;&gt; 0 -&gt; blue</span>
  <span class="hljs-built_in">console</span>.log(i+<span class="hljs-string" style="color: #6a8759;">" -&gt; "</span>+colors[i]);    <span class="hljs-comment" style="color: grey;">// &gt;&gt; 1 -&gt; red</span>
}                                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 2 -&gt; black</span>
                                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; favorite -&gt; pink</span>
</pre>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript functions</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-functions.html"/>
        <id>https://www.finecloud.ch/javascript-functions.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-01-17T19:41:43+01:00</updated>
            <summary>
                <![CDATA[
                    Function Expression A function expression starts with the keyword function followed by the function arguments in parentheses and the function body in curly braces: const square = function(x) { return x * x; }; console.log(square(4)); // &gt;&gt; 16 Function Scope Each function deﬁnes a scope&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gn00tl6e8l">Function Expression</a></li>
<li><a href="#mcetoc_1gn018lrv9b">Function Scope</a></li>
<li><a href="#mcetoc_1gn018lrv9c">Lexical Scope</a></li>
<li><a href="#mcetoc_1gn02tcrha3">Nested Scope</a></li>
<li><a href="#mcetoc_1gn02tcrha4">Functions are Objects</a></li>
<li><a href="#mcetoc_1gn036mefbt">Closure</a></li>
<li><a href="#mcetoc_1gn036mefbu">Function Declaration</a></li>
<li><a href="#mcetoc_1gn0ggrqvcq">Function Declarations are Hoisted</a></li>
</ul>
</div>
<h2 id="mcetoc_1gn00tl6e8l">Function Expression</h2>
<p>A function expression starts with the keyword function followed by the function arguments in parentheses and the function body in curly braces:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> square = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">x</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> x * x;
};

<span class="hljs-built_in">console</span>.log(square(<span class="hljs-number" style="color: #6897bb;">4</span>));  <span class="hljs-comment" style="color: grey;">// &gt;&gt; 16</span>
</pre>
<h2 id="mcetoc_1gn018lrv9b">Function Scope</h2>
<ul>
<li>Each function deﬁnes a scope</li>
<li>Local variables of a function are not visible outside of the function</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-string" style="color: #6a8759;">"Hello "</span>;          <span class="hljs-comment" style="color: grey;">// a has global scope</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">b</span>) </span>{      <span class="hljs-comment" style="color: grey;">// b is local to f</span>
  <span class="hljs-keyword" style="color: #cc7832;">const</span> c = <span class="hljs-string" style="color: #6a8759;">"!"</span>;             <span class="hljs-comment" style="color: grey;">// c is local to f</span>
  <span class="hljs-built_in">console</span>.log(a+b+c);
};

f(<span class="hljs-string" style="color: #6a8759;">"World"</span>);                 <span class="hljs-comment" style="color: grey;">// &gt;&gt; Hello World!</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> b);      <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> c);      <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span></pre>
<h2 id="mcetoc_1gn018lrv9c">Lexical Scope</h2>
<p>Variables have lexical (static) scope, i.e., the scope of a variable is determined by the code context of the variable:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">2</span>;

<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">b</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> a+b;
};

<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">7</span>));      <span class="hljs-comment" style="color: grey;">// &gt;&gt; 9</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> g = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">5</span>;          <span class="hljs-comment" style="color: grey;">// a is hiding the global variable inside g</span>
  <span class="hljs-keyword" style="color: #cc7832;">return</span> f(<span class="hljs-number" style="color: #6897bb;">7</span>);          <span class="hljs-comment" style="color: grey;">// but the global variable is used inside f</span>
};
<span class="hljs-built_in">console</span>.log(g());       <span class="hljs-comment" style="color: grey;">// &gt;&gt; 9</span>
</pre>
<h2 id="mcetoc_1gn02tcrha3">Nested Scope</h2>
<ul>
<li>Blocks and functions can be created inside other blocks and functions</li>
<li>Each local scope can access the variables from the surrounding scopes</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">2</span>;

<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">b</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">let</span> x = <span class="hljs-number" style="color: #6897bb;">1</span>;

  <span class="hljs-keyword" style="color: #cc7832;">const</span> g = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{    <span class="hljs-comment" style="color: grey;">// g has access to the local variables of f and to</span>
    x *= a;                 <span class="hljs-comment" style="color: grey;">// the variables of the global scope</span>
  };

  <span class="hljs-keyword" style="color: #cc7832;">while</span> (x &lt; b) g();
  <span class="hljs-keyword" style="color: #cc7832;">return</span> x;
};
<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">100</span>))        <span class="hljs-comment" style="color: grey;">// &gt;&gt; 128</span>
</pre>
<h2 id="mcetoc_1gn02tcrha4">Functions are Objects</h2>
<p>Functions are objects, hence they can be used as arguments and return values of other functions (higher-order functions)</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Function as argument</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> repeat = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">action, n</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> i = <span class="hljs-number" style="color: #6897bb;">0</span>; i &lt; n; i++) action();
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> sayHello = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Hello"</span>);
}
repeat(sayHello, <span class="hljs-number" style="color: #6897bb;">3</span>);                   <span class="hljs-comment" style="color: grey;">// &gt;&gt; Hello Hello Hello</span>

<span class="hljs-comment" style="color: grey;">// Function as return value</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> formatter = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">prefix, suffix</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> prefix+s+suffix;
  }
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> format = formatter(<span class="hljs-string" style="color: #6a8759;">"'"</span>, <span class="hljs-string" style="color: #6a8759;">"!'"</span>);
<span class="hljs-built_in">console</span>.log(format(<span class="hljs-string" style="color: #6a8759;">"Hello World"</span>));    <span class="hljs-comment" style="color: grey;">// &gt;&gt; 'Hello World!'</span>
</pre>
<h2 id="mcetoc_1gn036mefbt">Closure</h2>
<p>A function that references a speciﬁc instance of a local variable in an enclosing function is called a closure:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> counter = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">init</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">let</span> val = <span class="hljs-built_in">Number</span>(init);
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> ++val;
  };
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> countA = counter(<span class="hljs-number" style="color: #6897bb;">12</span>);    <span class="hljs-comment" style="color: grey;">// countA references a specific instance of val</span>
<span class="hljs-built_in">console</span>.log(countA());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 13</span>
<span class="hljs-built_in">console</span>.log(countA());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 14</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> countB = counter(<span class="hljs-string" style="color: #6a8759;">"6"</span>);   <span class="hljs-comment" style="color: grey;">// countB references another instance of val</span>
<span class="hljs-built_in">console</span>.log(countB());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 7</span>
<span class="hljs-built_in">console</span>.log(countA());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 15</span>
</pre>
<h2 id="mcetoc_1gn036mefbu">Function Declaration</h2>
<p>A function declaration deﬁnes a variable which points to the given function:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Declare f to be a function</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">f</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"I'm a chicken"</span>;
}

<span class="hljs-built_in">console</span>.log(f());      <span class="hljs-comment" style="color: grey;">// &gt;&gt; I'm a chicken</span>

<span class="hljs-comment" style="color: grey;">// The variable f can be reassigned</span>
f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"I'm a fox"</span>;
}

<span class="hljs-built_in">console</span>.log(f());      <span class="hljs-comment" style="color: grey;">// &gt;&gt; I'm a fox</span>
</pre>
<h2 id="mcetoc_1gn0ggrqvcq">Function Declarations are Hoisted</h2>
<p>Function declarations are not part of the regular top-to-bottom ﬂow of control:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// The function f can be used before it is declared</span>
<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">4</span>));     <span class="hljs-comment" style="color: grey;">// &gt;&gt; 48</span>

<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">f</span>(<span class="hljs-params">a</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> g() * a;
};

<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">g</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-number" style="color: #6897bb;">12</span>;
}
</pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript basics</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-basics.html"/>
        <id>https://www.finecloud.ch/javascript-basics.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-01-17T19:50:27+01:00</updated>
            <summary>
                <![CDATA[
                    What JavaScript is A scripting language originally designed for web browsers Object-oriented, however prototype-based and not class-based Supporting ﬁrst-class functions A multi-paradigm language, supports imperative, object-oriented and functional programming style Untyped Moving from an interpreted language to just-in-time compilation Nowadays used for server-side programming too&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gmvv0co91">What JavaScript is</a></li>
<li><a href="#mcetoc_1gmvve8qg1r">JavaScript and the Browser</a></li>
<li><a href="#mcetoc_1gmvve8qg1s">Node.js</a></li>
<li><a href="#mcetoc_1gn00enet3r">Variable Declaration and Value Assignment</a></li>
<li><a href="#mcetoc_1gn00enet3s">JavaScript is untyped</a></li>
<li><a href="#mcetoc_1gn00tl6e8i">Block Scope</a></li>
<li><a href="#mcetoc_1gn00tl6e8j">Equality and Identicalness</a></li>
</ul>
</div>
<h2 id="mcetoc_1gmvv0co91">What JavaScript is</h2>
<ul>
<li>A scripting language originally designed for web browsers</li>
<li>Object-oriented, however prototype-based and not class-based</li>
<li>Supporting ﬁrst-class functions</li>
<li>A multi-paradigm language, supports imperative, object-oriented and functional programming style</li>
<li>Untyped</li>
<li>Moving from an interpreted language to just-in-time compilation</li>
<li>Nowadays used for server-side programming too</li>
<li>Relying on a host/run-time environment (web browser, Node.js)</li>
</ul>
<h2 id="mcetoc_1gmvve8qg1r">JavaScript and the Browser</h2>
<ul>
<li>The browser is the most common host environment</li>
<li>It provides a graphical user interface (via DOM)</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment" style="color: grey;">// Output to the console</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Hello world"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;<br></span></span></pre>
<h2 id="mcetoc_1gmvve8qg1s">Node.js</h2>
<ul>
<li>Node.js is a server-side host environment</li>
<li>Initially conceived to facilitate asynchronous I/O</li>
</ul>
<pre class="hljs"><span class="hljs-built_in">let</span> x = Math.<span class="hljs-built_in">floor</span>((Math.<span class="hljs-built_in">random</span>() * <span class="hljs-number">10</span>) + <span class="hljs-number">1</span>);
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"Your random number is: "</span> + x);</pre>
<p>this can be executed with:</p>
<pre>$ node example.js<br>Your random number is: 42</pre>
<h2 id="mcetoc_1gn00enet3r">Variable Declaration and Value Assignment</h2>
<ul>
<li>Variables are declared using the let keyword or const if no reassignment is needed</li>
<li>The old var keyword shouldn’t be used anymore</li>
</ul>
<blockquote>
<p>Tip: always use const. Only need let if you really need to change the variable later on</p>
</blockquote>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Declare a variable</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> x;
<span class="hljs-built_in">console</span>.log(x); <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>
<span class="hljs-comment" style="color: grey;">// Assign a value to a variable</span>
x = <span class="hljs-number" style="color: #6897bb;">42</span>;
<span class="hljs-built_in">console</span>.log(x); <span class="hljs-comment" style="color: grey;">// &gt;&gt; 42</span>
<span class="hljs-comment" style="color: grey;">// Declare and assign in one stroke</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> y = 2;
<span class="hljs-comment" style="color: grey;">// Variables declared using ’let’ can be reassigned</span>
y = 1;
<span class="hljs-comment" style="color: grey;">// Variables declared using ’const’ cannot be reassigned</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> z = 99;
z = <span class="hljs-number" style="color: #6897bb;">16</span>; <span class="hljs-comment" style="color: grey;">// ERROR</span></pre>
<h2 id="mcetoc_1gn00enet3s">JavaScript is untyped</h2>
<p>So JavaScript has no Types? Well it has, but not before runtime. JavaScript is dynamically typed, i.e., the type of a variable is determined at runtime and may change during program execution.</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">let</span> x = <span class="hljs-number" style="color: #6897bb;">12</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> x);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; number</span>

<span class="hljs-comment" style="color: grey;">// Values of different types can be assigned to a variable</span>
x = <span class="hljs-string" style="color: #6a8759;">"Hello World"</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> x);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; string</span>

<span class="hljs-comment" style="color: grey;">// Automatic type conversion</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> y = <span class="hljs-number" style="color: #6897bb;">12</span>+<span class="hljs-string" style="color: #6a8759;">"10"</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> y);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; string ('1210')</span>
y = <span class="hljs-number" style="color: #6897bb;">12</span>-<span class="hljs-string" style="color: #6a8759;">"10"</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> y);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; number (2)</span>

<span class="hljs-comment" style="color: grey;">// Explicit type conversion with Number(), String() and Boolean()</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> z = <span class="hljs-number" style="color: #6897bb;">12</span>+<span class="hljs-built_in">Number</span>(<span class="hljs-string" style="color: #6a8759;">"10"</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> z);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; number</span>
<span class="hljs-built_in">console</span>.log(z);         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 22</span></pre>
<h2 id="mcetoc_1gn00tl6e8i">Block Scope</h2>
<ul>
<li>Variables declared with let and const are block-scoped</li>
<li>Before ES6, JavaScript had no block scope and hence variables declared with var are not block-scoped</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;">{
    <span class="hljs-keyword" style="color: #cc7832;">let</span> x = <span class="hljs-number" style="color: #6897bb;">12</span>;
    <span class="hljs-keyword" style="color: #cc7832;">const</span> y = <span class="hljs-number" style="color: #6897bb;">13</span>;
}
<span class="hljs-comment" style="color: grey;">// x and y cannot be used here</span>

{
    <span class="hljs-keyword" style="color: #cc7832;">var</span> z = <span class="hljs-number" style="color: #6897bb;">14</span>;
}
<span class="hljs-built_in">console</span>.log(z);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; 14</span>
</pre>
<h2 id="mcetoc_1gn00tl6e8j">Equality and Identicalness</h2>
<ul>
<li>== and != compare only values (equality)</li>
<li>=== and !== compare values and types (identicalness)</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">7</span>;
<span class="hljs-keyword" style="color: #cc7832;">const</span> b = <span class="hljs-string" style="color: #6a8759;">"7"</span>;
<span class="hljs-comment" style="color: grey;">// a and b are equivalent...</span>
<span class="hljs-built_in">console</span>.log(a == b);                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>
<span class="hljs-comment" style="color: grey;">// ... but not identical (number vs. string)</span>
<span class="hljs-built_in">console</span>.log(a === b);                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; false</span>
<span class="hljs-built_in">console</span>.log(a === <span class="hljs-built_in">parseInt</span>(b));               <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>


<span class="hljs-keyword" style="color: #cc7832;">const</span> x = <span class="hljs-number" style="color: #6897bb;">0</span>;
<span class="hljs-keyword" style="color: #cc7832;">const</span> y = <span class="hljs-literal" style="color: #6897bb;">false</span>;
<span class="hljs-comment" style="color: grey;">// x and y are equivalent...</span>
<span class="hljs-built_in">console</span>.log(x == y);                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>
<span class="hljs-comment" style="color: grey;">// ...but not identical (number vs. boolean)</span>
<span class="hljs-built_in">console</span>.log(x === y);                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; false</span>
</pre>
<h2>Strict mode</h2>
<p>The <code class="w3-codespan">"use strict"</code> directive was new in ECMAScript version 5. It is not a statement, but a literal expression, ignored by earlier versions of JavaScript. The purpose of <code class="w3-codespan">"use strict"</code> is to indicate that the code should be executed in "strict mode". With strict mode, you can not, for example, use undeclared variables. All modern browsers support "use strict". The numbers in the table specify the first browser version that fully supports the directive. <strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit;">You can use strict mode in all your programs. It helps you to write cleaner code, like preventing you from using undeclared variables.</span></strong></p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Deploy your Java Web App to Heroku</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/deploy-your-java-web-app-to-heroku.html"/>
        <id>https://www.finecloud.ch/deploy-your-java-web-app-to-heroku.html</id>
            <category term="tools"/>
            <category term="tomcat"/>
            <category term="software development"/>
            <category term="shell"/>
            <category term="servlet"/>
            <category term="linux"/>
            <category term="java"/>
            <category term="heroku"/>
            <category term="git"/>
            <category term="dev"/>

        <updated>2022-12-23T06:30:35+01:00</updated>
            <summary>
                <![CDATA[
                    Requirements and Preparation Unfortunately Heroku currently only Supports Tomcat version 9.x. As a consequence you're not able to use the Java Jakarta Servlets, since they are only supported with Tomcat version 10.x. As a consequence you need to replace all your Jakarta Servlet imports with&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gkum5rlmdf">Requirements and Preparation</a>
<ul>
<li><a href="#mcetoc_1gkum5rlmdg">Build the App</a></li>
<li><a href="#mcetoc_1gkum5rlmdh">Deploy to Heroku</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1gkum5rlmdf">Requirements and Preparation</h2>
<p>Unfortunately Heroku currently only Supports Tomcat version 9.x. As a consequence you're not able to use the Java Jakarta Servlets, since they are only supported with Tomcat version 10.x.<br><br>As a consequence you need to replace all your Jakarta Servlet imports with the "old-school" Javax Serverlets:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;">find . -type f -name <span class="hljs-string" style="color: #880000;">"*.java"</span> -print0 | xargs -0 sed -i <span class="hljs-string" style="color: #880000;">''</span> <span class="hljs-_">-e</span> <span class="hljs-string" style="color: #880000;">'s/import jakarta/import javax/g'</span></pre>
<p><br>Delete those dependencies from your pom.xml:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>jakarta.servlet<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>jakarta.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>${servlet.version}<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>org.glassfish.web<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>jakarta.servlet.jsp.jstl<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>${jstl.version}<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span></pre>
<p><br>Add those dependencies to your pom.xml:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span></pre>
<p><br>we also need the Heroku web-runner packet in the pom.xml:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">plugin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>maven-dependency-plugin<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>3.3.0<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">executions</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">execution</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">phase</span>&gt;</span>package<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">phase</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">goals</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">goal</span>&gt;</span>copy<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">goal</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">goals</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactItems</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactItem</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>com.heroku<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>webapp-runner<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>9.0.69.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">destFileName</span>&gt;</span>webapp-runner.jar<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">destFileName</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactItem</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactItems</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">execution</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">executions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">plugin</span>&gt;</span></pre>
<p><br>let's also change the Jakarta xml header on the web.xml file from:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">web-app</span> <span class="hljs-attr">version</span>=<span class="hljs-string" style="color: #880000;">"5.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string" style="color: #880000;">"https://jakarta.ee/xml/ns/jakartaee"</span>
<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string" style="color: #880000;">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string" style="color: #880000;">"https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd"</span>&gt;</span>
</pre>
<p>to:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">web-app</span> <span class="hljs-attr">version</span>=<span class="hljs-string" style="color: #880000;">"4.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string" style="color: #880000;">"http://xmlns.jcp.org/xml/ns/javaee"</span>
<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string" style="color: #880000;">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string" style="color: #880000;">"http://xmlns.jcp.org/xml/ns/javaee
http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span>&gt;</span></pre>
<h3 id="mcetoc_1gkum5rlmdg"><br>Build the App</h3>
<p>Browse to the root folder of your Java Application:<br><code>mvn clean package</code><br><br>next run:<br><code>java -jar target/dependency/webapp-runner.jar target/*.war</code><br><br>That’s it. Your application should start up on port 8080. If this works as expected, your ready to deploy your App to Heroku.</p>
<h3 id="mcetoc_1gkum5rlmdh">Deploy to Heroku</h3>
<p>Create a Procfile in the root folder of your Application:<br><code>echo 'web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT target/*.war' &gt; Procfile</code></p>
<p>We also need to declare the Java version to Heroku:<br><code>echo 'java.runtime.version=17' &gt; system.properties</code><br><br></p>
<p>Commit your changes to Git:<br><br><code>git init</code><br><code>git add .</code><br><code>git commit -m "Ready to deploy"</code><br><br><br>Create the app and deploy your code:<br><br><code>heroku create</code><code>--region eu</code><code></code><br><code>git push heroku main</code><br><br><br>Your web app should now be up and running on Heroku. Open it in your browser with:<br><br><code>heroku open</code><br><br></p>
            ]]>
        </content>
    </entry>
</feed>
