<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
    <title>Finecloud</title>
    <link href="https://www.finecloud.ch/feed.xml" rel="self" />
    <link href="https://www.finecloud.ch" />
    <updated>2023-01-17T19:41:50+01:00</updated>
    <author>
        <name>Finecloud</name>
    </author>
    <id>https://www.finecloud.ch</id>

    <entry>
        <title>JavaScript functions</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-functions.html"/>
        <id>https://www.finecloud.ch/javascript-functions.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-01-17T19:41:43+01:00</updated>
            <summary>
                <![CDATA[
                    Function Expression A function expression starts with the keyword function followed by the function arguments in parentheses and the function body in curly braces: const square = function(x) { return x * x; }; console.log(square(4)); // &gt;&gt; 16 Function Scope Each function deﬁnes a scope&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gn00tl6e8l">Function Expression</a></li>
<li><a href="#mcetoc_1gn018lrv9b">Function Scope</a></li>
<li><a href="#mcetoc_1gn018lrv9c">Lexical Scope</a></li>
<li><a href="#mcetoc_1gn02tcrha3">Nested Scope</a></li>
<li><a href="#mcetoc_1gn02tcrha4">Functions are Objects</a></li>
<li><a href="#mcetoc_1gn036mefbt">Closure</a></li>
<li><a href="#mcetoc_1gn036mefbu">Function Declaration</a></li>
<li><a href="#mcetoc_1gn0ggrqvcq">Function Declarations are Hoisted</a></li>
</ul>
</div>
<h2 id="mcetoc_1gn00tl6e8l">Function Expression</h2>
<p>A function expression starts with the keyword function followed by the function arguments in parentheses and the function body in curly braces:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> square = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">x</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> x * x;
};

<span class="hljs-built_in">console</span>.log(square(<span class="hljs-number" style="color: #6897bb;">4</span>));  <span class="hljs-comment" style="color: grey;">// &gt;&gt; 16</span>
</pre>
<h2 id="mcetoc_1gn018lrv9b">Function Scope</h2>
<ul>
<li>Each function deﬁnes a scope</li>
<li>Local variables of a function are not visible outside of the function</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-string" style="color: #6a8759;">"Hello "</span>;          <span class="hljs-comment" style="color: grey;">// a has global scope</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">b</span>) </span>{      <span class="hljs-comment" style="color: grey;">// b is local to f</span>
  <span class="hljs-keyword" style="color: #cc7832;">const</span> c = <span class="hljs-string" style="color: #6a8759;">"!"</span>;             <span class="hljs-comment" style="color: grey;">// c is local to f</span>
  <span class="hljs-built_in">console</span>.log(a+b+c);
};

f(<span class="hljs-string" style="color: #6a8759;">"World"</span>);                 <span class="hljs-comment" style="color: grey;">// &gt;&gt; Hello World!</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> b);      <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> c);      <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span></pre>
<h2 id="mcetoc_1gn018lrv9c">Lexical Scope</h2>
<p>Variables have lexical (static) scope, i.e., the scope of a variable is determined by the code context of the variable:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">2</span>;

<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">b</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> a+b;
};

<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">7</span>));      <span class="hljs-comment" style="color: grey;">// &gt;&gt; 9</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> g = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">5</span>;          <span class="hljs-comment" style="color: grey;">// a is hiding the global variable inside g</span>
  <span class="hljs-keyword" style="color: #cc7832;">return</span> f(<span class="hljs-number" style="color: #6897bb;">7</span>);          <span class="hljs-comment" style="color: grey;">// but the global variable is used inside f</span>
};
<span class="hljs-built_in">console</span>.log(g());       <span class="hljs-comment" style="color: grey;">// &gt;&gt; 9</span>
</pre>
<h2 id="mcetoc_1gn02tcrha3">Nested Scope</h2>
<ul>
<li>Blocks and functions can be created inside other blocks and functions</li>
<li>Each local scope can access the variables from the surrounding scopes</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">2</span>;

<span class="hljs-keyword" style="color: #cc7832;">const</span> f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">b</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">let</span> x = <span class="hljs-number" style="color: #6897bb;">1</span>;

  <span class="hljs-keyword" style="color: #cc7832;">const</span> g = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{    <span class="hljs-comment" style="color: grey;">// g has access to the local variables of f and to</span>
    x *= a;                 <span class="hljs-comment" style="color: grey;">// the variables of the global scope</span>
  };

  <span class="hljs-keyword" style="color: #cc7832;">while</span> (x &lt; b) g();
  <span class="hljs-keyword" style="color: #cc7832;">return</span> x;
};
<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">100</span>))        <span class="hljs-comment" style="color: grey;">// &gt;&gt; 128</span>
</pre>
<h2 id="mcetoc_1gn02tcrha4">Functions are Objects</h2>
<p>Functions are objects, hence they can be used as arguments and return values of other functions (higher-order functions)</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Function as argument</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> repeat = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">action, n</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">let</span> i = <span class="hljs-number" style="color: #6897bb;">0</span>; i &lt; n; i++) action();
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> sayHello = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Hello"</span>);
}
repeat(sayHello, <span class="hljs-number" style="color: #6897bb;">3</span>);                   <span class="hljs-comment" style="color: grey;">// &gt;&gt; Hello Hello Hello</span>

<span class="hljs-comment" style="color: grey;">// Function as return value</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> formatter = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">prefix, suffix</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> prefix+s+suffix;
  }
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> format = formatter(<span class="hljs-string" style="color: #6a8759;">"'"</span>, <span class="hljs-string" style="color: #6a8759;">"!'"</span>);
<span class="hljs-built_in">console</span>.log(format(<span class="hljs-string" style="color: #6a8759;">"Hello World"</span>));    <span class="hljs-comment" style="color: grey;">// &gt;&gt; 'Hello World!'</span>
</pre>
<h2 id="mcetoc_1gn036mefbt">Closure</h2>
<p>A function that references a speciﬁc instance of a local variable in an enclosing function is called a closure:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> counter = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>(<span class="hljs-params">init</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">let</span> val = <span class="hljs-built_in">Number</span>(init);
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
    <span class="hljs-keyword" style="color: #cc7832;">return</span> ++val;
  };
};

<span class="hljs-keyword" style="color: #cc7832;">const</span> countA = counter(<span class="hljs-number" style="color: #6897bb;">12</span>);    <span class="hljs-comment" style="color: grey;">// countA references a specific instance of val</span>
<span class="hljs-built_in">console</span>.log(countA());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 13</span>
<span class="hljs-built_in">console</span>.log(countA());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 14</span>

<span class="hljs-keyword" style="color: #cc7832;">const</span> countB = counter(<span class="hljs-string" style="color: #6a8759;">"6"</span>);   <span class="hljs-comment" style="color: grey;">// countB references another instance of val</span>
<span class="hljs-built_in">console</span>.log(countB());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 7</span>
<span class="hljs-built_in">console</span>.log(countA());         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 15</span>
</pre>
<h2 id="mcetoc_1gn036mefbu">Function Declaration</h2>
<p>A function declaration deﬁnes a variable which points to the given function:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Declare f to be a function</span>
<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">f</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"I'm a chicken"</span>;
}

<span class="hljs-built_in">console</span>.log(f());      <span class="hljs-comment" style="color: grey;">// &gt;&gt; I'm a chicken</span>

<span class="hljs-comment" style="color: grey;">// The variable f can be reassigned</span>
f = <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"I'm a fox"</span>;
}

<span class="hljs-built_in">console</span>.log(f());      <span class="hljs-comment" style="color: grey;">// &gt;&gt; I'm a fox</span>
</pre>
<h2 id="mcetoc_1gn0ggrqvcq">Function Declarations are Hoisted</h2>
<p>Function declarations are not part of the regular top-to-bottom ﬂow of control:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// The function f can be used before it is declared</span>
<span class="hljs-built_in">console</span>.log(f(<span class="hljs-number" style="color: #6897bb;">4</span>));     <span class="hljs-comment" style="color: grey;">// &gt;&gt; 48</span>

<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">f</span>(<span class="hljs-params">a</span>) </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> g() * a;
};

<span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">function</span> <span class="hljs-title" style="color: #ffc66d;">g</span>() </span>{
  <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-number" style="color: #6897bb;">12</span>;
}
</pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>JavaScript basics</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/javascript-basics.html"/>
        <id>https://www.finecloud.ch/javascript-basics.html</id>
            <category term="software development"/>
            <category term="javascript"/>
            <category term="dev"/>

        <updated>2023-01-17T19:41:50+01:00</updated>
            <summary>
                <![CDATA[
                    What JavaScript is A scripting language originally designed for web browsers Object-oriented, however prototype-based and not class-based Supporting ﬁrst-class functions A multi-paradigm language, supports imperative, object-oriented and functional programming style Untyped Moving from an interpreted language to just-in-time compilation Nowadays used for server-side programming too&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gmvv0co91">What JavaScript is</a></li>
<li><a href="#mcetoc_1gmvve8qg1r">JavaScript and the Browser</a></li>
<li><a href="#mcetoc_1gmvve8qg1s">Node.js</a></li>
<li><a href="#mcetoc_1gn00enet3r">Variable Declaration and Value Assignment</a></li>
<li><a href="#mcetoc_1gn00enet3s">JavaScript is untyped</a></li>
<li><a href="#mcetoc_1gn00tl6e8i">Block Scope</a></li>
<li><a href="#mcetoc_1gn00tl6e8j">Equality and Identicalness</a></li>
</ul>
</div>
<h2 id="mcetoc_1gmvv0co91">What JavaScript is</h2>
<ul>
<li>A scripting language originally designed for web browsers</li>
<li>Object-oriented, however prototype-based and not class-based</li>
<li>Supporting ﬁrst-class functions</li>
<li>A multi-paradigm language, supports imperative, object-oriented and functional programming style</li>
<li>Untyped</li>
<li>Moving from an interpreted language to just-in-time compilation</li>
<li>Nowadays used for server-side programming too</li>
<li>Relying on a host/run-time environment (web browser, Node.js)</li>
</ul>
<h2 id="mcetoc_1gmvve8qg1r">JavaScript and the Browser</h2>
<ul>
<li>The browser is the most common host environment</li>
<li>It provides a graphical user interface (via DOM)</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment" style="color: grey;">// Output to the console</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string" style="color: #6a8759;">"Hello world"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;<br></span></span></pre>
<h2 id="mcetoc_1gmvve8qg1s">Node.js</h2>
<ul>
<li>Node.js is a server-side host environment</li>
<li>Initially conceived to facilitate asynchronous I/O</li>
</ul>
<pre class="hljs"><span class="hljs-built_in">let</span> x = Math.<span class="hljs-built_in">floor</span>((Math.<span class="hljs-built_in">random</span>() * <span class="hljs-number">10</span>) + <span class="hljs-number">1</span>);
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"Your random number is: "</span> + x);</pre>
<p>this can be executed with:</p>
<pre>$ node example.js<br>Your random number is: 42</pre>
<h2 id="mcetoc_1gn00enet3r">Variable Declaration and Value Assignment</h2>
<ul>
<li>Variables are declared using the let keyword or const if no reassignment is needed</li>
<li>The old var keyword shouldn’t be used anymore</li>
</ul>
<blockquote>
<p>Tip: always use const. Only need let if you really need to change the variable later on</p>
</blockquote>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">// Declare a variable</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> x;
<span class="hljs-built_in">console</span>.log(x); <span class="hljs-comment" style="color: grey;">// &gt;&gt; undefined</span>
<span class="hljs-comment" style="color: grey;">// Assign a value to a variable</span>
x = <span class="hljs-number" style="color: #6897bb;">42</span>;
<span class="hljs-built_in">console</span>.log(x); <span class="hljs-comment" style="color: grey;">// &gt;&gt; 42</span>
<span class="hljs-comment" style="color: grey;">// Declare and assign in one stroke</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> y = 2;
<span class="hljs-comment" style="color: grey;">// Variables declared using ’let’ can be reassigned</span>
y = 1;
<span class="hljs-comment" style="color: grey;">// Variables declared using ’const’ cannot be reassigned</span>
<span class="hljs-keyword" style="color: #cc7832;">const</span> z = 99;
z = <span class="hljs-number" style="color: #6897bb;">16</span>; <span class="hljs-comment" style="color: grey;">// ERROR</span></pre>
<h2 id="mcetoc_1gn00enet3s">JavaScript is untyped</h2>
<p>So JavaScript has no Types? Well it has, but not before runtime. JavaScript is dynamically typed, i.e., the type of a variable is determined at runtime and may change during program execution.</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">let</span> x = <span class="hljs-number" style="color: #6897bb;">12</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> x);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; number</span>

<span class="hljs-comment" style="color: grey;">// Values of different types can be assigned to a variable</span>
x = <span class="hljs-string" style="color: #6a8759;">"Hello World"</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> x);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; string</span>

<span class="hljs-comment" style="color: grey;">// Automatic type conversion</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> y = <span class="hljs-number" style="color: #6897bb;">12</span>+<span class="hljs-string" style="color: #6a8759;">"10"</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> y);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; string ('1210')</span>
y = <span class="hljs-number" style="color: #6897bb;">12</span>-<span class="hljs-string" style="color: #6a8759;">"10"</span>;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> y);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; number (2)</span>

<span class="hljs-comment" style="color: grey;">// Explicit type conversion with Number(), String() and Boolean()</span>
<span class="hljs-keyword" style="color: #cc7832;">let</span> z = <span class="hljs-number" style="color: #6897bb;">12</span>+<span class="hljs-built_in">Number</span>(<span class="hljs-string" style="color: #6a8759;">"10"</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword" style="color: #cc7832;">typeof</span> z);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; number</span>
<span class="hljs-built_in">console</span>.log(z);         <span class="hljs-comment" style="color: grey;">// &gt;&gt; 22</span></pre>
<h2 id="mcetoc_1gn00tl6e8i">Block Scope</h2>
<ul>
<li>Variables declared with let and const are block-scoped</li>
<li>Before ES6, JavaScript had no block scope and hence variables declared with var are not block-scoped</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;">{
    <span class="hljs-keyword" style="color: #cc7832;">let</span> x = <span class="hljs-number" style="color: #6897bb;">12</span>;
    <span class="hljs-keyword" style="color: #cc7832;">const</span> y = <span class="hljs-number" style="color: #6897bb;">13</span>;
}
<span class="hljs-comment" style="color: grey;">// x and y cannot be used here</span>

{
    <span class="hljs-keyword" style="color: #cc7832;">var</span> z = <span class="hljs-number" style="color: #6897bb;">14</span>;
}
<span class="hljs-built_in">console</span>.log(z);  <span class="hljs-comment" style="color: grey;">// &gt;&gt; 14</span>
</pre>
<h2 id="mcetoc_1gn00tl6e8j">Equality and Identicalness</h2>
<ul>
<li>== and != compare only values (equality)</li>
<li>=== and !== compare values and types (identicalness)</li>
</ul>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">const</span> a = <span class="hljs-number" style="color: #6897bb;">7</span>;
<span class="hljs-keyword" style="color: #cc7832;">const</span> b = <span class="hljs-string" style="color: #6a8759;">"7"</span>;
<span class="hljs-comment" style="color: grey;">// a and b are equivalent...</span>
<span class="hljs-built_in">console</span>.log(a == b);                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>
<span class="hljs-comment" style="color: grey;">// ... but not identical (number vs. string)</span>
<span class="hljs-built_in">console</span>.log(a === b);                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; false</span>
<span class="hljs-built_in">console</span>.log(a === <span class="hljs-built_in">parseInt</span>(b));               <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>


<span class="hljs-keyword" style="color: #cc7832;">const</span> x = <span class="hljs-number" style="color: #6897bb;">0</span>;
<span class="hljs-keyword" style="color: #cc7832;">const</span> y = <span class="hljs-literal" style="color: #6897bb;">false</span>;
<span class="hljs-comment" style="color: grey;">// x and y are equivalent...</span>
<span class="hljs-built_in">console</span>.log(x == y);                          <span class="hljs-comment" style="color: grey;">// &gt;&gt; true</span>
<span class="hljs-comment" style="color: grey;">// ...but not identical (number vs. boolean)</span>
<span class="hljs-built_in">console</span>.log(x === y);                         <span class="hljs-comment" style="color: grey;">// &gt;&gt; false</span>
</pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Deploy your Java Web App to Heroku</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/deploy-your-java-web-app-to-heroku.html"/>
        <id>https://www.finecloud.ch/deploy-your-java-web-app-to-heroku.html</id>
            <category term="tools"/>
            <category term="tomcat"/>
            <category term="software development"/>
            <category term="shell"/>
            <category term="servlet"/>
            <category term="linux"/>
            <category term="java"/>
            <category term="heroku"/>
            <category term="git"/>
            <category term="dev"/>

        <updated>2022-12-23T06:30:35+01:00</updated>
            <summary>
                <![CDATA[
                    Requirements and Preparation Unfortunately Heroku currently only Supports Tomcat version 9.x. As a consequence you're not able to use the Java Jakarta Servlets, since they are only supported with Tomcat version 10.x. As a consequence you need to replace all your Jakarta Servlet imports with&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gkum5rlmdf">Requirements and Preparation</a>
<ul>
<li><a href="#mcetoc_1gkum5rlmdg">Build the App</a></li>
<li><a href="#mcetoc_1gkum5rlmdh">Deploy to Heroku</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1gkum5rlmdf">Requirements and Preparation</h2>
<p>Unfortunately Heroku currently only Supports Tomcat version 9.x. As a consequence you're not able to use the Java Jakarta Servlets, since they are only supported with Tomcat version 10.x.<br><br>As a consequence you need to replace all your Jakarta Servlet imports with the "old-school" Javax Serverlets:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;">find . -type f -name <span class="hljs-string" style="color: #880000;">"*.java"</span> -print0 | xargs -0 sed -i <span class="hljs-string" style="color: #880000;">''</span> <span class="hljs-_">-e</span> <span class="hljs-string" style="color: #880000;">'s/import jakarta/import javax/g'</span></pre>
<p><br>Delete those dependencies from your pom.xml:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>jakarta.servlet<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>jakarta.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>${servlet.version}<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>org.glassfish.web<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>jakarta.servlet.jsp.jstl<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>${jstl.version}<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span></pre>
<p><br>Add those dependencies to your pom.xml:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">dependency</span>&gt;</span></pre>
<p><br>we also need the Heroku web-runner packet in the pom.xml:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">plugin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>maven-dependency-plugin<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>3.3.0<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">executions</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">execution</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">phase</span>&gt;</span>package<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">phase</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">goals</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">goal</span>&gt;</span>copy<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">goal</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">goals</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactItems</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactItem</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>com.heroku<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>webapp-runner<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>9.0.69.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">destFileName</span>&gt;</span>webapp-runner.jar<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">destFileName</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactItem</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">artifactItems</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">execution</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">executions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="font-weight: bold;">plugin</span>&gt;</span></pre>
<p><br>let's also change the Jakarta xml header on the web.xml file from:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">web-app</span> <span class="hljs-attr">version</span>=<span class="hljs-string" style="color: #880000;">"5.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string" style="color: #880000;">"https://jakarta.ee/xml/ns/jakartaee"</span>
<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string" style="color: #880000;">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string" style="color: #880000;">"https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd"</span>&gt;</span>
</pre>
<p>to:</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;"><span class="hljs-tag">&lt;<span class="hljs-name" style="font-weight: bold;">web-app</span> <span class="hljs-attr">version</span>=<span class="hljs-string" style="color: #880000;">"4.0"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string" style="color: #880000;">"http://xmlns.jcp.org/xml/ns/javaee"</span>
<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string" style="color: #880000;">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string" style="color: #880000;">"http://xmlns.jcp.org/xml/ns/javaee
http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span>&gt;</span></pre>
<h3 id="mcetoc_1gkum5rlmdg"><br>Build the App</h3>
<p>Browse to the root folder of your Java Application:<br><code>mvn clean package</code><br><br>next run:<br><code>java -jar target/dependency/webapp-runner.jar target/*.war</code><br><br>That’s it. Your application should start up on port 8080. If this works as expected, your ready to deploy your App to Heroku.</p>
<h3 id="mcetoc_1gkum5rlmdh">Deploy to Heroku</h3>
<p>Create a Procfile in the root folder of your Application:<br><code>echo 'web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT target/*.war' &gt; Procfile</code></p>
<p>We also need to declare the Java version to Heroku:<br><code>echo 'java.runtime.version=17' &gt; system.properties</code><br><br></p>
<p>Commit your changes to Git:<br><br><code>git init</code><br><code>git add .</code><br><code>git commit -m "Ready to deploy"</code><br><br><br>Create the app and deploy your code:<br><br><code>heroku create</code><code>--region eu</code><code></code><br><code>git push heroku main</code><br><br><br>Your web app should now be up and running on Heroku. Open it in your browser with:<br><br><code>heroku open</code><br><br></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Take care of your SSH identities</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/take-care-of-your-ssh-keys.html"/>
        <id>https://www.finecloud.ch/take-care-of-your-ssh-keys.html</id>
            <category term="tools"/>
            <category term="ssh"/>
            <category term="shell"/>
            <category term="security"/>
            <category term="network"/>
            <category term="linux"/>
            <category term="bash"/>

        <updated>2022-11-22T15:37:51+01:00</updated>
            <summary>
                <![CDATA[
                    Did you know that your ssh Client sends the server all your public keys, one by one, until the server accepts one, when you try to authenticate via public key? Don't believe me? Try it out yourself: ssh whoami.filippo.io Someone could use this to find&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Did you know that your ssh Client sends the server all your public keys, one by one, until the server accepts one, when you try to authenticate via public key?</p>
<p>Don't believe me? Try it out yourself: </p>
<pre><code>ssh whoami.filippo.io</code></pre>
<p>Someone could use this to find out which public keys you have installed on your Client. You don't what this, don't you? So how can we avoid the leak of our Clients Public Keys? There is an easy fix, just add this at the end of your <code>~/.ssh/config</code> file:</p>
<pre><code>Host *</code><br><code>    PubkeyAuthentication no</code><br><code>    IdentitiesOnly yes</code></pre>
<p>Also make sure you don't use just one key for all connections. I hope don't use one password for all your logins - so why should you use one key for all your logins?</p>
<p>It is recommended to use one specific key for each host:</p>
<pre><code>Host github.com</code><br><code>    PubkeyAuthentication yes</code><br><code>    IdentityFile ~/.ssh/github_id_ed25519</code></pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Backup OPNsense to Nextcloud</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/opnsense-backup-to-nextcloud.html"/>
        <id>https://www.finecloud.ch/opnsense-backup-to-nextcloud.html</id>
            <category term="tools"/>
            <category term="opnsense"/>
            <category term="nextcloud"/>
            <category term="network"/>
            <category term="linux"/>
            <category term="firewall"/>
            <category term="backup"/>

        <updated>2022-11-03T09:49:00+01:00</updated>
            <summary>
                <![CDATA[
                    What is OPNsense? OPNsense® is an open source, easy-to-use and easy-to-build FreeBSD based firewall and routing platform. OPNsense includes most of the features available in expensive commercial firewalls, and more in many cases. It brings the rich feature set of commercial offerings with the benefits&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1ggu9idgo5i">What is OPNsense?</a></li>
<li><a href="#mcetoc_1ggu9idgo5j">Why OPNsense?</a></li>
<li><a href="#mcetoc_1ggu9idgo5k">Backup your OPNsense configuration to your Nextcloud</a>
<ul>
<li><a href="#mcetoc_1ggu9idgo5l">1. Create a new user</a></li>
<li><a href="#mcetoc_1ggu9idgo5m">2. Create an Access Token</a></li>
<li><a href="#mcetoc_1ggu9idgo5n">3. Install Nextcloud Backup Plugin</a></li>
<li><a href="#mcetoc_1ggu9idgo5o">4. Connect OPNsense with Nextcloud</a></li>
<li><a href="#mcetoc_1ggu9idgo5p">5. Verify the Configuration Upload</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1ggu9idgo5i">What is OPNsense?</h2>
<p><a class="reference external" href="https://opnsense.org">OPNsense®</a> is an open source, easy-to-use and easy-to-build FreeBSD based firewall and routing platform.</p>
<p>OPNsense includes most of the features available in expensive commercial firewalls, and more in many cases. It brings the rich feature set of commercial offerings with the benefits of open and verifiable sources.</p>
<h2 id="mcetoc_1ggu9idgo5j">Why OPNsense?</h2>
<p>The feature set of OPNsense includes high-end features such as forward caching proxy, traffic shaping, intrusion detection and easy OpenVPN client setup. The latest release is based on a recent FreeBSD for long-term support and uses a newly developed MVC-framework based on Phalcon. OPNsense’s focus on security brings unique features such as the option to use LibreSSL instead of OpenSSL (selectable in the GUI).<br><br>The robust and reliable update mechanism gives OPNsense the ability to provide important security updates in a timely fashion.</p>
<h2 id="mcetoc_1ggu9idgo5k">Backup your OPNsense configuration to your Nextcloud</h2>
<p>In OPNsense you can backup your configuration directly and automatically to Nextcloud, using the backup feature. Every backup will be encrypted with the same algorithm used in the manual backup so it’s quite easy to restore to a new installed machine.</p>
<p>After set-up, the backup feature will run a first backup of the OPNsense configuration file. Then, if the configuration is subsequently changed, a new backup will be run. Only one backup is run per day after configuration changes.</p>
<div id="step-create-a-new-user" class="section">
<h3 id="mcetoc_1ggu9idgo5l">1. Create a new user<a class="headerlink" href="https://docs.opnsense.org/manual/how-tos/cloud_backup.html#step-create-a-new-user" title="Permalink to this headline"></a></h3>
<p>Click on the user icon top right and click “Users”. In the new page, enter an username and a password into the boxes and click create to create a new user.</p>
</div>
<div id="step-create-an-access-token" class="section">
<h3 id="mcetoc_1ggu9idgo5m">2. Create an Access Token<a class="headerlink" href="https://docs.opnsense.org/manual/how-tos/cloud_backup.html#step-create-an-access-token" title="Permalink to this headline"></a></h3>
<figure class="post__image">Close the modal dialog and remove the default files. Then open the Settings menu (also in the menu top right). Switch to security and generate a App password.
<img loading="lazy"  src="https://www.finecloud.ch/media/posts/69/Screenshot-2022-11-03-at-09.19.23.png" alt="" width="931" height="933" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.19.23-xs.png 300w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.19.23-sm.png 480w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.19.23-md.png 768w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.19.23-lg.png 1024w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.19.23-xl.png 1360w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.19.23-2xl.png 1600w"></figure><br>
<p>Copy and store the generated password.</p>
</div>
<div id="step-connect-opnsense-with-nextcloud" class="section">
<h3 id="mcetoc_1ggu9idgo5n">3. Install Nextcloud Backup Plugin</h3>
<p>Go to <em><span class="menuselection">System ‣ Firmware ‣ Plugins</span></em> and install the <em>os-nextcloud-backup</em> plugin</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/69/Screenshot-2022-11-03-at-09.24.39.png" alt="" width="1915" height="537" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.24.39-xs.png 300w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.24.39-sm.png 480w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.24.39-md.png 768w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.24.39-lg.png 1024w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.24.39-xl.png 1360w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.24.39-2xl.png 1600w"></figure>
<h3 id="mcetoc_1ggu9idgo5o">4. Connect OPNsense with Nextcloud<a class="headerlink" href="https://docs.opnsense.org/manual/how-tos/cloud_backup.html#step-connect-opnsense-with-nextcloud" title="Permalink to this headline"></a></h3>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/69/Screenshot-2022-11-03-at-09.32.01.png" alt="" width="727" height="432" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.32.01-xs.png 300w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.32.01-sm.png 480w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.32.01-md.png 768w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.32.01-lg.png 1024w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.32.01-xl.png 1360w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.32.01-2xl.png 1600w"></figure><br>
<p>Scroll to the Nextcloud Section in <em><span class="menuselection">System ‣ Configuration ‣ Backups</span></em> and enter the following values:</p>
<div class="wy-table-responsive">
<table class="docutils align-default"><colgroup><col><col></colgroup>
<tbody>
<tr class="row-odd">
<td>
<p>Enable</p>
</td>
<td>
<p>checked</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>URL</p>
</td>
<td>
<p>Base URL of your Nextcloud installation like <a class="reference external" href="https://cloud.example.com">https://cloud.example.com</a></p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>User</p>
</td>
<td>
<p>your choosen username</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>Password</p>
</td>
<td>
<p>paste your app password from step 2</p>
</td>
</tr>
<tr>
<td>
<p>Encryption Passowrd</p>
</td>
<td>
<p>define a Password to encrypt the config file</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>Backup Directory</p>
</td>
<td>
<p>a name consisting of alphanumeric characters (keep default)</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="step-verify-the-configuration-upload" class="section">
<h3 id="mcetoc_1ggu9idgo5p">5. Verify the Configuration Upload<a class="headerlink" href="https://docs.opnsense.org/manual/how-tos/cloud_backup.html#step-verify-the-configuration-upload" title="Permalink to this headline"></a></h3>
<p>When everything worked, you will see the newly created directory after saving the settings:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/69/Screenshot-2022-11-03-at-09.38.41.png" alt="" width="292" height="114" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.38.41-xs.png 300w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.38.41-sm.png 480w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.38.41-md.png 768w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.38.41-lg.png 1024w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.38.41-xl.png 1360w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.38.41-2xl.png 1600w"></figure>
<figure class="post__image">If you open it, you will see at lease a single backed up configuration file:
<img loading="lazy"  src="https://www.finecloud.ch/media/posts/69/Screenshot-2022-11-03-at-09.39.22.png" alt="" width="819" height="351" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.39.22-xs.png 300w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.39.22-sm.png 480w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.39.22-md.png 768w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.39.22-lg.png 1024w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.39.22-xl.png 1360w ,https://www.finecloud.ch/media/posts/69/responsive/Screenshot-2022-11-03-at-09.39.22-2xl.png 1600w"></figure><br>
<p id="references" class="rubric"></p>
</div>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Maven getting started</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/maven-getting-started.html"/>
        <id>https://www.finecloud.ch/maven-getting-started.html</id>
            <category term="software development"/>
            <category term="maven"/>
            <category term="java"/>
            <category term="dev"/>

        <updated>2022-11-03T16:59:36+01:00</updated>
            <summary>
                <![CDATA[
                    What is Maven? Declarative build management tool for automated builds Standardized directory structure Declarative dependency management Works with an XML control file (POM - Project Object Model) Open source, written in Java, for Java projects Pure command line tool IDEs offer integration Why Maven? Uniform&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1ggd2611qj0">What is Maven?</a></li>
<li><a href="#mcetoc_1ggd2611qj1">Why Maven?</a></li>
<li><a href="#mcetoc_1ggd2611qj2">Components</a></li>
<li><a href="#mcetoc_1ggd2611qj3">Build lifecycle</a></li>
<li><a href="#mcetoc_1ggd2611qj4">POM (Project Object Model) file</a></li>
<li><a href="#mcetoc_1ggd2611qj5">Project coordinates</a></li>
<li><a href="#mcetoc_1ggd443kjlt">Packaging</a></li>
<li><a href="#mcetoc_1ggd2611qj6">Naming conventions</a>
<ul>
<li><a href="#mcetoc_1ggd2611qj7">groupId</a></li>
<li><a href="#mcetoc_1ggd2611qj8">artifactId</a></li>
</ul>
</li>
<li><a href="#mcetoc_1ggd443kjlu">Standard directory layout</a></li>
<li><a href="#mcetoc_1ggd8kpb6ob">Dependencies</a>
<ul>
<li><a href="#mcetoc_1ggd8kpb6oc">Scope</a></li>
<li><a href="#mcetoc_1ggd9jq2mqi">Transitive dependencies</a></li>
</ul>
</li>
<li><a href="#mcetoc_1ggd9jq2mqj">Project inheritance</a></li>
<li><a href="#mcetoc_1ggd9jq2mqk">Project aggregation (Multi Module)</a></li>
<li><a href="#mcetoc_1ggd9tb9jr2">Properties</a></li>
<li><a href="#mcetoc_1ggv3g3smf5">Version structure</a>
<ul>
<li><a href="#mcetoc_1ggv3g3smf6">SNAPSHOT Version</a></li>
</ul>
</li>
<li><a href="#mcetoc_1ggv3g3smf7">Version resolution transitive dependencies</a></li>
<li><a href="#mcetoc_1ggv3g3smf8">Keeping POM clean</a></li>
</ul>
</div>
<h2 id="mcetoc_1ggd2611qj0">What is Maven?</h2>
<ul>
<li>Declarative build management tool for automated builds</li>
<li>Standardized directory structure</li>
<li>Declarative dependency management</li>
<li>Works with an XML control file (POM - Project Object Model)</li>
<li>Open source, written in Java, for Java projects</li>
<li>Pure command line tool</li>
<li>IDEs offer integration</li>
</ul>
<h2 id="mcetoc_1ggd2611qj1">Why Maven?</h2>
<ul>
<li>Uniform build in the project, but also across multiple projects.</li>
<li>Dependency management</li>
<li>Independent of an IDE</li>
<li>Basis for rapid familiarization of new developers</li>
<li>Basis for Continuous Integration/Continuous Deployment (DevOps)</li>
<li>Industry standard for Java applications</li>
</ul>
<h2 id="mcetoc_1ggd2611qj2">Components</h2>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/68/Screenshot-2022-10-27-at-17.17.05.png" alt="" width="851" height="555" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-17.17.05-xs.png 300w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-17.17.05-sm.png 480w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-17.17.05-md.png 768w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-17.17.05-lg.png 1024w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-17.17.05-xl.png 1360w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-17.17.05-2xl.png 1600w"></figure>
<h2 id="mcetoc_1ggd2611qj3">Build lifecycle</h2>
<ul>
<li>Each Build Phase has its own Plugin. M<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">aven delegates the work of each build phase to plugins.</span></li>
<li><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Plugins provide Goals, which do the actual work</span></li>
<li><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Goals can be assigned to one or more build phases</span></li>
<li><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Certain plugins/goals are assigned by Maven by default</span></li>
<li><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">You can assign plugins/goals to specific build phases in the project object model itself</span></li>
</ul>
<h2 id="mcetoc_1ggd2611qj4">POM (Project Object Model) file</h2>
<ul>
<li>The POM declaratively describes the build including all dependencies.</li>
<li>POM is an XML file that describes the Maven project.</li>
<li>Maven project usually creates an artifact (jar, war, ear, ...)</li>
</ul>
<p>Minimal POM example file:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="php"><span class="hljs-meta" style="color: #bbb529;">&lt;?</span>xml version=<span class="hljs-string" style="color: #6a8759;">"1.0"</span> encoding=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span><span class="hljs-meta" style="color: #bbb529;">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string" style="color: #6a8759;">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string" style="color: #6a8759;">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string" style="color: #6a8759;">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>com.test<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">project</span>&gt;</span></pre>
<h2 id="mcetoc_1ggd2611qj5">Project coordinates</h2>
<p>The project coordinates consists of groupId, artifactId and the version</p>
<ul>
<li>Maven project coordinates form a kind of address for a Maven artifact</li>
<li>They consist of:<br><code>&lt;groupId&gt;com.test&lt;/groupId&gt;</code><br><code>&lt;artifactId&gt;my-app&lt;/artifactId&gt;</code><br><code>&lt;version&gt;1.0.0&lt;/version&gt;</code></li>
<li>The combination of the three parts shall be globally unique!</li>
<li>Using the project coordinates, the dependencies are fetched from the repository fetched</li>
<li>All three parts are mandatory</li>
</ul>
<h2 id="mcetoc_1ggd443kjlt">Packaging</h2>
<ul>
<li>Packaging defines the shape of the generated artifact</li>
<li>Packaging:<br><code>&lt;packaging&gt;jar&lt;/packaging&gt;</code></li>
<li>Not specified: default is jar.</li>
<li>Other possible values: pom, maven-plugin, ejb, war, ear, rar</li>
</ul>
<h2 id="mcetoc_1ggd2611qj6">Naming conventions</h2>
<h3 id="mcetoc_1ggd2611qj7">groupId</h3>
<ul>
<li>Identifies the project globally → unique namespace required.</li>
<li>The Java package naming conventions are used.</li>
<li>Reverse Internet domain name, which one has under one's own control<br>has, e.g. com.example</li>
<li>After that, freely selectable, uniquely within domain, e.g. com.example.dev</li>
</ul>
<h3 id="mcetoc_1ggd2611qj8">artifactId</h3>
<ul>
<li>Identifies the concrete build artifact (jar, war, ear, ...).</li>
<li>E.g. todoapp</li>
</ul>
<h2 id="mcetoc_1ggd443kjlu">Standard directory layout</h2>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/68/Screenshot-2022-10-27-at-18.09.08.png" alt="" width="283" height="430" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-18.09.08-xs.png 300w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-18.09.08-sm.png 480w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-18.09.08-md.png 768w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-18.09.08-lg.png 1024w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-18.09.08-xl.png 1360w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-18.09.08-2xl.png 1600w"></figure>
<p>Legend to the layout:</p>
<table class="table table-striped" border="1">
<tbody>
<tr class="a">
<td align="left"><code>src/main/java</code></td>
<td align="left">Application/Library sources</td>
</tr>
<tr class="b">
<td align="left"><code>src/main/resources</code></td>
<td align="left">Application/Library resources</td>
</tr>
<tr class="a">
<td align="left"><code>src/main/filters</code></td>
<td align="left">Resource filter files</td>
</tr>
<tr class="b">
<td align="left"><code>src/main/webapp</code></td>
<td align="left">Web application sources</td>
</tr>
<tr class="a">
<td align="left"><code>src/test/java</code></td>
<td align="left">Test sources</td>
</tr>
<tr class="b">
<td align="left"><code>src/test/resources</code></td>
<td align="left">Test resources</td>
</tr>
<tr class="a">
<td align="left"><code>src/test/filters</code></td>
<td align="left">Test resource filter files</td>
</tr>
<tr class="b">
<td align="left"><code>src/it</code></td>
<td align="left">Integration Tests (primarily for plugins)</td>
</tr>
<tr class="a">
<td align="left"><code>src/assembly</code></td>
<td align="left">Assembly descriptors</td>
</tr>
<tr class="b">
<td align="left"><code>src/site</code></td>
<td align="left">Site</td>
</tr>
<tr class="a">
<td align="left"><code>LICENSE.txt</code></td>
<td align="left">Project's license</td>
</tr>
<tr class="b">
<td align="left"><code>NOTICE.txt</code></td>
<td align="left">Notices and attributions required by libraries that the project depends on</td>
</tr>
<tr class="a">
<td align="left"><code>README.txt</code></td>
<td align="left">Project's readme</td>
</tr>
</tbody>
</table>
<h2 id="mcetoc_1ggd8kpb6ob">Dependencies</h2>
<ul>
<li>Dependency management is the central function of Maven</li>
<li>Management of the required libraries</li>
<li>Dependencies required by libraries themselves are added automatically (without specifying them) → transitive dependencies.</li>
<li>Maven automatically downloads dependencies and transitive dependencies.</li>
<li>The downloaded dependencies are available for compilation.<br>available</li>
<li>The downloaded dependencies are packed into the artifacts</li>
</ul>
<p>example of a dependency declaration in a POM file:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">dependencies</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">scope</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">dependencies</span>&gt;</span></pre>
<p>You can also list all dependencies with this command: </p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;"># mvn dependency:tree                                                                                                          </span>
[INFO] Scanning <span class="hljs-keyword" style="color: #cc7832;">for</span> projects...
[INFO] 
[INFO] --------------------------&lt; com.example:demo &gt;--------------------------
[INFO] Building demo 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ demo ---
[INFO] com.example:demo:jar:0.0.1-SNAPSHOT
[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.7.5:compile
[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.7.5:compile
[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.5:compile
[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile
[INFO] |  |  |  |  \- ch.qos.logback:logback-core:jar:1.2.11:compile
[INFO] |  |  |  +- org.apache.logging.log4j:<span class="hljs-built_in">log</span>4j-to-slf4j:jar:2.17.2:compile
[INFO] |  |  |  |  \- org.apache.logging.log4j:<span class="hljs-built_in">log</span>4j-api:jar:2.17.2:compile
[INFO] |  |  |  \- org.slf4j:jul-to-slf4j:jar:1.7.36:compile
[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile
[INFO] |  |  \- org.yaml:snakeyaml:jar:1.30:compile
[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.7.5:compile
[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.4.2:compile
[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.4:compile
[INFO] |  |  |  \- com.fasterxml.jackson.core:jackson-core:jar:2.13.4:compile
[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.4:compile
[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.4:compile
[INFO] |  |  \- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.4:compile
[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.5:compile
[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.68:compile
[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.68:compile
[INFO] |  |  \- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.68:compile
[INFO] |  +- org.springframework:spring-web:jar:5.3.23:compile
[INFO] |  |  \- org.springframework:spring-beans:jar:5.3.23:compile
[INFO] |  \- org.springframework:spring-webmvc:jar:5.3.23:compile
[INFO] |     +- org.springframework:spring-aop:jar:5.3.23:compile
[INFO] |     +- org.springframework:spring-context:jar:5.3.23:compile
[INFO] |     \- org.springframework:spring-expression:jar:5.3.23:compile
[INFO] +- org.springframework.boot:spring-boot-devtools:jar:2.7.5:runtime
[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.5:compile
[INFO] |  \- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.5:compile
[INFO] \- org.springframework.boot:spring-boot-starter-test:jar:2.7.5:<span class="hljs-built_in">test</span>
[INFO]    +- org.springframework.boot:spring-boot-test:jar:2.7.5:<span class="hljs-built_in">test</span>
[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.5:<span class="hljs-built_in">test</span>
[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:<span class="hljs-built_in">test</span>
[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:<span class="hljs-built_in">test</span>
[INFO]    |  |  \- net.minidev:accessors-smart:jar:2.4.8:<span class="hljs-built_in">test</span>
[INFO]    |  |     \- org.ow2.asm:asm:jar:9.1:<span class="hljs-built_in">test</span>
[INFO]    |  \- org.slf4j:slf4j-api:jar:1.7.36:compile
[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:<span class="hljs-built_in">test</span>
[INFO]    |  \- jakarta.activation:jakarta.activation-api:jar:1.2.2:<span class="hljs-built_in">test</span>
[INFO]    +- org.assertj:assertj-core:jar:3.22.0:<span class="hljs-built_in">test</span>
[INFO]    +- org.hamcrest:hamcrest:jar:2.2:<span class="hljs-built_in">test</span>
[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.8.2:<span class="hljs-built_in">test</span>
[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:<span class="hljs-built_in">test</span>
[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:<span class="hljs-built_in">test</span>
[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:<span class="hljs-built_in">test</span>
[INFO]    |  |  \- org.apiguardian:apiguardian-api:jar:1.1.2:<span class="hljs-built_in">test</span>
[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:<span class="hljs-built_in">test</span>
[INFO]    |  \- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:<span class="hljs-built_in">test</span>
[INFO]    |     \- org.junit.platform:junit-platform-engine:jar:1.8.2:<span class="hljs-built_in">test</span>
[INFO]    +- org.mockito:mockito-core:jar:4.5.1:<span class="hljs-built_in">test</span>
[INFO]    |  +- net.bytebuddy:byte-buddy:jar:1.12.18:<span class="hljs-built_in">test</span>
[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.18:<span class="hljs-built_in">test</span>
[INFO]    |  \- org.objenesis:objenesis:jar:3.2:<span class="hljs-built_in">test</span>
[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.5.1:<span class="hljs-built_in">test</span>
[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:<span class="hljs-built_in">test</span>
[INFO]    |  \- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:<span class="hljs-built_in">test</span>
[INFO]    +- org.springframework:spring-core:jar:5.3.23:compile
[INFO]    |  \- org.springframework:spring-jcl:jar:5.3.23:compile
[INFO]    +- org.springframework:spring-test:jar:5.3.23:<span class="hljs-built_in">test</span>
[INFO]    \- org.xmlunit:xmlunit-core:jar:2.9.0:<span class="hljs-built_in">test</span>
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  1.256 s
[INFO] Finished at: 2022-10-27T19:47:12+02:00
[INFO] ------------------------------------------------------------------------
</pre>
<h3 id="mcetoc_1ggd8kpb6oc">Scope</h3>
<p>The scope of a dependency specifies in which classpaths it is provided by Maven.<br>(classpaths change depending on the build phase):</p>
<ul>
<li><strong>compile</strong>: Default Scope, Dependencies are available in all classpaths</li>
<li><strong>test</strong>: Only during test</li>
<li><strong>provided</strong>: Only available in compile and test classpaths, dependency must be provided at runtime (e.g., by the servlet container)</li>
<li><strong>runtime</strong>: Only during runtime and test, but not for compile</li>
<li><strong>other</strong> (not so important)</li>
</ul>
<h3 id="mcetoc_1ggd9jq2mqi">Transitive dependencies</h3>
<ul>
<li>Dependencies required by the dependencies we declare.</li>
<li>Are automatically downloaded by Maven and added to the classpath</li>
<li>Attention: You can also use these transitive dependencies directly in the code.<br>→ please do not do this!</li>
<li>Explicitly enter each dependency that you use yourself in the code as a dependency in the POM</li>
</ul>
<p>Finding out if you are using a transitive dependency in your code:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;"># mvn dependency:analyze                                                                                                             </span>
[INFO] Scanning <span class="hljs-keyword" style="color: #cc7832;">for</span> projects...
[INFO] 
[INFO] --------------------------&lt; com.example:demo &gt;--------------------------
[INFO] Building demo 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] &gt;&gt;&gt; maven-dependency-plugin:3.3.0:analyze (default-cli) &gt; <span class="hljs-built_in">test</span>-compile @ demo &gt;&gt;&gt;
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ demo ---
[INFO] Using <span class="hljs-string" style="color: #6a8759;">'UTF-8'</span> encoding to copy filtered resources.
[INFO] Using <span class="hljs-string" style="color: #6a8759;">'UTF-8'</span> encoding to copy filtered properties files.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ demo ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 <span class="hljs-built_in">source</span> file to /Users/Dave/Downloads/demo/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:<span class="hljs-built_in">test</span>Resources (default-testResources) @ demo ---
[INFO] Using <span class="hljs-string" style="color: #6a8759;">'UTF-8'</span> encoding to copy filtered resources.
[INFO] Using <span class="hljs-string" style="color: #6a8759;">'UTF-8'</span> encoding to copy filtered properties files.
[INFO] skip non existing resourceDirectory /Users/Dave/Downloads/demo/src/<span class="hljs-built_in">test</span>/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.10.1:<span class="hljs-built_in">test</span>Compile (default-testCompile) @ demo ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 <span class="hljs-built_in">source</span> file to /Users/Dave/Downloads/demo/target/<span class="hljs-built_in">test</span>-classes
[INFO] 
[INFO] &lt;&lt;&lt; maven-dependency-plugin:3.3.0:analyze (default-cli) &lt; <span class="hljs-built_in">test</span>-compile @ demo &lt;&lt;&lt;
[INFO] 
[INFO] 
[INFO] --- maven-dependency-plugin:3.3.0:analyze (default-cli) @ demo ---
[WARNING] Used undeclared dependencies found:
[WARNING]    org.springframework.boot:spring-boot:jar:2.7.5:compile
[WARNING]    org.junit.jupiter:junit-jupiter-api:jar:5.8.2:<span class="hljs-built_in">test</span>
[WARNING]    org.springframework.boot:spring-boot-test:jar:2.7.5:<span class="hljs-built_in">test</span>
[WARNING]    org.springframework.boot:spring-boot-autoconfigure:jar:2.7.5:compile
[WARNING] Unused declared dependencies found:
[WARNING]    org.springframework.boot:spring-boot-starter-web:jar:2.7.5:compile
[WARNING]    org.springframework.boot:spring-boot-devtools:jar:2.7.5:runtime
[WARNING]    org.springframework.boot:spring-boot-starter-test:jar:2.7.5:<span class="hljs-built_in">test</span>
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  2.113 s
[INFO] Finished at: 2022-10-27T19:50:29+02:00
[INFO] ------------------------------------------------------------------------
</pre>
<h2 id="mcetoc_1ggd9jq2mqj">Project inheritance</h2>
<p>POMs an also inherit, this is for example needed for a Spring Boot-Application. This allows you for example, to standardize the libraries used and their versions across multiple projects or Maven modules.</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/68/inheritance.png" alt="" width="1024" height="754" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/68/responsive/inheritance-xs.png 300w ,https://www.finecloud.ch/media/posts/68/responsive/inheritance-sm.png 480w ,https://www.finecloud.ch/media/posts/68/responsive/inheritance-md.png 768w ,https://www.finecloud.ch/media/posts/68/responsive/inheritance-lg.png 1024w ,https://www.finecloud.ch/media/posts/68/responsive/inheritance-xl.png 1360w ,https://www.finecloud.ch/media/posts/68/responsive/inheritance-2xl.png 1600w"></figure>
<h2 id="mcetoc_1ggd9jq2mqk">Project aggregation (Multi Module)</h2>
<p>Also a POM can aggregate multiple POMs as Modules</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/68/Screenshot-2022-10-27-at-20.01.00.png" alt="" width="275" height="400" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-20.01.00-xs.png 300w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-20.01.00-sm.png 480w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-20.01.00-md.png 768w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-20.01.00-lg.png 1024w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-20.01.00-xl.png 1360w ,https://www.finecloud.ch/media/posts/68/responsive/Screenshot-2022-10-27-at-20.01.00-2xl.png 1600w"></figure>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>com.test<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>example-maven-multimodule<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">version</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">packaging</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">packaging</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">modules</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">module</span>&gt;</span>module1<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">module</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">module</span>&gt;</span>module2<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">module</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">module</span>&gt;</span>module3<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">module</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">modules</span>&gt;</span></pre>
<h2 id="mcetoc_1ggd9tb9jr2">Properties</h2>
<p>Properties are placeholders and can be addressed via ${&lt;propertyname&gt;}.</p>
<p>Example:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">properties</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">java.version</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">commons-pool2.version</span>&gt;</span>2.6.0<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">commons-pool2.version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">properties</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>org.apache.commons<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>commons-pool2<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">version</span>&gt;</span>${commons-pool2.version}<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">dependency</span>&gt;</span></pre>
<h2 id="mcetoc_1ggv3g3smf5">Version structure</h2>
<ul>
<li>A version must always be specified</li>
<li>Maven basically leaves the structure of a version free</li>
<li>Recommended approach: semantic versioning (<a href="https://semver.org/">https://semver.org/</a>)
<ul>
<li><code>&lt;Major&gt;.&lt;Minor&gt;.&lt;Bugfix&gt;-&lt;Qualifier&gt;-&lt;Buildnumber&gt;</code></li>
<li>Major: increment when API changes.</li>
<li>Minor: increment if new features are included, but same API.</li>
<li>Bugfix: increment, if only something was fixed</li>
<li>Qualifier: Optional.</li>
<li>Build number: Optional.</li>
<li>Example: &lt;version&gt;2.4.18&lt;/version&gt;</li>
</ul>
</li>
</ul>
<h3 id="mcetoc_1ggv3g3smf6">SNAPSHOT Version</h3>
<ul>
<li>The qualifier SNAPSHOT is used during the development of a version<br>is used</li>
<li>Example: 1.0-SNAPSHOT → means that the 1.0 version of the software is being<br>is being developed</li>
<li>A version with SNAPSHOT qualifier is always considered to be older than<br>the same one without the qualifier</li>
<li>Special rules apply for version resolution, Maven usually fetches a snapshot version once per day from the repository, unless you specify "-U".</li>
<li>Example: <code>mvn -U clean install</code> also fetches the most recent snapshot<br>versions from the repository</li>
</ul>
<h2 id="mcetoc_1ggv3g3smf7">Version resolution transitive dependencies</h2>
<ul>
<li>Multiple transitive dependencies can contain the same artifact in different<br>different versions, but can only have exactly one version of a transitive dependency in the classpath.</li>
<li>Resolution is performed according to the "nearest definition" principle:
<ul>
<li>The version in the dependency tree that is closest to one's own project<br>Tree is taken</li>
<li>If two versions are equally close, the one found first is taken</li>
<li>Example: Dependency D appears twice in the dependency tree:
<ul>
<li>A → B → C → D (version 2.0)</li>
<li>A → E → D (version 1.0)</li>
<li>Version 1.0 of D is taken, since closer to own project (A).</li>
</ul>
</li>
</ul>
</li>
<li>One can explicitly specify a particular version of a transitive dependency<br>specify:
<ul>
<li>Include it explicitly as a dependency in your own POM.</li>
<li>Via Dependency Management</li>
</ul>
</li>
</ul>
<h2 id="mcetoc_1ggv3g3smf8">Keeping POM clean</h2>
<ul>
<li>Find out unclean dependencies:
<ul>
<li><code>mvn dependency:analyze</code></li>
<li>check out <a href="https://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html">https://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html</a></li>
</ul>
</li>
<li>Lists dependencies that:
<ul>
<li>Used and declared (--&gt; ok)</li>
<li>Used but are not declared in their own pom (--&gt; nok)</li>
<li>Are not used but are declared (--&gt; potentially remnant, clean up)</li>
</ul>
</li>
</ul>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Threema Safe backup to Nextcloud</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/threema-backup-to-nextcloud.html"/>
        <id>https://www.finecloud.ch/threema-backup-to-nextcloud.html</id>
            <category term="tools"/>
            <category term="threema-safe"/>
            <category term="threema"/>
            <category term="nextcloud"/>
            <category term="backup"/>
            <category term="android"/>

        <updated>2022-10-13T07:53:01+02:00</updated>
            <summary>
                <![CDATA[
                    Did you know that Threema allows you, to backup your Threema app to a custom Threema Safe server? You can for example use your Nextcloud to keep your Threema backups safe. I recommend to create a new Nextcloud user account only for the purpose of&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Did you know that Threema allows you, to backup your Threema app to a custom Threema Safe server? You can for example use your Nextcloud to keep your Threema backups safe.</p>
<h2>Configure Nextcloud</h2>
<p>I recommend to create a new Nextcloud user account only for the purpose of the Threema backup. If this account gets in wrong hands, all other Nextcloud files are still save. You can share your Threema backup folder with your regular Nextcloud user account if you want to have direct access to your Threema backups.</p>
<ol>
<li>Create a new Nextcloud user, e.g. threma-safe and generate a complex password with your favorite password tool.</li>
<li>Sign in with the newly created Nextcloud user and delete the example files. Create a new folder "threma-safe" with a subfolder "backups".</li>
<li>In the "threma-safe" folder create a config file (yes, no file-ending!) with the following content:
<pre class="hljs" style="color: #a9b7c6; background: #282b2e; display: block; overflow-x: auto; padding: 0.5em;">   {
   <span class="hljs-attr">"maxBackupBytes"</span>: <span class="hljs-number" style="color: #6897bb;">52428800</span>,
   <span class="hljs-attr">"retentionDays"</span>: <span class="hljs-number" style="color: #6897bb;">180</span>
    }</pre>
</li>
<li>If you have 2FA active (I hope you do so) you need to generate a new app password. Go to <em>Settings -&gt; Security -&gt; Devices &amp; sessions</em> and enter a app name like "threema-safe" and click "Create new app password", save the generated password in your password tool.</li>
</ol>
<h2>Configure Threema app</h2>
<ol>
<li>Open your app, on the menu select "Backups"</li>
<li>Enable Threema Safe</li>
<li>Choose expert settings, uncheck "use default server"</li>
<li>provide your Nextcloud WebDAV URL: <a href="https://yourserver.domain.com/remote.php/dav/files/threema-safe/threema-safe/">https://yourserver.domain.com/remote.php/dav/files/threema-safe/threema-safe/</a></li>
<li>Press "ok"</li>
<li>Generate and enter a strong password to protect your Threema Safe backup and click "Next". Your first backup should now be generated.</li>
</ol>
<h2>Verify</h2>
<p>You show now see a newly generated backup in your threema-safe folder. To share your backups with your personal Nextcloud user, you can now select the threema-safe folder in Nextcloud and press the "share" icon, add your username and you're done. Happy backing!<br><br></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Handling Exceptions in Web UI</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/handling-exceptions-in-webui.html"/>
        <id>https://www.finecloud.ch/handling-exceptions-in-webui.html</id>
            <category term="whitelabel error page"/>
            <category term="try catch"/>
            <category term="tomcat"/>
            <category term="thymeleaf"/>
            <category term="spring-framework"/>
            <category term="spring"/>
            <category term="software development"/>
            <category term="java basics"/>
            <category term="java"/>
            <category term="http"/>
            <category term="gui"/>
            <category term="exceptions"/>
            <category term="exception"/>
            <category term="dev"/>
            <category term="database"/>
            <category term="api"/>

        <updated>2022-09-27T17:49:41+02:00</updated>
            <summary>
                <![CDATA[
                    The Issue There is nothing worse than presenting a Java Stacktrace in a WebUI, full of technical Details about your Server environment of the Web App itself: So how can we avoid this? You don't want to share this informations with the users, it would&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gdv9jdoksv">The Issue</a></li>
<li><a href="#mcetoc_1gdv9jdokt0">Custom Error Page</a></li>
<li><a href="#mcetoc_1gdv9jdokt1">Error Controller</a></li>
</ul>
</div>
<h2 id="mcetoc_1gdv9jdoksv">The Issue</h2>
<p>There is nothing worse than presenting a Java Stacktrace in a WebUI, full of technical Details about your Server environment of the Web App itself:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/66//Screenshot-2022-09-27-at-10.37.26.png" alt="" width="1077" height="1032" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/66//responsive/Screenshot-2022-09-27-at-10.37.26-xs.png 300w ,https://www.finecloud.ch/media/posts/66//responsive/Screenshot-2022-09-27-at-10.37.26-sm.png 480w ,https://www.finecloud.ch/media/posts/66//responsive/Screenshot-2022-09-27-at-10.37.26-md.png 768w ,https://www.finecloud.ch/media/posts/66//responsive/Screenshot-2022-09-27-at-10.37.26-lg.png 1024w ,https://www.finecloud.ch/media/posts/66//responsive/Screenshot-2022-09-27-at-10.37.26-xl.png 1360w ,https://www.finecloud.ch/media/posts/66//responsive/Screenshot-2022-09-27-at-10.37.26-2xl.png 1600w"></figure>
<p>So how can we avoid this? You don't want to share this informations with the users, it would scare them and they wouldn't understand it.</p>
<p>What is happing here, is that the Page will try to redirect to the /error Page. This Page does not exist as real HTML Page. This is just a generated default page out of the box. This is generated in code. But we can create our own error page to avoid this.</p>
<h2 id="mcetoc_1gdv9jdokt0">Custom Error Page</h2>
<p>Let's create a new HTML Page under <em>resources/templates/error.html</em>:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #bbb529;">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string" style="color: #6a8759;">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>Error Page<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
Something went horribly, terribly wrong. Please try again.
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></pre>
<p>To use this Page, because it's under the templates folder it needs a controller in order to work.</p>
<h2 id="mcetoc_1gdv9jdokt1">Error Controller</h2>
<p>So we need to create an error Controller for this. Let's create a new Java Class called ErrorController.java with this content:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.web.controller;

<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.GetMapping;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-meta" style="color: #bbb529;">@Controller</span>
<span class="hljs-meta" style="color: #bbb529;">@RequestMapping</span>(<span class="hljs-string" style="color: #6a8759;">"error"</span>)
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">ErrorController</span> </span>{

    <span class="hljs-meta" style="color: #bbb529;">@GetMapping</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> String <span class="hljs-title" style="color: #ffc66d;">getErrorPage</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"error"</span>;
    }
}
</pre>
<p>If a User now again hits an error, this will be shown:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/66/Screenshot-2022-09-27-at-13.08.06-2.png" alt="" width="413" height="131" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.08.06-2-xs.png 300w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.08.06-2-sm.png 480w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.08.06-2-md.png 768w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.08.06-2-lg.png 1024w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.08.06-2-xl.png 1360w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.08.06-2-2xl.png 1600w"></figure>
<p>Much better, isn't it? But we can do even better. If we know what kind of error could be thrown, we can provide a more accurate error page. In our current case we need to add a specific try catch block in the save method, which can catch StorageExceptions:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">    <span class="hljs-meta" style="color: #bbb529;">@PostMapping</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> String <span class="hljs-title" style="color: #ffc66d;">savePerson</span><span class="hljs-params">(Model model, @Valid Person person, Errors errors, @RequestParam(<span class="hljs-string" style="color: #6a8759;">"photoFilename"</span>)</span> MultipartFile photoFile) <span class="hljs-keyword" style="color: #cc7832;">throws</span> IOException </span>{
        log.info(person);
        log.info(<span class="hljs-string" style="color: #6a8759;">"Filename: "</span> + photoFile.getOriginalFilename());
        log.info(<span class="hljs-string" style="color: #6a8759;">"File size: "</span> + photoFile.getSize());
        log.info(<span class="hljs-string" style="color: #6a8759;">"Errors: "</span> + errors);
        <span class="hljs-keyword" style="color: #cc7832;">if</span> (!errors.hasErrors()) {
            <span class="hljs-keyword" style="color: #cc7832;">try</span> {
                fileStorageRepository.save(photoFile.getOriginalFilename(), photoFile.getInputStream());
                personRepository.save(person);
                <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"redirect:people"</span>;
            } <span class="hljs-keyword" style="color: #cc7832;">catch</span> (StorageException e) {
                model.addAttribute(<span class="hljs-string" style="color: #6a8759;">"errorMsg"</span>, <span class="hljs-string" style="color: #6a8759;">"System is currently unable to accept photo files at this time."</span>);
                <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"people"</span>;
            }
        }
        <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"people"</span>;
    }</pre>
<p>Now let's add this custom error Message to the people.html page like so:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"alert alert-danger"</span> <span class="hljs-attr">role</span>=<span class="hljs-string" style="color: #6a8759;">"alert"</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${errorMsg}"</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string" style="color: #6a8759;">"${errorMsg}"</span>&gt;</span>
    A simple danger alert-check it out!
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span></pre>
<p>The final result looks like this:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/66/Screenshot-2022-09-27-at-13.35.45.png" alt="" width="2312" height="1560" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.35.45-xs.png 300w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.35.45-sm.png 480w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.35.45-md.png 768w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.35.45-lg.png 1024w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.35.45-xl.png 1360w ,https://www.finecloud.ch/media/posts/66/responsive/Screenshot-2022-09-27-at-13.35.45-2xl.png 1600w"></figure>
<p>The User will be redirected back to the people page with the provided values. The Error Message will be displayed in the middle of the page.</p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Getting stared with the Spring Framework</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/getting-stared-with-spring-framework.html"/>
        <id>https://www.finecloud.ch/getting-stared-with-spring-framework.html</id>
            <category term="tomcat"/>
            <category term="thymeleaf"/>
            <category term="sql"/>
            <category term="spring-framework"/>
            <category term="spring"/>
            <category term="software development"/>
            <category term="java"/>
            <category term="http"/>
            <category term="gui"/>
            <category term="dev"/>
            <category term="database"/>

        <updated>2022-09-23T07:41:59+02:00</updated>
            <summary>
                <![CDATA[
                    What is the Spring Framework Spring is the world's most popular Java framework and makes programming Java quicker, easier, and safer for everybody. Spring’s focus on speed, simplicity, and productivity. You can select and generate your Spring Package online: https://start.spring.io/ Lets make a Gradle Project,&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gd9vb6re8m">What is the Spring Framework</a></li>
<li><a href="#mcetoc_1gd9vb6re8n">What can Spring do</a></li>
<li><a href="#mcetoc_1gd9vb6re8o">Getting started</a></li>
<li><a href="#mcetoc_1gd9vsqc28s">Display dynamic content</a></li>
<li><a href="#mcetoc_1gdfedk589b">Add some Bootstrap</a></li>
<li><a href="#mcetoc_1gdk6qb94kk">Formatting Dates and Numbers</a></li>
<li><a href="#mcetoc_1gdk6qb94kl">Introducing Spring Data</a></li>
<li><a href="#mcetoc_1gdkdrmqkla">Saving a Person</a></li>
</ul>
</div>
<h2 id="mcetoc_1gd9vb6re8m">What is the Spring Framework</h2>
<p>Spring is the world's most popular Java framework and makes programming Java quicker, easier, and safer for everybody. Spring’s focus on speed, simplicity, and productivity.</p>
<h2 id="mcetoc_1gd9vb6re8n">What can Spring do</h2>
<ul>
<li><strong>Microservices</strong>: Quickly deliver production‑grade features with independently evolvable microservices.</li>
<li><strong>Reactive</strong>: Spring's asynchronous, nonblocking architecture means you can get more from your computing resources.</li>
<li><strong>Cloud</strong>: Your code, any cloud—we’ve got you covered. Connect and scale your services, whatever your platform.</li>
<li><strong>Web apps</strong>: Frameworks for fast, secure, and responsive web applications connected to any data store.</li>
<li><strong>Serverless</strong>: The ultimate flexibility. Scale up on demand and scale to zero when there’s no demand.</li>
<li><strong>Event Driven</strong>: Integrate with your enterprise. React to business events. Act on your streaming data in realtime.</li>
<li><strong>Batch</strong>: Automated tasks. Offline processing of data at a time to suit you.</li>
</ul>
<h2 id="mcetoc_1gd9vb6re8o">Getting started</h2>
<p>You can select and generate your Spring Package online: <a href="https://start.spring.io/">https://start.spring.io/</a></p>
<p>Lets make a Gradle Project, use Java v17 and add those dependencies:</p>
<ul>
<li>Spring Boot DevTools Developer Tools</li>
<li>Lombok Developer Tools</li>
<li>Spring Web Web</li>
<li>Thymeleaf Template Engines</li>
<li>Spring Data JPA SQL</li>
<li>H2 Database SQL</li>
<li>Validation I/O</li>
</ul>
<p>Click "Generate" and unzip the file to your IDE Projects and open it with your preferred IDE.</p>
<p>In the IDE run the <code>PeopledbWebApplication.java</code> Class and open your browser, go to <a href="http://localhost:8080/">http://localhost:8080/</a> you should get a page like this:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/65/Screenshot-2022-09-19-at-06.18.30.png" alt="" width="1140" height="354" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.18.30-xs.png 300w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.18.30-sm.png 480w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.18.30-md.png 768w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.18.30-lg.png 1024w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.18.30-xl.png 1360w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.18.30-2xl.png 1600w"></figure>
<p>Go back to your IDE and create a new index.html File in the Folder <em>/src/main/resources/static/index.html</em> with this content:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string" style="color: #6a8759;">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
Hello World
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></span></pre>
<p>Rebuild your Project in the IDE and reopen your page on <a href="http://localhost:8080/">http://localhost:8080/</a> and you should see this now:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/65/Screenshot-2022-09-19-at-06.22.16.png" alt="" width="1140" height="354" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.22.16-xs.png 300w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.22.16-sm.png 480w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.22.16-md.png 768w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.22.16-lg.png 1024w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.22.16-xl.png 1360w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-19-at-06.22.16-2xl.png 1600w"></figure>
<p>Congratulations you just generated your first Spring Web App.</p>
<h2 id="mcetoc_1gd9vsqc28s">Display dynamic content</h2>
<p>Let's create a new package called web.controller and lets create a Java class called PeopleController with this content:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.web.controller;

<span class="hljs-keyword" style="color: #cc7832;">import</span> ch.finecloud.peopledbweb.biz.model.Person;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.ui.Model;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.GetMapping;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-keyword" style="color: #cc7832;">import</span> java.math.BigDecimal;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.time.LocalDate;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.util.List;

<span class="hljs-meta" style="color: #bbb529;">@Controller</span>
<span class="hljs-meta" style="color: #bbb529;">@RequestMapping</span>(<span class="hljs-string" style="color: #6a8759;">"/people"</span>)
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">PeopleController</span> </span>{

    <span class="hljs-meta" style="color: #bbb529;">@GetMapping</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> String <span class="hljs-title" style="color: #ffc66d;">getPeople</span><span class="hljs-params">(Model model)</span> </span>{
        List&lt;Person&gt; people = List.of(
                <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-number" style="color: #6897bb;">10l</span>, <span class="hljs-string" style="color: #6a8759;">"Jake"</span>, <span class="hljs-string" style="color: #6a8759;">"Snake"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1950</span>, <span class="hljs-number" style="color: #6897bb;">1</span>, <span class="hljs-number" style="color: #6897bb;">8</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">50000</span>)),
                <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-number" style="color: #6897bb;">20l</span>, <span class="hljs-string" style="color: #6a8759;">"Sara"</span>, <span class="hljs-string" style="color: #6a8759;">"Smith"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1960</span>, <span class="hljs-number" style="color: #6897bb;">2</span>, <span class="hljs-number" style="color: #6897bb;">7</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">60000</span>)),
                <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-number" style="color: #6897bb;">30l</span>, <span class="hljs-string" style="color: #6a8759;">"Johnny"</span>, <span class="hljs-string" style="color: #6a8759;">"Jackson"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1970</span>, <span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">6</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">70000</span>)),
                <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-number" style="color: #6897bb;">40l</span>, <span class="hljs-string" style="color: #6a8759;">"Bonny"</span>, <span class="hljs-string" style="color: #6a8759;">"Norris"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1980</span>, <span class="hljs-number" style="color: #6897bb;">4</span>, <span class="hljs-number" style="color: #6897bb;">5</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">80000</span>))
        );
        model.addAttribute(<span class="hljs-string" style="color: #6a8759;">"people"</span>, people);
        <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"people"</span>;
    }
}
</pre>
<p>We're going to create a new HTML file under the resources/templates folder. We call it people.html:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string" style="color: #6a8759;">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>People<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
here are some people
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></span></pre>
<p>If we not open our browser to <a href="http://localhost:8080/people">http://localhost:8080/people</a> we will see that html file loaded. What is the difference between putting an HTML file under static versus under templates? The basic idea is: if you have HTML content that is dynamic and controlled from our Java code, then you need to put that HTML under templates. This will allow us to feed some dynamically generated content into this page and make a more interesting web page. Essentially, whereas static web pages we put under the static folder here are not capable of being fed data from our Java code directly.<br><br>Let's actually put sort of put a little bit of something dynamic in here. Let's make another package under the main  package, and call this one biz.model with a Java Class Person with the following content: </p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.biz.model;

<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.AllArgsConstructor;
<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.Data;

<span class="hljs-keyword" style="color: #cc7832;">import</span> java.math.BigDecimal;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.time.LocalDate;

<span class="hljs-meta" style="color: #bbb529;">@Data</span>
<span class="hljs-meta" style="color: #bbb529;">@AllArgsConstructor</span>
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">Person</span> </span>{
    <span class="hljs-keyword" style="color: #cc7832;">private</span> Long id;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String firstName;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String lastName;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> LocalDate dob;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> BigDecimal salary;

}
</pre>
<p>Normally we would create or generate getters and setters and all that good stuff in that Java Class. However, now that we're using the spring framework with spring boot and we got all this cool added functionality here, we can do something a little more interesting. We're going to use a special annotation from a library called Lombok, and the annotation we will use is called @Data. This annotation will will allow the Lombok Library to scan this class, find these fields and generate getters and setters and a constructor and an equals and a hash code and a two string method, all for us whenever we need it.</p>
<p>Next we also need to change our people.html file like so:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string" style="color: #6a8759;">"en"</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string" style="color: #6a8759;">"http://www.thymeleaf.org"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>People<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
here are some people:
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">ol</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">li</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string" style="color: #6a8759;">"person: $</span></span></span><span class="hljs-template-variable" style="color: #629755;">{people}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"$</span></span></span><span class="hljs-template-variable" style="color: #629755;">{person}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>My Junk Person<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">ol</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></span></pre>
<p>If we now rebuild our Project and refresh our people page we receive this dynamic content:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/65/Screenshot-2022-09-20-at-08.58.49.png" alt="" width="1304" height="480" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-20-at-08.58.49-xs.png 300w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-20-at-08.58.49-sm.png 480w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-20-at-08.58.49-md.png 768w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-20-at-08.58.49-lg.png 1024w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-20-at-08.58.49-xl.png 1360w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-20-at-08.58.49-2xl.png 1600w"></figure>
<h2 id="mcetoc_1gdfedk589b">Add some Bootstrap</h2>
<p>Let's make the Table more beautiful by using the bootstrap css framework:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="xml"><span class="hljs-meta" style="color: #bbb529;">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string" style="color: #6a8759;">"en"</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string" style="color: #6a8759;">"http://www.thymeleaf.org"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string" style="color: #6a8759;">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string" style="color: #6a8759;">"width=device-width, initial-scale=1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>People<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string" style="color: #6a8759;">"https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string" style="color: #6a8759;">"stylesheet"</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string" style="color: #6a8759;">"sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string" style="color: #6a8759;">"anonymous"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string" style="color: #6a8759;">"https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string" style="color: #6a8759;">"sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string" style="color: #6a8759;">"anonymous"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"col-8 mx-auto"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"table"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>Last Name<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>First Name<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>DOB<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>Salary<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tbody</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tr</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string" style="color: #6a8759;">"person : $</span></span></span><span class="hljs-template-variable" style="color: #629755;">{people}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"row"</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"$</span></span></span><span class="hljs-template-variable" style="color: #629755;">{person.id}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"$</span></span></span><span class="hljs-template-variable" style="color: #629755;">{person.lastName}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>Mark<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"$</span></span></span><span class="hljs-template-variable" style="color: #629755;">{person.firstName}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>Otto<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"$</span></span></span><span class="hljs-template-variable" style="color: #629755;">{person.dob}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>@mdo<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"$</span></span></span><span class="hljs-template-variable" style="color: #629755;">{person.salary}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string" style="color: #6a8759;">"</span>&gt;</span>@mdo<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></span></pre>
<p>If we now rebuild our Project and refresh our people page we receive this dynamic content:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/65/Screenshot-2022-09-21-at-09.14.36.png" alt="" width="1406" height="373" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-09.14.36-xs.png 300w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-09.14.36-sm.png 480w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-09.14.36-md.png 768w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-09.14.36-lg.png 1024w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-09.14.36-xl.png 1360w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-09.14.36-2xl.png 1600w"></figure>
<h2 id="mcetoc_1gdk6qb94kk">Formatting Dates and Numbers</h2>
<p>To format the Dates and Currency (Salary) we should not modify our Person.java Class, since this Class is part of the Service Layer, not the Presentation Layer. What we should do instead is create new Formatter Classes which make use of the Spring Formatter and can act directory on. the Presentation Layer:</p>
<p>peopledbweb/web/formatter/BigDecimalFormatter.java</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-selector-tag" style="color: #cc7832;">package</span> <span class="hljs-selector-tag" style="color: #cc7832;">ch</span><span class="hljs-selector-class" style="color: #e8bf6a;">.finecloud</span><span class="hljs-selector-class" style="color: #e8bf6a;">.peopledbweb</span><span class="hljs-selector-class" style="color: #e8bf6a;">.web</span><span class="hljs-selector-class" style="color: #e8bf6a;">.formatter</span>;

<span class="hljs-selector-tag" style="color: #cc7832;">import</span> <span class="hljs-selector-tag" style="color: #cc7832;">org</span><span class="hljs-selector-class" style="color: #e8bf6a;">.springframework</span><span class="hljs-selector-class" style="color: #e8bf6a;">.format</span><span class="hljs-selector-class" style="color: #e8bf6a;">.Formatter</span>;
<span class="hljs-selector-tag" style="color: #cc7832;">import</span> <span class="hljs-selector-tag" style="color: #cc7832;">org</span><span class="hljs-selector-class" style="color: #e8bf6a;">.springframework</span><span class="hljs-selector-class" style="color: #e8bf6a;">.stereotype</span><span class="hljs-selector-class" style="color: #e8bf6a;">.Component</span>;

<span class="hljs-selector-tag" style="color: #cc7832;">import</span> <span class="hljs-selector-tag" style="color: #cc7832;">java</span><span class="hljs-selector-class" style="color: #e8bf6a;">.math</span><span class="hljs-selector-class" style="color: #e8bf6a;">.BigDecimal</span>;
<span class="hljs-selector-tag" style="color: #cc7832;">import</span> <span class="hljs-selector-tag" style="color: #cc7832;">java</span><span class="hljs-selector-class" style="color: #e8bf6a;">.text</span><span class="hljs-selector-class" style="color: #e8bf6a;">.NumberFormat</span>;
<span class="hljs-selector-tag" style="color: #cc7832;">import</span> <span class="hljs-selector-tag" style="color: #cc7832;">java</span><span class="hljs-selector-class" style="color: #e8bf6a;">.text</span><span class="hljs-selector-class" style="color: #e8bf6a;">.ParseException</span>;
<span class="hljs-selector-tag" style="color: #cc7832;">import</span> <span class="hljs-selector-tag" style="color: #cc7832;">java</span><span class="hljs-selector-class" style="color: #e8bf6a;">.util</span><span class="hljs-selector-class" style="color: #e8bf6a;">.Locale</span>;

@<span class="hljs-keyword" style="color: #cc7832;">Component</span>
public class BigDecimalFormatter implements Formatter&lt;BigDecimal&gt; {

    @<span class="hljs-keyword" style="color: #cc7832;">Override</span>
    public BigDecimal parse(String text, Locale locale) throws ParseException {
        <span class="hljs-selector-tag" style="color: #cc7832;">return</span> <span class="hljs-selector-tag" style="color: #cc7832;">null</span>;
    }

    @<span class="hljs-keyword" style="color: #cc7832;">Override</span>
    public String print(BigDecimal object, Locale locale) {
        <span class="hljs-selector-tag" style="color: #cc7832;">return</span> <span class="hljs-selector-tag" style="color: #cc7832;">NumberFormat</span><span class="hljs-selector-class" style="color: #e8bf6a;">.getCurrencyInstance</span>(<span class="hljs-selector-tag" style="color: #cc7832;">locale</span>)<span class="hljs-selector-class" style="color: #e8bf6a;">.format</span>(<span class="hljs-selector-tag" style="color: #cc7832;">object</span>);
    }
}
</pre>
<p>peopledbweb/web/formatter/LocalDateFormatter.java</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">package ch<span class="hljs-selector-class" style="color: #e8bf6a;">.finecloud</span><span class="hljs-selector-class" style="color: #e8bf6a;">.peopledbweb</span><span class="hljs-selector-class" style="color: #e8bf6a;">.web</span><span class="hljs-selector-class" style="color: #e8bf6a;">.formatter</span>;

import org<span class="hljs-selector-class" style="color: #e8bf6a;">.springframework</span><span class="hljs-selector-class" style="color: #e8bf6a;">.format</span><span class="hljs-selector-class" style="color: #e8bf6a;">.Formatter</span>;
import org<span class="hljs-selector-class" style="color: #e8bf6a;">.springframework</span><span class="hljs-selector-class" style="color: #e8bf6a;">.stereotype</span><span class="hljs-selector-class" style="color: #e8bf6a;">.Component</span>;

import java<span class="hljs-selector-class" style="color: #e8bf6a;">.text</span><span class="hljs-selector-class" style="color: #e8bf6a;">.ParseException</span>;
import java<span class="hljs-selector-class" style="color: #e8bf6a;">.time</span><span class="hljs-selector-class" style="color: #e8bf6a;">.LocalDate</span>;
import java<span class="hljs-selector-class" style="color: #e8bf6a;">.time</span><span class="hljs-selector-class" style="color: #e8bf6a;">.format</span><span class="hljs-selector-class" style="color: #e8bf6a;">.DateTimeFormatter</span>;
import java<span class="hljs-selector-class" style="color: #e8bf6a;">.util</span><span class="hljs-selector-class" style="color: #e8bf6a;">.Locale</span>;

<span class="hljs-variable" style="color: #629755;">@Component</span>
public class LocalDateFormatter implements Formatter&lt;LocalDate&gt; {

    private final DateTimeFormatter dateTimeFormatter = DateTimeFormatter<span class="hljs-selector-class" style="color: #e8bf6a;">.ofPattern</span>(<span class="hljs-string" style="color: #6a8759;">"dd. MMMM, yyyy"</span>);

    <span class="hljs-variable" style="color: #629755;">@Override</span>
    public LocalDate parse(String text, Locale locale) throws ParseException {
        return LocalDate<span class="hljs-selector-class" style="color: #e8bf6a;">.parse</span>(text, dateTimeFormatter);
    }

    <span class="hljs-variable" style="color: #629755;">@Override</span>
    public String print(LocalDate object, Locale locale) {
        return dateTimeFormatter<span class="hljs-selector-class" style="color: #e8bf6a;">.format</span>(object);
    }
}
</pre>
<p>we also need to put the dob and salary table declaration into one more pair of curly braces:</p>
<p><code>            &lt;td th:text="${{person.dob}}"&gt;@mdo&lt;/td&gt;</code><br><code>            &lt;td th:text="${{person.salary}}"&gt;@mdo&lt;/td&gt;</code></p>
<p>If we not rebuild our Project we get beck those values nicely formatted:</p>
<figure class="post__image"><img loading="lazy"  src="https://www.finecloud.ch/media/posts/65/Screenshot-2022-09-21-at-11.10.16-2.png" alt="" width="1442" height="374" sizes="100vw" srcset="https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-11.10.16-2-xs.png 300w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-11.10.16-2-sm.png 480w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-11.10.16-2-md.png 768w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-11.10.16-2-lg.png 1024w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-11.10.16-2-xl.png 1360w ,https://www.finecloud.ch/media/posts/65/responsive/Screenshot-2022-09-21-at-11.10.16-2-2xl.png 1600w"></figure>
<h2 id="mcetoc_1gdk6qb94kl">Introducing Spring Data</h2>
<p>Until now we have worked with very static data. Lets change this by adding real <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" rel="nofollow">CRUD</a> functionality.</p>
<p>Now we're going to introduce the third part of our three tier architecture. And that is the data. Lets create a new package called <em>data</em>. Under the data package, we create a new Java Interfacee called <em>PersonRepository</em> with this content:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.data;

<span class="hljs-keyword" style="color: #cc7832;">import</span> ch.finecloud.peopledbweb.biz.model.Person;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.data.repository.CrudRepository;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.stereotype.Repository;

<span class="hljs-meta" style="color: #bbb529;">@Repository</span>
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">interface</span> <span class="hljs-title" style="color: #ffc66d;">PersonRepository</span> <span class="hljs-keyword" style="color: #cc7832;">extends</span> <span class="hljs-title" style="color: #ffc66d;">CrudRepository</span>&lt;<span class="hljs-title" style="color: #ffc66d;">Person</span>, <span class="hljs-title" style="color: #ffc66d;">Long</span>&gt; </span>{
}
</pre>
<p>The first will be the type of the domain model class that I want this repository to be responsible for or work with, and that would be our person class. The other type, though, which I will separate with a comma. The second type will be the data type of the ID property of the person class, that would be, in our case, long. And then I need to annotate this interface so that when spring is starting up or in this case, spring<br>data is starting up. It can scan through all of the classes that I have here, and it will find this interface and know that it should treat this interface as an actual data repository.<br>To do that, we will use another annotation of the spring framework, which is <em>@Repository. </em>That's all I have to do to make a repository with full crud capabilities.<br><br>We need to go into the person class now and make a few little alterations here:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.biz.model;

<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.AllArgsConstructor;
<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.Data;
<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.NoArgsConstructor;

<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.persistence.Entity;
<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.persistence.Id;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.math.BigDecimal;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.time.LocalDate;

<span class="hljs-meta" style="color: #bbb529;">@Data</span>
<span class="hljs-meta" style="color: #bbb529;">@AllArgsConstructor</span>
<span class="hljs-meta" style="color: #bbb529;">@NoArgsConstructor</span>
<span class="hljs-meta" style="color: #bbb529;">@Entity</span>
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">Person</span> </span>{
    <span class="hljs-meta" style="color: #bbb529;">@Id</span>
    <span class="hljs-meta" style="color: #bbb529;">@GeneratedValue</span>
    <span class="hljs-keyword" style="color: #cc7832;">private</span> Long id;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String firstName;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String lastName;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> LocalDate dob;
    <span class="hljs-keyword" style="color: #cc7832;">private</span> BigDecimal salary;
}
</pre>
<p>Lets create a Class to load the Persons:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.data;

<span class="hljs-keyword" style="color: #cc7832;">import</span> ch.finecloud.peopledbweb.biz.model.Person;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.boot.ApplicationArguments;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.boot.ApplicationRunner;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword" style="color: #cc7832;">import</span> java.math.BigDecimal;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.time.LocalDate;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.util.List;

<span class="hljs-meta" style="color: #bbb529;">@Component</span>
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">PersonDataLoader</span> <span class="hljs-keyword" style="color: #cc7832;">implements</span> <span class="hljs-title" style="color: #ffc66d;">ApplicationRunner</span> </span>{

    <span class="hljs-keyword" style="color: #cc7832;">private</span> PersonRepository personRepository;

    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-title" style="color: #ffc66d;">PersonDataLoader</span><span class="hljs-params">(PersonRepository personRepository)</span> </span>{
        <span class="hljs-keyword" style="color: #cc7832;">this</span>.personRepository = personRepository;
    }

    <span class="hljs-meta" style="color: #bbb529;">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-keyword" style="color: #cc7832;">void</span> <span class="hljs-title" style="color: #ffc66d;">run</span><span class="hljs-params">(ApplicationArguments args)</span> <span class="hljs-keyword" style="color: #cc7832;">throws</span> Exception </span>{
        <span class="hljs-keyword" style="color: #cc7832;">if</span> (personRepository.count() == <span class="hljs-number" style="color: #6897bb;">0</span>) {
            List&lt;Person&gt; people = List.of(
                    <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-keyword" style="color: #cc7832;">null</span>, <span class="hljs-string" style="color: #6a8759;">"Pete"</span>, <span class="hljs-string" style="color: #6a8759;">"Snake"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1950</span>, <span class="hljs-number" style="color: #6897bb;">1</span>, <span class="hljs-number" style="color: #6897bb;">8</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">50000</span>)),
                    <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-keyword" style="color: #cc7832;">null</span>, <span class="hljs-string" style="color: #6a8759;">"Jennifer"</span>, <span class="hljs-string" style="color: #6a8759;">"Smith"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1960</span>, <span class="hljs-number" style="color: #6897bb;">2</span>, <span class="hljs-number" style="color: #6897bb;">7</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">60000</span>)),
                    <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-keyword" style="color: #cc7832;">null</span>, <span class="hljs-string" style="color: #6a8759;">"Mark"</span>, <span class="hljs-string" style="color: #6a8759;">"Jackson"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1970</span>, <span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">6</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">70000</span>)),
                    <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-keyword" style="color: #cc7832;">null</span>, <span class="hljs-string" style="color: #6a8759;">"Vishnu"</span>, <span class="hljs-string" style="color: #6a8759;">"Norris"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1971</span>, <span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">6</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">70000</span>)),
                    <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-keyword" style="color: #cc7832;">null</span>, <span class="hljs-string" style="color: #6a8759;">"Alice"</span>, <span class="hljs-string" style="color: #6a8759;">"Jane"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1972</span>, <span class="hljs-number" style="color: #6897bb;">3</span>, <span class="hljs-number" style="color: #6897bb;">6</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">70000</span>)),
                    <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(<span class="hljs-keyword" style="color: #cc7832;">null</span>, <span class="hljs-string" style="color: #6a8759;">"Daniel"</span>, <span class="hljs-string" style="color: #6a8759;">"Norris"</span>, LocalDate.of(<span class="hljs-number" style="color: #6897bb;">1980</span>, <span class="hljs-number" style="color: #6897bb;">4</span>, <span class="hljs-number" style="color: #6897bb;">5</span>), <span class="hljs-keyword" style="color: #cc7832;">new</span> BigDecimal(<span class="hljs-number" style="color: #6897bb;">80000</span>))
            );
            personRepository.saveAll(people);
        }
    }
}
</pre>
<p>we also need to modify our <em>PeopleController</em>:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.web.controller;

<span class="hljs-keyword" style="color: #cc7832;">import</span> ch.finecloud.peopledbweb.biz.model.Person;
<span class="hljs-keyword" style="color: #cc7832;">import</span> ch.finecloud.peopledbweb.data.PersonRepository;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.GetMapping;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.ModelAttribute;
<span class="hljs-keyword" style="color: #cc7832;">import</span> org.springframework.web.bind.annotation.RequestMapping;

<span class="hljs-meta" style="color: #bbb529;">@Controller</span>
<span class="hljs-meta" style="color: #bbb529;">@RequestMapping</span>(<span class="hljs-string" style="color: #6a8759;">"/people"</span>)
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">PeopleController</span> </span>{

    <span class="hljs-keyword" style="color: #cc7832;">private</span> PersonRepository personRepository;

    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-title" style="color: #ffc66d;">PeopleController</span><span class="hljs-params">(PersonRepository personRepository)</span> </span>{
        <span class="hljs-keyword" style="color: #cc7832;">this</span>.personRepository = personRepository;
    }

    <span class="hljs-meta" style="color: #bbb529;">@ModelAttribute</span>(<span class="hljs-string" style="color: #6a8759;">"people"</span>)
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> Iterable&lt;Person&gt; <span class="hljs-title" style="color: #ffc66d;">getPeople</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword" style="color: #cc7832;">return</span> personRepository.findAll();
    }
    <span class="hljs-meta" style="color: #bbb529;">@GetMapping</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">public</span> String <span class="hljs-title" style="color: #ffc66d;">showPeoplePage</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-string" style="color: #6a8759;">"people"</span>;
    }
}
</pre>
<h2 id="mcetoc_1gdkdrmqkla">Saving a Person</h2>
<p>To provide the function to also add new Persons, we first need to create a form in the WebUI to create new People Records:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-meta" style="color: #bbb529;">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string" style="color: #6a8759;">"en"</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string" style="color: #6a8759;">"http://www.thymeleaf.org"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string" style="color: #6a8759;">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string" style="color: #6a8759;">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string" style="color: #6a8759;">"width=device-width, initial-scale=1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>People<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string" style="color: #6a8759;">"https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string" style="color: #6a8759;">"stylesheet"</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string" style="color: #6a8759;">"sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string" style="color: #6a8759;">"anonymous"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string" style="color: #6a8759;">"https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string" style="color: #6a8759;">"sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string" style="color: #6a8759;">"anonymous"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"col-md-8 col-sm-10 mx-auto mt-5 my-5"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">h2</span>&gt;</span>People List<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"table table-bordered table-sm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>Last Name<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>First Name<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>DOB<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>EMail<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"col"</span>&gt;</span>Salary<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tbody</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tr</span> <span class="hljs-attr">th:if</span>=<span class="hljs-string" style="color: #6a8759;">"${#lists.isEmpty(people)}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string" style="color: #6a8759;">"6"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"text-center"</span>&gt;</span>No Data<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">tr</span> <span class="hljs-attr">th:each</span>=<span class="hljs-string" style="color: #6a8759;">"person : ${people}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string" style="color: #6a8759;">"row"</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${person.id}"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${person.lastName}"</span>&gt;</span>Mark<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${person.firstName}"</span>&gt;</span>Otto<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${{person.dob}}"</span>&gt;</span>@mdo<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${person.email}"</span>&gt;</span>Otto<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">td</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string" style="color: #6a8759;">"${{person.salary}}"</span>&gt;</span>@mdo<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">table</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">h2</span>&gt;</span>Person Form<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">h2</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">form</span> <span class="hljs-attr">th:object</span>=<span class="hljs-string" style="color: #6a8759;">"${person}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string" style="color: #6a8759;">"post"</span> <span class="hljs-attr">novalidate</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"mb-3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string" style="color: #6a8759;">"firstName"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-label"</span>&gt;</span>First Name<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string" style="color: #6a8759;">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"firstName"</span> <span class="hljs-attr">th:field</span>=<span class="hljs-string" style="color: #6a8759;">"*{firstName}"</span> <span class="hljs-attr">th:errorclass</span>=<span class="hljs-string" style="color: #6a8759;">"is-invalid"</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string" style="color: #6a8759;">"firstNameHelp"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"validationFirstName"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"invalid-feedback"</span> <span class="hljs-attr">th:errors</span>=<span class="hljs-string" style="color: #6a8759;">"*{firstName}"</span>&gt;</span>
            Please choose a username.
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"mb-3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string" style="color: #6a8759;">"lastName"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-label"</span>&gt;</span>Last Name<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string" style="color: #6a8759;">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"lastName"</span> <span class="hljs-attr">th:field</span>=<span class="hljs-string" style="color: #6a8759;">"*{lastName}"</span> <span class="hljs-attr">th:errorclass</span>=<span class="hljs-string" style="color: #6a8759;">"is-invalid"</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string" style="color: #6a8759;">"lastNameHelp"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"validationLastName"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"invalid-feedback"</span> <span class="hljs-attr">th:errors</span>=<span class="hljs-string" style="color: #6a8759;">"*{lastName}"</span>&gt;</span>
            Please choose a username.
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"mb-3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string" style="color: #6a8759;">"dob"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-label"</span>&gt;</span>Date of Birth<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string" style="color: #6a8759;">"date"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"dob"</span> <span class="hljs-attr">th:field</span>=<span class="hljs-string" style="color: #6a8759;">"*{dob}"</span> <span class="hljs-attr">th:errorclass</span>=<span class="hljs-string" style="color: #6a8759;">"is-invalid"</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string" style="color: #6a8759;">"dobHelp"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"validationDOB"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"invalid-feedback"</span> <span class="hljs-attr">th:errors</span>=<span class="hljs-string" style="color: #6a8759;">"*{dob}"</span>&gt;</span>
            Please choose a username.
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"mb-3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string" style="color: #6a8759;">"email"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-label"</span>&gt;</span>Email address<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string" style="color: #6a8759;">"email"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"email"</span> <span class="hljs-attr">th:field</span>=<span class="hljs-string" style="color: #6a8759;">"*{email}"</span> <span class="hljs-attr">th:errorclass</span>=<span class="hljs-string" style="color: #6a8759;">"is-invalid"</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string" style="color: #6a8759;">"emailHelp"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"validationEmail"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"invalid-feedback"</span> <span class="hljs-attr">th:errors</span>=<span class="hljs-string" style="color: #6a8759;">"*{email}"</span>&gt;</span>
            Please choose a username.
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"mb-3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string" style="color: #6a8759;">"salary"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-label"</span>&gt;</span>Salary<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string" style="color: #6a8759;">"number"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"salary"</span> <span class="hljs-attr">th:field</span>=<span class="hljs-string" style="color: #6a8759;">"*{salary}"</span> <span class="hljs-attr">th:errorclass</span>=<span class="hljs-string" style="color: #6a8759;">"is-invalid"</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string" style="color: #6a8759;">"salaryHelp"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string" style="color: #6a8759;">"validationSalary"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"invalid-feedback"</span> <span class="hljs-attr">th:errors</span>=<span class="hljs-string" style="color: #6a8759;">"*{salary}"</span>&gt;</span>
            Please choose a username.
        <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: #e8bf6a;">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string" style="color: #6a8759;">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string" style="color: #6a8759;">"btn btn-primary"</span>&gt;</span>Save Person<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: #e8bf6a;">html</span>&gt;</span></pre>
<p>lets also perform some validation of the entered data:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">package</span> ch.finecloud.peopledbweb.biz.model;

<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.AllArgsConstructor;
<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.Data;
<span class="hljs-keyword" style="color: #cc7832;">import</span> lombok.NoArgsConstructor;

<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.persistence.Entity;
<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.persistence.Id;
<span class="hljs-keyword" style="color: #cc7832;">import</span> javax.validation.constraints.*;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.math.BigDecimal;
<span class="hljs-keyword" style="color: #cc7832;">import</span> java.time.LocalDate;

<span class="hljs-meta" style="color: #bbb529;">@Data</span>
<span class="hljs-meta" style="color: #bbb529;">@AllArgsConstructor</span>
<span class="hljs-meta" style="color: #bbb529;">@NoArgsConstructor</span>
<span class="hljs-meta" style="color: #bbb529;">@Entity</span>
<span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="color: #cc7832;">class</span> <span class="hljs-title" style="color: #ffc66d;">Person</span> </span>{
    <span class="hljs-meta" style="color: #bbb529;">@Id</span>
    <span class="hljs-meta" style="color: #bbb529;">@GeneratedValue</span>
    <span class="hljs-keyword" style="color: #cc7832;">private</span> Long id;

    <span class="hljs-meta" style="color: #bbb529;">@NotEmpty</span>(message = <span class="hljs-string" style="color: #6a8759;">"First name can not be empty"</span>)
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String firstName;

    <span class="hljs-meta" style="color: #bbb529;">@NotEmpty</span>(message = <span class="hljs-string" style="color: #6a8759;">"Last name can not be empty"</span>)
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String lastName;

    <span class="hljs-meta" style="color: #bbb529;">@Past</span>(message = <span class="hljs-string" style="color: #6a8759;">"Date of Birth must be in the Past"</span>)
    <span class="hljs-meta" style="color: #bbb529;">@NotNull</span>(message = <span class="hljs-string" style="color: #6a8759;">"Date of Birth can not be empty"</span>)
    <span class="hljs-keyword" style="color: #cc7832;">private</span> LocalDate dob;

    <span class="hljs-meta" style="color: #bbb529;">@Email</span>(message = <span class="hljs-string" style="color: #6a8759;">"Email must be valid"</span>)
    <span class="hljs-meta" style="color: #bbb529;">@NotEmpty</span>(message = <span class="hljs-string" style="color: #6a8759;">"Email can not be empty"</span>)
    <span class="hljs-keyword" style="color: #cc7832;">private</span> String email;

    <span class="hljs-meta" style="color: #bbb529;">@DecimalMin</span>(value = <span class="hljs-string" style="color: #6a8759;">"1000.00"</span>, message = <span class="hljs-string" style="color: #6a8759;">"Salary must be at least 1000.00"</span>)
    <span class="hljs-meta" style="color: #bbb529;">@NotNull</span>(message = <span class="hljs-string" style="color: #6a8759;">"salary can not be empty"</span>)
    <span class="hljs-keyword" style="color: #cc7832;">private</span> BigDecimal salary;
}

</pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Java and databases use SQL joins</title>
        <author>
            <name>Finecloud</name>
        </author>
        <link href="https://www.finecloud.ch/java-and-databases-use-sql-joins.html"/>
        <id>https://www.finecloud.ch/java-and-databases-use-sql-joins.html</id>
            <category term="sql"/>
            <category term="software development"/>
            <category term="java basics"/>
            <category term="java"/>
            <category term="dev"/>
            <category term="database"/>

        <updated>2022-09-13T11:41:52+02:00</updated>
            <summary>
                <![CDATA[
                    Introduction Let's imagine we have two Tables now, people and addresses. We want to find out how many people live at the same address. This is our current Java and SQL approach: repository/PeopleRepository.java @Override @SQL(value = FIND_BY_ID_SQL, operationType = CrudOperation.FIND_BY_ID) @SQL(value = FIND_ALL_SQL, operationType =&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <div class="post__toc">
<h3>Table of Contents</h3>
<ul>
<li><a href="#mcetoc_1gcir99tn29">Introduction</a></li>
<li><a href="#mcetoc_1gcir99tn2a">What is a SQL JOIN</a></li>
<li><a href="#mcetoc_1gcitc0o233">How does it work</a></li>
</ul>
</div>
<h2 id="mcetoc_1gcir99tn29">Introduction</h2>
<p>Let's imagine we have two Tables now, people and addresses. We want to find out how many people live at the same address. This is our current Java and SQL approach:</p>
<p>repository/PeopleRepository.java</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">    <span class="hljs-meta" style="color: #bbb529;">@Override</span>
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = FIND_BY_ID_SQL, operationType = CrudOperation.FIND_BY_ID)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = FIND_ALL_SQL, operationType = CrudOperation.FIND_ALL)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = SELECT_COUNT_SQL, operationType =  CrudOperation.COUNT)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = DELETE_IN_SQL, operationType = CrudOperation.DELETE_MANY)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = DELETE_SQL, operationType = CrudOperation.DELETE_ONE)
    <span class="hljs-function">Person <span class="hljs-title" style="color: #ffc66d;">extractEntityFromResultSet</span><span class="hljs-params">(ResultSet rs)</span> <span class="hljs-keyword" style="color: #cc7832;">throws</span> SQLException </span>{
        <span class="hljs-keyword" style="color: #cc7832;">long</span> personID = rs.getLong(<span class="hljs-string" style="color: #6a8759;">"ID"</span>);
        String firstName = rs.getString(<span class="hljs-string" style="color: #6a8759;">"FIRST_NAME"</span>);
        String lastName = rs.getString(<span class="hljs-string" style="color: #6a8759;">"LAST_NAME"</span>);
        ZonedDateTime dob = ZonedDateTime.of(rs.getTimestamp(<span class="hljs-string" style="color: #6a8759;">"DOB"</span>).toLocalDateTime(), ZoneId.of(<span class="hljs-string" style="color: #6a8759;">"+0"</span>));
        BigDecimal salary = rs.getBigDecimal(<span class="hljs-string" style="color: #6a8759;">"SALARY"</span>);
        <span class="hljs-keyword" style="color: #cc7832;">long</span> homeAddressId = rs.getLong(<span class="hljs-string" style="color: #6a8759;">"HOME_ADDRESS"</span>);
        Optional&lt;Address&gt; homeAddress = addressRepository.findById(homeAddressId);
        Person person = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(personID, firstName, lastName, dob, salary);
        person.setHomeAddress(homeAddress.orElse(<span class="hljs-keyword" style="color: #cc7832;">null</span>));
        <span class="hljs-keyword" style="color: #cc7832;">return</span> person;
    }</pre>
<p>repository/AddressRepository.java</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">    <span class="hljs-meta" style="color: #bbb529;">@Override</span>
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(operationType = CrudOperation.FIND_BY_ID, value= <span class="hljs-string" style="color: #6a8759;">""</span><span class="hljs-string" style="color: #6a8759;">"
            SELECT ID, STREET_ADDRESS, ADDRESS2, CITY, STATE, POSTCODE, COUNTY, REGION, COUNTRY
            FROM ADDRESSES
            WHERE ID = ?
            "</span><span class="hljs-string" style="color: #6a8759;">""</span>)
    <span class="hljs-function">Address <span class="hljs-title" style="color: #ffc66d;">extractEntityFromResultSet</span><span class="hljs-params">(ResultSet rs)</span> <span class="hljs-keyword" style="color: #cc7832;">throws</span> SQLException </span>{
        <span class="hljs-keyword" style="color: #cc7832;">long</span> id = rs.getLong(<span class="hljs-string" style="color: #6a8759;">"ID"</span>);
        String streetAddress = rs.getString(<span class="hljs-string" style="color: #6a8759;">"STREET_ADDRESS"</span>);
        String address2 = rs.getString(<span class="hljs-string" style="color: #6a8759;">"ADDRESS2"</span>);
        String city = rs.getString(<span class="hljs-string" style="color: #6a8759;">"CITY"</span>);
        String state = rs.getString(<span class="hljs-string" style="color: #6a8759;">"STATE"</span>);
        String postcode = rs.getString(<span class="hljs-string" style="color: #6a8759;">"POSTCODE"</span>);
        String county = rs.getString(<span class="hljs-string" style="color: #6a8759;">"COUNTY"</span>);
        Region region = Region.valueOf(rs.getString(<span class="hljs-string" style="color: #6a8759;">"REGION"</span>).toUpperCase());
        String country = rs.getString(<span class="hljs-string" style="color: #6a8759;">"COUNTRY"</span>);
        Address address = <span class="hljs-keyword" style="color: #cc7832;">new</span> Address(id, streetAddress, address2, city, state, postcode, county, country, region);
        <span class="hljs-keyword" style="color: #cc7832;">return</span> address;
    }</pre>
<p>The problem with this current approve, is that we would need two SQL queries for each person record, one to get the Person and one to get the address. Since Java methods to retrieve data from an SQL DB are declared as expensive operation in terms of time and performance efficiency this is not a good approach. So how could we optimize this?</p>
<p>One possible answer to this problem are making use of SQL JOIN.</p>
<h2 id="mcetoc_1gcir99tn2a">What is a SQL JOIN</h2>
<p>A JOIN combines records from two tables. JOIN matches related column values in two tables. A query can contain zero, one, or multiple JOIN operations. You can already imagine that this allows us to retrieve all our wanted data by just one SQL JOIN query.</p>
<h2 id="mcetoc_1gcitc0o233">How does it work</h2>
<p>Let's look at some sample data:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">SELECT</span> * <span class="hljs-keyword" style="color: #cc7832;">FROM</span> PEOPLE <span class="hljs-keyword" style="color: #cc7832;">WHERE</span> HOME_ADDRESS = <span class="hljs-number" style="color: #6897bb;">2</span>;</pre>
<p>output: </p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">     <span class="hljs-comment" style="color: grey;">ID</span>  <span class="hljs-comment" style="color: grey;">FIRST_NAME</span>  <span class="hljs-comment" style="color: grey;">LAST_NAME</span>           <span class="hljs-comment" style="color: grey;">DOB</span>           <span class="hljs-comment" style="color: grey;">SALARY</span>  <span class="hljs-comment" style="color: grey;">DELETE_FLAG</span>  <span class="hljs-comment" style="color: grey;">EMAIL</span>   <span class="hljs-comment" style="color: grey;">HOME_ADDRESS</span>
<span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>
<span class="hljs-comment" style="color: grey;">5001254</span>  <span class="hljs-comment" style="color: grey;">jooonyy</span>     <span class="hljs-comment" style="color: grey;">Smith</span>      <span class="hljs-comment" style="color: grey;">1982</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-comment" style="color: grey;">09</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-comment" style="color: grey;">13</span> <span class="hljs-comment" style="color: grey;">00:51:54</span><span class="hljs-string" style="color: #6a8759;">.</span><span class="hljs-comment" style="color: grey;">0</span>       <span class="hljs-comment" style="color: grey;">0</span>  &lt;<span class="hljs-comment" style="color: grey;">null</span>&gt;       &lt;<span class="hljs-comment" style="color: grey;">null</span>&gt;             <span class="hljs-comment" style="color: grey;">2</span></pre>
<p>as we can see this record has the address foreign key  2 and if we query for this record, we get this output:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">SELECT</span> * <span class="hljs-keyword" style="color: #cc7832;">FROM</span> ADDRESSES <span class="hljs-keyword" style="color: #cc7832;">WHERE</span> <span class="hljs-keyword" style="color: #cc7832;">ID</span> = <span class="hljs-number" style="color: #6897bb;">2</span>;</pre>
<p>output: </p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">ID</span>  <span class="hljs-comment" style="color: grey;">STREET_ADDRESS</span>  <span class="hljs-comment" style="color: grey;">ADDRESS2</span>  <span class="hljs-comment" style="color: grey;">CITY</span>       <span class="hljs-comment" style="color: grey;">STATE</span>  <span class="hljs-comment" style="color: grey;">POSTCODE</span>  <span class="hljs-comment" style="color: grey;">COUNTY</span>         <span class="hljs-comment" style="color: grey;">REGION</span>  <span class="hljs-comment" style="color: grey;">COUNTRY</span>      
<span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>
 <span class="hljs-comment" style="color: grey;">2</span>  <span class="hljs-comment" style="color: grey;">123</span> <span class="hljs-comment" style="color: grey;">Bale</span> <span class="hljs-comment" style="color: grey;">St</span><span class="hljs-string" style="color: #6a8759;">.</span>    <span class="hljs-comment" style="color: grey;">Apt</span><span class="hljs-string" style="color: #6a8759;">.</span> <span class="hljs-comment" style="color: grey;">1A</span>   <span class="hljs-comment" style="color: grey;">Wala</span> <span class="hljs-comment" style="color: grey;">Wala</span>  <span class="hljs-comment" style="color: grey;">WA</span>     <span class="hljs-comment" style="color: grey;">90210</span>     <span class="hljs-comment" style="color: grey;">Fulton</span> <span class="hljs-comment" style="color: grey;">County</span>  <span class="hljs-comment" style="color: grey;">WEST</span>    <span class="hljs-comment" style="color: grey;">United</span> <span class="hljs-comment" style="color: grey;">States</span></pre>
<p>Now, when we are joining multiple tables together, it is very common to make use of something called table aliases. And that's where we can simply give our tables and additional name or alias that we can use to refer to those individual tables columns.<br><br>The reason for this is because when you're joining two or more tables together, some of the columns of those tables may have the same names. So, for example, our people table has an ID column, so does our addresses table. So if you wanted to be able to retrieve various information from either of those particular columns, how could you specify which ID column you're talking about? The people one or the addresses one?Well, you can prefix the ID column of either of these tables with an alias.<br><br>So let's see how that would look like:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">SELECT</span> * <span class="hljs-keyword" style="color: #cc7832;">FROM</span> PEOPLE <span class="hljs-keyword" style="color: #cc7832;">AS</span> PEOPLE <span class="hljs-keyword" style="color: #cc7832;">JOIN</span> ADDRESSES <span class="hljs-keyword" style="color: #cc7832;">AS</span> ADDRESS <span class="hljs-keyword" style="color: #cc7832;">ON</span> PEOPLE.HOME_ADDRESS = ADDRESS.ID;</pre>
<p>output:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">     <span class="hljs-comment" style="color: grey;">ID</span>  <span class="hljs-comment" style="color: grey;">FIRST_NAME</span>  <span class="hljs-comment" style="color: grey;">LAST_NAME</span>           <span class="hljs-comment" style="color: grey;">DOB</span>           <span class="hljs-comment" style="color: grey;">SALARY</span>  <span class="hljs-comment" style="color: grey;">DELETE_FLAG</span>  <span class="hljs-comment" style="color: grey;">EMAIL</span>   <span class="hljs-comment" style="color: grey;">HOME_ADDRESS</span>  <span class="hljs-comment" style="color: grey;">ID</span>  <span class="hljs-comment" style="color: grey;">STREET_ADDRESS</span>  <span class="hljs-comment" style="color: grey;">ADDRESS2</span>  <span class="hljs-comment" style="color: grey;">CITY</span>       <span class="hljs-comment" style="color: grey;">STATE</span>  <span class="hljs-comment" style="color: grey;">POSTCODE</span>  <span class="hljs-comment" style="color: grey;">COUNTY</span>         <span class="hljs-comment" style="color: grey;">REGION</span>  <span class="hljs-comment" style="color: grey;">COUNTRY</span>      
<span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>
<span class="hljs-comment" style="color: grey;">5001254</span>  <span class="hljs-comment" style="color: grey;">jooonyy</span>     <span class="hljs-comment" style="color: grey;">Smith</span>      <span class="hljs-comment" style="color: grey;">1982</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-comment" style="color: grey;">09</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-comment" style="color: grey;">13</span> <span class="hljs-comment" style="color: grey;">00:51:54</span><span class="hljs-string" style="color: #6a8759;">.</span><span class="hljs-comment" style="color: grey;">0</span>       <span class="hljs-comment" style="color: grey;">0</span>  &lt;<span class="hljs-comment" style="color: grey;">null</span>&gt;       &lt;<span class="hljs-comment" style="color: grey;">null</span>&gt;             <span class="hljs-comment" style="color: grey;">2</span>   <span class="hljs-comment" style="color: grey;">2</span>  <span class="hljs-comment" style="color: grey;">123</span> <span class="hljs-comment" style="color: grey;">Bale</span> <span class="hljs-comment" style="color: grey;">St</span><span class="hljs-string" style="color: #6a8759;">.</span>    <span class="hljs-comment" style="color: grey;">Apt</span><span class="hljs-string" style="color: #6a8759;">.</span> <span class="hljs-comment" style="color: grey;">1A</span>   <span class="hljs-comment" style="color: grey;">Wala</span> <span class="hljs-comment" style="color: grey;">Wala</span>  <span class="hljs-comment" style="color: grey;">WA</span>     <span class="hljs-comment" style="color: grey;">90210</span>     <span class="hljs-comment" style="color: grey;">Fulton</span> <span class="hljs-comment" style="color: grey;">County</span>  <span class="hljs-comment" style="color: grey;">WEST</span>    <span class="hljs-comment" style="color: grey;">United</span> <span class="hljs-comment" style="color: grey;">States</span></pre>
<p>It's one result set row that's combining all of the columns of the people table with all the columns of the address table for this one person. You may be wondering why did we only get one row because we didn't say anything like where home address equals four or something like that. So why did we only get one row? Well, the reason we only got one row in this particular case is because of the type of joint that is executing here. And this particular, joined by default, is what's known as an inner join. All an inner join is is that there has to be a match that satisfies this expression here on both tables, in order for a result set to be returned. Since there's only one record in the people table that has a foreign key that points to an address, and there's only one address that is being used by the people table, we only got back one result set in this particular case.<br><br>However, what if we wanted to be able to retrieve any or all people, whether or not they have a home address specified? And in fact, for our purposes in our code, that's exactly what we're going to need because when we find a person by ID, they might have an address and they might not. We don't want them to not show up just because they did not have an address. So to make that work, that's where we have to perform the left outer join, so that we can make sure that regardless of whether or not there's an address being pointed to, we always get back all of the people that we're looking for. So to do that, all we have to do is specify that we want a left outer join.</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">SELECT</span> * <span class="hljs-keyword" style="color: #cc7832;">FROM</span> PEOPLE <span class="hljs-keyword" style="color: #cc7832;">AS</span> PEOPLE <span class="hljs-keyword" style="color: #cc7832;">LEFT</span> <span class="hljs-keyword" style="color: #cc7832;">OUTER</span> <span class="hljs-keyword" style="color: #cc7832;">JOIN</span> ADDRESSES <span class="hljs-keyword" style="color: #cc7832;">AS</span> ADDRESS <span class="hljs-keyword" style="color: #cc7832;">ON</span> PEOPLE.HOME_ADDRESS = ADDRESS.ID <span class="hljs-keyword" style="color: #cc7832;">FETCH</span> <span class="hljs-keyword" style="color: #cc7832;">FIRST</span> <span class="hljs-number" style="color: #6897bb;">10</span> <span class="hljs-keyword" style="color: #cc7832;">ROWS</span> <span class="hljs-keyword" style="color: #cc7832;">ONLY</span>;</pre>
<p>output:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">ID  FIRST_NAME  LAST_NAME           DOB           SALARY  DELETE_FLAG  EMAIL   HOME_ADDRESS      ID  STREET_ADDRESS  ADDRESS2  CITY    STATE   POSTCODE  COUNTY  REGION  COUNTRY
<span class="hljs-comment" style="color: grey;">--  ----------  ---------  ---------------------  ------  -----------  ------  ------------  ------  --------------  --------  ------  ------  --------  ------  ------  -------</span>
<span class="hljs-number" style="color: #6897bb;">12</span>  Harry       Jonson     <span class="hljs-number" style="color: #6897bb;">1950</span><span class="hljs-number" style="color: #6897bb;">-03</span><span class="hljs-number" style="color: #6897bb;">-15</span> <span class="hljs-number" style="color: #6897bb;">10</span>:<span class="hljs-number" style="color: #6897bb;">45</span>:<span class="hljs-number" style="color: #6897bb;">10.0</span>  <span class="hljs-number" style="color: #6897bb;">100000</span>  <span class="hljs-literal" style="color: #6897bb;">false</span>        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">14</span>  Jack        Jonson     <span class="hljs-number" style="color: #6897bb;">2000</span><span class="hljs-number" style="color: #6897bb;">-01</span><span class="hljs-number" style="color: #6897bb;">-10</span> <span class="hljs-number" style="color: #6897bb;">08</span>:<span class="hljs-number" style="color: #6897bb;">45</span>:<span class="hljs-number" style="color: #6897bb;">10.0</span>   <span class="hljs-number" style="color: #6897bb;">50000</span>  <span class="hljs-literal" style="color: #6897bb;">false</span>        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">15</span>  Mary        Jonson     <span class="hljs-number" style="color: #6897bb;">2005</span><span class="hljs-number" style="color: #6897bb;">-05</span><span class="hljs-number" style="color: #6897bb;">-13</span> <span class="hljs-number" style="color: #6897bb;">17</span>:<span class="hljs-number" style="color: #6897bb;">30</span>:<span class="hljs-number" style="color: #6897bb;">10.0</span>   <span class="hljs-number" style="color: #6897bb;">20000</span>  <span class="hljs-literal" style="color: #6897bb;">false</span>        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">16</span>  Sabrina     Jonson     <span class="hljs-number" style="color: #6897bb;">1951</span><span class="hljs-number" style="color: #6897bb;">-10</span><span class="hljs-number" style="color: #6897bb;">-31</span> <span class="hljs-number" style="color: #6897bb;">19</span>:<span class="hljs-number" style="color: #6897bb;">13</span>:<span class="hljs-number" style="color: #6897bb;">43.0</span>  <span class="hljs-number" style="color: #6897bb;">200000</span>  <span class="hljs-literal" style="color: #6897bb;">false</span>        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">18</span>  Jake        Smith      <span class="hljs-number" style="color: #6897bb;">1970</span><span class="hljs-number" style="color: #6897bb;">-10</span><span class="hljs-number" style="color: #6897bb;">-31</span> <span class="hljs-number" style="color: #6897bb;">19</span>:<span class="hljs-number" style="color: #6897bb;">13</span>:<span class="hljs-number" style="color: #6897bb;">43.0</span>   <span class="hljs-number" style="color: #6897bb;">75000</span>  <span class="hljs-literal" style="color: #6897bb;">true</span>         &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">19</span>  John        Smith      <span class="hljs-number" style="color: #6897bb;">1980</span><span class="hljs-number" style="color: #6897bb;">-11</span><span class="hljs-number" style="color: #6897bb;">-15</span> <span class="hljs-number" style="color: #6897bb;">21</span>:<span class="hljs-number" style="color: #6897bb;">15</span>:<span class="hljs-number" style="color: #6897bb;">00.0</span>  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;       &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">20</span>  John        Smith      <span class="hljs-number" style="color: #6897bb;">1980</span><span class="hljs-number" style="color: #6897bb;">-11</span><span class="hljs-number" style="color: #6897bb;">-15</span> <span class="hljs-number" style="color: #6897bb;">21</span>:<span class="hljs-number" style="color: #6897bb;">15</span>:<span class="hljs-number" style="color: #6897bb;">00.0</span>  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;       &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">21</span>  Bobby       Smith      <span class="hljs-number" style="color: #6897bb;">1982</span><span class="hljs-number" style="color: #6897bb;">-09</span><span class="hljs-number" style="color: #6897bb;">-13</span> <span class="hljs-number" style="color: #6897bb;">00</span>:<span class="hljs-number" style="color: #6897bb;">51</span>:<span class="hljs-number" style="color: #6897bb;">54.0</span>  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;       &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">22</span>  John        Smith      <span class="hljs-number" style="color: #6897bb;">1980</span><span class="hljs-number" style="color: #6897bb;">-11</span><span class="hljs-number" style="color: #6897bb;">-15</span> <span class="hljs-number" style="color: #6897bb;">21</span>:<span class="hljs-number" style="color: #6897bb;">15</span>:<span class="hljs-number" style="color: #6897bb;">00.0</span>  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;       &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; 
<span class="hljs-number" style="color: #6897bb;">23</span>  John        Smith      <span class="hljs-number" style="color: #6897bb;">1980</span><span class="hljs-number" style="color: #6897bb;">-11</span><span class="hljs-number" style="color: #6897bb;">-15</span> <span class="hljs-number" style="color: #6897bb;">21</span>:<span class="hljs-number" style="color: #6897bb;">15</span>:<span class="hljs-number" style="color: #6897bb;">00.0</span>  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;       &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;        &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;          &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;    &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt;  &lt;<span class="hljs-literal" style="color: #6897bb;">null</span>&gt; </pre>
<p>But for our situation we need something like this:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-keyword" style="color: #cc7832;">SELECT</span> P.FIRST_NAME,P.LAST_NAME,A.STREET_ADDRESS,A.CITY <span class="hljs-keyword" style="color: #cc7832;">FROM</span> PEOPLE <span class="hljs-keyword" style="color: #cc7832;">AS</span> P <span class="hljs-keyword" style="color: #cc7832;">LEFT</span> <span class="hljs-keyword" style="color: #cc7832;">OUTER</span> <span class="hljs-keyword" style="color: #cc7832;">JOIN</span> ADDRESSES <span class="hljs-keyword" style="color: #cc7832;">AS</span> A <span class="hljs-keyword" style="color: #cc7832;">ON</span> P.HOME_ADDRESS = A.ID <span class="hljs-keyword" style="color: #cc7832;">WHERE</span> P.ID = <span class="hljs-number" style="color: #6897bb;">5001254</span>;</pre>
<p>output:</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">FIRST_NAME</span>  <span class="hljs-comment" style="color: grey;">LAST_NAME</span>  <span class="hljs-comment" style="color: grey;">STREET_ADDRESS</span>  <span class="hljs-comment" style="color: grey;">CITY</span>     
<span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>  <span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span><span class="hljs-literal" style="color: #6897bb;">-</span>
<span class="hljs-comment" style="color: grey;">jooonyy</span>     <span class="hljs-comment" style="color: grey;">Smith</span>      <span class="hljs-comment" style="color: grey;">123</span> <span class="hljs-comment" style="color: grey;">Bale</span> <span class="hljs-comment" style="color: grey;">St</span><span class="hljs-string" style="color: #6a8759;">.</span>    <span class="hljs-comment" style="color: grey;">Wala</span> <span class="hljs-comment" style="color: grey;">Wala</span></pre>
<p>Lets have a look how this will finally look like in our Java code:</p>
<p>repository/PeopleRepository.java</p>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">    <span class="hljs-keyword" style="color: #cc7832;">public</span> <span class="hljs-keyword" style="color: #cc7832;">static</span> <span class="hljs-keyword" style="color: #cc7832;">final</span> String FIND_BY_ID_SQL = <span class="hljs-string" style="color: #6a8759;">""</span><span class="hljs-string" style="color: #6a8759;">"
        SELECT 
        P.ID, P.FIRST_NAME, P.LAST_NAME, P.DOB, P.SALARY, P.HOME_ADDRESS,
        HOME.ID as HOME_ID, HOME.STREET_ADDRESS as HOME_STREET_ADDRESS, HOME.ADDRESS2 as HOME_ADDRESS2, HOME.CITY as HOME_CITY, HOME.STATE as HOME_STATE, HOME.POSTCODE as HOME_POSTCODE, HOME.COUNTY as HOME_COUNTY, HOME.REGION as HOME_REGION, HOME.COUNTRY as HOME_COUNTRY,
        BIZ.ID as BIZ_ID, BIZ.STREET_ADDRESS as BIZ_STREET_ADDRESS, BIZ.ADDRESS2 as BIZ_ADDRESS2, BIZ.CITY as BIZ_CITY, BIZ.STATE as BIZ_STATE, BIZ.POSTCODE as BIZ_POSTCODE, BIZ.COUNTY as BIZ_COUNTY, BIZ.REGION as BIZ_REGION, BIZ.COUNTRY as BIZ_COUNTRY,
        FROM PEOPLE AS P
        LEFT OUTER JOIN ADDRESSES AS HOME ON P.HOME_ADDRESS = HOME.ID
        LEFT OUTER JOIN ADDRESSES AS BIZ ON P.BIZ_ADDRESS = BIZ.ID
        WHERE P.ID=?"</span><span class="hljs-string" style="color: #6a8759;">""</span>;</pre>
<pre class="hljs" style="color: #a9b7c6; background: #282b2e none repeat scroll 0% 0%; display: block; overflow-x: auto; padding: 0.5em;">    <span class="hljs-meta" style="color: #bbb529;">@Override</span>
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = FIND_BY_ID_SQL, operationType = CrudOperation.FIND_BY_ID)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = FIND_ALL_SQL, operationType = CrudOperation.FIND_ALL)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = SELECT_COUNT_SQL, operationType =  CrudOperation.COUNT)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = DELETE_IN_SQL, operationType = CrudOperation.DELETE_MANY)
    <span class="hljs-meta" style="color: #bbb529;">@SQL</span>(value = DELETE_SQL, operationType = CrudOperation.DELETE_ONE)
    <span class="hljs-function">Person <span class="hljs-title" style="color: #ffc66d;">extractEntityFromResultSet</span><span class="hljs-params">(ResultSet rs)</span> <span class="hljs-keyword" style="color: #cc7832;">throws</span> SQLException </span>{
        <span class="hljs-keyword" style="color: #cc7832;">long</span> personID = rs.getLong(<span class="hljs-string" style="color: #6a8759;">"ID"</span>);
        String firstName = rs.getString(<span class="hljs-string" style="color: #6a8759;">"FIRST_NAME"</span>);
        String lastName = rs.getString(<span class="hljs-string" style="color: #6a8759;">"LAST_NAME"</span>);
        ZonedDateTime dob = ZonedDateTime.of(rs.getTimestamp(<span class="hljs-string" style="color: #6a8759;">"DOB"</span>).toLocalDateTime(), ZoneId.of(<span class="hljs-string" style="color: #6a8759;">"+0"</span>));
        BigDecimal salary = rs.getBigDecimal(<span class="hljs-string" style="color: #6a8759;">"SALARY"</span>);
<span class="hljs-comment" style="color: grey;">//        long homeAddressId = rs.getLong("HOME_ADDRESS");</span>

        Address homeAddress = extractAddress(rs, <span class="hljs-string" style="color: #6a8759;">"HOME_"</span>);
        Address bizAddress = extractAddress(rs, <span class="hljs-string" style="color: #6a8759;">"BIZ_"</span>);

        Person person = <span class="hljs-keyword" style="color: #cc7832;">new</span> Person(personID, firstName, lastName, dob, salary);
        person.setHomeAddress(homeAddress);
        person.setBusinessAddress(bizAddress);
        <span class="hljs-keyword" style="color: #cc7832;">return</span> person;
    }

    <span class="hljs-function"><span class="hljs-keyword" style="color: #cc7832;">private</span> Address <span class="hljs-title" style="color: #ffc66d;">extractAddress</span><span class="hljs-params">(ResultSet rs, String aliasPrefix)</span> <span class="hljs-keyword" style="color: #cc7832;">throws</span> SQLException </span>{
        Long addrId = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"ID"</span>, rs, Long.class);
        <span class="hljs-keyword" style="color: #cc7832;">if</span> (addrId == <span class="hljs-keyword" style="color: #cc7832;">null</span>) <span class="hljs-keyword" style="color: #cc7832;">return</span> <span class="hljs-keyword" style="color: #cc7832;">null</span>;
        String streetAddress = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"STREET_ADDRESS"</span>, rs, String.class);
        String address2 = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"ADDRESS2"</span>, rs, String.class);
        String city = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"CITY"</span>, rs, String.class);
        String state = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"STATE"</span>, rs, String.class);
        String postcode = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"POSTCODE"</span>, rs, String.class);
        String county = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"COUNTY"</span>, rs, String.class);
        Region region = Region.valueOf(getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"REGION"</span>, rs, String.class).toUpperCase());
        String country = getValueByAlias(aliasPrefix + <span class="hljs-string" style="color: #6a8759;">"COUNTRY"</span>, rs, String.class);
        Address address = <span class="hljs-keyword" style="color: #cc7832;">new</span> Address(addrId, streetAddress, address2, city, state, postcode, country, county, region);
        <span class="hljs-keyword" style="color: #cc7832;">return</span> address;
    }

    <span class="hljs-keyword" style="color: #cc7832;">private</span> &lt;T&gt; <span class="hljs-function">T <span class="hljs-title" style="color: #ffc66d;">getValueByAlias</span><span class="hljs-params">(String alias, ResultSet rs, Class&lt;T&gt; clazz)</span> <span class="hljs-keyword" style="color: #cc7832;">throws</span> SQLException </span>{
        <span class="hljs-keyword" style="color: #cc7832;">int</span> columnCount = rs.getMetaData().getColumnCount();
        <span class="hljs-keyword" style="color: #cc7832;">for</span> (<span class="hljs-keyword" style="color: #cc7832;">int</span> colIdX = <span class="hljs-number" style="color: #6897bb;">1</span>; colIdX &lt; columnCount; colIdX++) {
            <span class="hljs-keyword" style="color: #cc7832;">if</span> (alias.equals(rs.getMetaData().getColumnLabel(colIdX))) {
                <span class="hljs-keyword" style="color: #cc7832;">return</span> (T) rs.getObject(colIdX);
            }
        }
        <span class="hljs-keyword" style="color: #cc7832;">throw</span> <span class="hljs-keyword" style="color: #cc7832;">new</span> SQLException(String.format(<span class="hljs-string" style="color: #6a8759;">"Column not found for alias: '%s'"</span>, alias));
    }</pre>
<p> </p>
            ]]>
        </content>
    </entry>
</feed>
